!function(I){function n(n){for(var g,c,l=n[0],b=n[1],C=n[2],s=0,a=[];s<l.length;s++)c=l[s],e[c]&&a.push(e[c][0]),e[c]=0;for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(I[g]=b[g]);for(i&&i(n);a.length;)a.shift()();return B.push.apply(B,C||[]),t()}function t(){for(var I,n=0;n<B.length;n++){for(var t=B[n],g=!0,l=1;l<t.length;l++){var b=t[l];0!==e[b]&&(g=!1)}g&&(B.splice(n--,1),I=c(c.s=t[0]))}return I}var g={},e={1:0},B=[];function c(n){if(g[n])return g[n].exports;var t=g[n]={i:n,l:!1,exports:{}};return I[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=I,c.c=g,c.d=function(I,n,t){c.o(I,n)||Object.defineProperty(I,n,{configurable:!1,enumerable:!0,get:t})},c.r=function(I){Object.defineProperty(I,"__esModule",{value:!0})},c.n=function(I){var n=I&&I.__esModule?function(){return I.default}:function(){return I};return c.d(n,"a",n),n},c.o=function(I,n){return Object.prototype.hasOwnProperty.call(I,n)},c.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],b=l.push.bind(l);l.push=n,l=l.slice();for(var C=0;C<l.length;C++)n(l[C]);var i=b;B.push([58,0]),t()}({0:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export serializeState */\n/* unused harmony export luminanceItuBt709 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return luminance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return quantizeValue; });\n/* unused harmony export clamp */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return rgba; });\n/* unused harmony export equalize */\n/* unused harmony export referenceTable */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return rgba2hsva; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return rgba2laba; });\n/* unused harmony export wasmRgbaLabaDistance */\n/* unused harmony export wasmRgba2laba */\n/* unused harmony export laba2rgba */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return colorDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return medianCutPalette; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return uniqueColors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return scaleMatrix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return add; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return sub; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return scale; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return contrast; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return brightness; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return gamma; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return getBufferIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return fillBufferPixel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addBufferPixel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return cloneCanvas; });\n/* harmony import */ var constants_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n\nconst serializeState = state => JSON.stringify(state); // https://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color\n// TODO: make formula an enum\n\nconst luminanceItuBt709 = c => 0.2126 * c[0] + 0.7152 * c[1] + 0.0722 * c[2] * (c[3] / 255); // ITU BT.601\n\nconst luminance = c => 0.299 * c[0] + 0.587 * c[1] + 0.114 * c[2] * (c[3] / 255);\nconst quantizeValue = (value, levels) => {\n  const step = 255 / (levels - 1);\n  const bucket = Math.round(value / step);\n  return Math.round(bucket * step);\n};\nconst clamp = (min, max, value) => Math.max(min, Math.min(max, value));\nconst rgba = (r, g, b, a) => [r, g, b, a]; // mutates input\n\nconst equalize = input => {\n  let min = input[0];\n  let max = input[0];\n\n  for (let i = 1; i < input.length; i += 1) {\n    const val = input[i];\n    if (i < min) min = val;\n    if (i > max) max = val;\n  }\n\n  const range = max - min;\n  const factor = 256 / range;\n\n  for (let i = 0; i < input.length; i += 1) {\n    input[i] = input[i] - min * factor; // eslint-disable-line\n  }\n}; // http://www.easyrgb.com/en/math.php#text1\n\nconst referenceTable = {\n  CIE_1931: {\n    // 2° (CIE 1931)\n    D65: {\n      x: 95.047,\n      y: 100,\n      z: 108.883\n    }\n  },\n  CIE_1964: {\n    // 10° (CIE 1964)\n    D65: {\n      x: 94.811,\n      y: 100,\n      z: 107.304\n    }\n  }\n}; // 0-360, 0-1, 0-1, 0-1\n\nconst rgba2hsva = input => {\n  const r = input[0] / 255;\n  const g = input[1] / 255;\n  const b = input[2] / 255;\n  const a = input[3] / 255;\n  let h;\n  let s;\n  const min = Math.min(r, g, b);\n  const max = Math.max(r, g, b);\n  const delta = max - min;\n  const v = max;\n\n  if (delta > 0) {\n    s = delta / max;\n  } else {\n    s = 0;\n    h = 0;\n    return [h, s, v, a];\n  }\n\n  if (r === max) {\n    h = (g - b) / delta;\n  } else if (g === max) {\n    h = 2 + (b - r) / delta;\n  } else {\n    h = 4 + (r - g) / delta;\n  }\n\n  h *= 60;\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  return [h, s, v, a];\n}; // https://stackoverflow.com/questions/7880264/convert-lab-color-to-rgb\n// Convert RGB > XYZ > CIE Lab, copying alpha channel\n\nconst rgba2laba = (input, ref = referenceTable.CIE_1931.D65) => {\n  let r = input[0] / 255;\n  let g = input[1] / 255;\n  let b = input[2] / 255;\n  r = r > 0.04045 ? ((r + 0.055) / 1.055) ** 2.4 : r / 12.92;\n  g = g > 0.04045 ? ((g + 0.055) / 1.055) ** 2.4 : g / 12.92;\n  b = b > 0.04045 ? ((b + 0.055) / 1.055) ** 2.4 : b / 12.92;\n  r *= 100;\n  g *= 100;\n  b *= 100; // Observer= 2° (Only use CIE 1931!)\n\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  x /= ref.x;\n  y /= ref.y;\n  z /= ref.z;\n  x = x > 0.008856 ? x ** (1 / 3) : x * 7.787 + 16 / 116;\n  y = y > 0.008856 ? y ** (1 / 3) : y * 7.787 + 16 / 116;\n  z = z > 0.008856 ? z ** (1 / 3) : z * 7.787 + 16 / 116;\n  const outL = 116 * y - 16;\n  const outA = 500 * (x - y);\n  const outB = 200 * (y - z);\n  return [outL, outA, outB, input[3]];\n};\n\nlet wasmRgba2labaInner = (a, b, c, d, e, f, g) => {\n  console.error("WASM module not loaded!", a, b, c, d, e, f, g); // eslint-disable-line\n\n  return [0, 0, 0, 0];\n};\n\nlet wasmRgbaLabaDistanceInner = (a, b, c, d, e, f, g, h, i, j, k) => {\n  console.error("WASM module not loaded!", a, b, c, d, e, f, g, h, i, j, k); // eslint-disable-line\n\n  return 0;\n};\n\nconst wasmRgbaLabaDistance = (a, b, ref = referenceTable.CIE_1931.D65) => wasmRgbaLabaDistanceInner(a[0], a[1], a[2], a[3], b[0], b[1], b[2], b[3], ref.x, ref.y, ref.z);\nconst wasmRgba2laba = (input // $FlowFixMe\n, ref = referenceTable.CIE_1931.D65) => wasmRgba2labaInner(input[0], input[1], input[2], input[3], ref.x, ref.y, ref.z);\nlet wasm;\n\ntry {\n  wasm = __webpack_require__(77); // eslint-disable-line\n  // $FlowFixMe\n\n  __webpack_require__(73); // eslint-disable-line\n\n\n  wasm.then(obj => {\n    wasmRgba2labaInner = obj.rgba2laba;\n    wasmRgbaLabaDistanceInner = obj.rgbaLabaDistance; // console.log(obj, "override");\n  });\n} catch (e) {\n  console.log(e, "Failed to load WASM"); // eslint-disable-line\n} // Convert CIE Lab > XYZ > RGBA, copying alpha channel\n\n\nconst laba2rgba = (input, ref = referenceTable.CIE_1931.D65) => {\n  let y = (input[0] + 16) / 116;\n  let x = input[1] / 500 + y;\n  let z = y - input[2] / 200;\n  y = y ** 3 > 0.008856 ? y ** 3 : (y - 16 / 116) / 7.787;\n  x = x ** 3 > 0.008856 ? x ** 3 : (x - 16 / 116) / 7.787;\n  z = z ** 3 > 0.008856 ? z ** 3 : (z - 16 / 116) / 7.787; // Observer= 2° (Only use CIE 1931!)\n\n  x *= ref.x;\n  y *= ref.y;\n  z *= ref.z; // Normalize\n\n  x /= 100;\n  y /= 100;\n  z /= 100;\n  let r = x * 3.2406 + y * -1.5372 + z * -0.4986;\n  let g = x * -0.9689 + y * 1.8758 + z * 0.0415;\n  let b = x * 0.0557 + y * -0.204 + z * 1.057;\n  r = r > 0.0031308 ? 1.055 * r ** (1 / 2.4) - 0.055 : 12.92 * r;\n  g = g > 0.0031308 ? 1.055 * g ** (1 / 2.4) - 0.055 : 12.92 * g;\n  b = b > 0.0031308 ? 1.055 * b ** (1 / 2.4) - 0.055 : 12.92 * b;\n  r = clamp(0, 255, Math.round(r * 255));\n  g = clamp(0, 255, Math.round(g * 255));\n  b = clamp(0, 255, Math.round(b * 255));\n  return [r, g, b, input[3]];\n};\nconst colorDistance = (a, b, colorDistanceAlgorithm) => {\n  switch (colorDistanceAlgorithm) {\n    case constants_color__WEBPACK_IMPORTED_MODULE_0__[/* RGB_NEAREST */ "d"]:\n      return Math.sqrt((a[0] - b[0]) ** 2 + (a[1] - b[1]) ** 2 + (a[2] - b[2]) ** 2);\n\n    case constants_color__WEBPACK_IMPORTED_MODULE_0__[/* LAB_NEAREST */ "b"]:\n      {\n        const aLab = rgba2laba(a);\n        const bLab = rgba2laba(b);\n        return Math.sqrt((bLab[0] - aLab[0]) ** 2 + (bLab[1] - aLab[1]) ** 2 + (bLab[2] - aLab[2]) ** 2);\n      }\n\n    case constants_color__WEBPACK_IMPORTED_MODULE_0__[/* WASM_LAB_NEAREST */ "e"]:\n      {\n        return wasmRgbaLabaDistance(a, b);\n      }\n\n    case constants_color__WEBPACK_IMPORTED_MODULE_0__[/* RGB_APPROX */ "c"]:\n      {\n        const r = (a[0] + b[0]) / 2;\n        const dR = a[0] - b[0];\n        const dG = a[1] - b[1];\n        const dB = a[2] - b[2];\n        const dRc = (2 + r / 256) * dR ** 2;\n        const dGc = 4 * dG ** 2 + (2 + (255 - r) / 256);\n        const dBc = dB ** 2;\n        return Math.sqrt(dRc + dGc + dBc);\n      }\n\n    case constants_color__WEBPACK_IMPORTED_MODULE_0__[/* HSV_NEAREST */ "a"]:\n      {\n        const aHsv = rgba2hsva(a);\n        const bHsv = rgba2hsva(b);\n        const dH = Math.min(Math.abs(bHsv[0] - aHsv[0]), 360 - Math.abs(bHsv[0] - aHsv[0])) / 180.0;\n        const dS = Math.abs(bHsv[1] - aHsv[1]);\n        const dV = Math.abs(bHsv[2] - aHsv[2]) / 255.0;\n        return Math.sqrt(dH ** 2 + dS ** 2 + dV ** 2);\n      }\n\n    default:\n      return -1;\n  }\n};\nconst medianCutPalette = (buf, limit, ignoreAlpha, adaptMode, colorMode = "RGB") => {\n  const range = {\n    r: {\n      min: buf[0],\n      max: buf[0]\n    },\n    g: {\n      min: buf[0],\n      max: buf[0]\n    },\n    b: {\n      min: buf[0],\n      max: buf[0]\n    },\n    a: {\n      min: buf[0],\n      max: buf[0]\n    }\n  };\n  const pixels = [];\n\n  for (let i = 0; i < buf.length; i += 4) {\n    const pixelRaw = rgba(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]);\n    const pixel = colorMode === "RGB" ? pixelRaw : rgba2laba(pixelRaw);\n    const r = pixel[0];\n    const g = pixel[1];\n    const b = pixel[2];\n    const a = pixel[3];\n    range.r.min = r < range.r.min ? r : range.r.min;\n    range.r.max = r > range.r.max ? r : range.r.max;\n    range.g.min = g < range.g.min ? g : range.g.min;\n    range.g.max = g > range.g.max ? g : range.g.max;\n    range.b.min = b < range.b.min ? b : range.b.min;\n    range.b.max = b > range.b.max ? b : range.b.max;\n    range.a.min = a < range.a.min ? a : range.a.min;\n    range.a.max = a > range.a.max ? a : range.a.max;\n    pixels.push(pixel);\n  }\n\n  const channelsByRange = [{\n    channel: 0,\n    range: range.r.max - range.r.min\n  }, {\n    channel: 1,\n    range: range.g.max - range.g.min\n  }, {\n    channel: 2,\n    range: range.b.max - range.b.min\n  }, {\n    channel: 3,\n    range: range.a.max - range.a.min\n  }].sort((a, b) => b.range - a.range);\n\n  const medianCut = (bucket, channelSequence, remaining, iterations, ignAlpha, adptMode) => {\n    const channel = channelSequence[iterations % (ignAlpha ? 3 : 4)];\n    bucket.sort((a, b) => b[channel.channel] - a[channel.channel]);\n    const midIdx = Math.floor(bucket.length / 2);\n\n    if (remaining <= 0) {\n      switch (adaptMode) {\n        case "AVERAGE":\n          {\n            const acc = [0, 0, 0, 0];\n            bucket.forEach(c => {\n              acc[0] += c[0] / bucket.length;\n              acc[1] += c[1] / bucket.length;\n              acc[2] += c[2] / bucket.length;\n              acc[3] += c[3] / bucket.length;\n            }); // $FlowFixMe\n\n            return [acc.map(ch => Math.floor(ch))];\n          }\n\n        case "FIRST":\n          return [bucket[0]];\n\n        default:\n        case "MID":\n          return [bucket[midIdx]];\n      }\n    } // Subsort recursively, cycling through channels\n\n\n    return [bucket.slice(0, midIdx), bucket.slice(midIdx, bucket.length)].map(g => medianCut(g, channelSequence, remaining - 1, iterations + 1, ignAlpha, adptMode)).reduce((a, b) => a.concat(b), []);\n  };\n\n  const paletteRaw = medianCut(pixels, channelsByRange, limit, 0, ignoreAlpha, adaptMode).filter(c => c != null);\n\n  if (colorMode === "RGB") {\n    return paletteRaw;\n  } else if (colorMode === "LAB") {\n    return paletteRaw.map(c => laba2rgba(c));\n  }\n\n  return [];\n};\nconst uniqueColors = (buf, limit) => {\n  const seen = {};\n\n  for (let i = 0; i < buf.length; i += 4) {\n    const r = buf[i];\n    const g = buf[i + 1];\n    const b = buf[i + 2];\n    const a = buf[i + 3];\n    const key = `${r}-${g}-${b}-${a}`;\n\n    if (seen[key] && seen[key].count) {\n      seen[key].count += 1;\n    } else {\n      seen[key] = {\n        count: 1,\n        color: rgba(r, g, b, a)\n      };\n    }\n  }\n\n  if (limit) {\n    return Object.values(seen).sort((a, b) => {\n      if (!a || !b || typeof a.count !== "number" || typeof b.count !== "number") {\n        return 0;\n      }\n\n      if (a.count < b.count) return -1;\n      if (a.count > b.count) return 1;\n      return 0;\n    }).slice(0, limit) // $FlowFixMe\n    .map(c => c.color);\n  } // $FlowFixMe\n\n\n  return Object.values(seen).map(c => c.color);\n}; // Preserves nulls\n\nconst scaleMatrix = (mat, scale) => mat.map(row => row.map(col => col ? col * scale : col));\nconst add = (a, b) => [a[0] + b[0], a[1] + b[1], a[2] + b[2], a[3] + b[3]];\nconst sub = (a, b) => [a[0] - b[0], a[1] - b[1], a[2] - b[2], a[3] - b[3]];\nconst scale = (a, scalar, alpha = false) => [scalar * a[0], scalar * a[1], scalar * a[2], alpha ? scalar * a[3] : a[3]]; // contrast factor 0-1 ideally\n\nconst contrast = (color, factor) => {\n  // normalise to [-1, 1]\n  const nC = [color[0] / 255 - 0.5, color[1] / 255 - 0.5, color[2] / 255 - 0.5, color[3]];\n  return [(nC[0] + factor * (nC[0] - 1.0) * nC[0] * (nC[0] - 0.5) + 0.5) * 255, (nC[1] + factor * (nC[1] - 1.0) * nC[1] * (nC[1] - 0.5) + 0.5) * 255, (nC[2] + factor * (nC[2] - 1.0) * nC[2] * (nC[2] - 0.5) + 0.5) * 255, color[3]];\n}; // factor 0-255, exposure ideally 0-2 (small number)\n\nconst brightness = (color, factor, exposure = 1) => [color[0] * exposure + factor, color[1] * exposure + factor, color[2] * exposure + factor, color[3]];\nconst gamma = (color, g) => [255 * (color[0] / 255) ** (1 / g), 255 * (color[1] / 255) ** (1 / g), 255 * (color[2] / 255) ** (1 / g), color[3]];\nconst getBufferIndex = (x, y, width) => (x + width * y) * 4; // FIXME: Make signature consistent with addBufferPixel\n\nconst fillBufferPixel = (buf, i, r, g, b, a) => {\n  buf[i] = r; // eslint-disable-line\n\n  buf[i + 1] = g; // eslint-disable-line\n\n  buf[i + 2] = b; // eslint-disable-line\n\n  buf[i + 3] = a; // eslint-disable-line\n};\nconst addBufferPixel = (buf, i, color) => {\n  buf[i] += color[0]; // eslint-disable-line\n\n  buf[i + 1] += color[1]; // eslint-disable-line\n\n  buf[i + 2] += color[2]; // eslint-disable-line\n\n  buf[i + 3] += color[3]; // eslint-disable-line\n};\nconst cloneCanvas = (original, copyData = true) => {\n  const clone = document.createElement("canvas");\n  clone.width = original.width;\n  clone.height = original.height;\n  const cloneCtx = clone.getContext("2d");\n\n  if (cloneCtx && copyData) {\n    cloneCtx.drawImage(original, 0, 0);\n  }\n\n  return clone;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3V0aWxzL2luZGV4LmpzPzZkMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkdCX05FQVJFU1QsIFJHQl9BUFBST1gsIEhTVl9ORUFSRVNULCBMQUJfTkVBUkVTVCwgV0FTTV9MQUJfTkVBUkVTVCB9IGZyb20gXCJjb25zdGFudHMvY29sb3JcIjtcbmV4cG9ydCBjb25zdCBzZXJpYWxpemVTdGF0ZSA9IHN0YXRlID0+IEpTT04uc3RyaW5naWZ5KHN0YXRlKTsgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTk2MjE2L2Zvcm11bGEtdG8tZGV0ZXJtaW5lLWJyaWdodG5lc3Mtb2YtcmdiLWNvbG9yXG4vLyBUT0RPOiBtYWtlIGZvcm11bGEgYW4gZW51bVxuXG5leHBvcnQgY29uc3QgbHVtaW5hbmNlSXR1QnQ3MDkgPSBjID0+IDAuMjEyNiAqIGNbMF0gKyAwLjcxNTIgKiBjWzFdICsgMC4wNzIyICogY1syXSAqIChjWzNdIC8gMjU1KTsgLy8gSVRVIEJULjYwMVxuXG5leHBvcnQgY29uc3QgbHVtaW5hbmNlID0gYyA9PiAwLjI5OSAqIGNbMF0gKyAwLjU4NyAqIGNbMV0gKyAwLjExNCAqIGNbMl0gKiAoY1szXSAvIDI1NSk7XG5leHBvcnQgY29uc3QgcXVhbnRpemVWYWx1ZSA9ICh2YWx1ZSwgbGV2ZWxzKSA9PiB7XG4gIGNvbnN0IHN0ZXAgPSAyNTUgLyAobGV2ZWxzIC0gMSk7XG4gIGNvbnN0IGJ1Y2tldCA9IE1hdGgucm91bmQodmFsdWUgLyBzdGVwKTtcbiAgcmV0dXJuIE1hdGgucm91bmQoYnVja2V0ICogc3RlcCk7XG59O1xuZXhwb3J0IGNvbnN0IGNsYW1wID0gKG1pbiwgbWF4LCB2YWx1ZSkgPT4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbHVlKSk7XG5leHBvcnQgY29uc3QgcmdiYSA9IChyLCBnLCBiLCBhKSA9PiBbciwgZywgYiwgYV07IC8vIG11dGF0ZXMgaW5wdXRcblxuZXhwb3J0IGNvbnN0IGVxdWFsaXplID0gaW5wdXQgPT4ge1xuICBsZXQgbWluID0gaW5wdXRbMF07XG4gIGxldCBtYXggPSBpbnB1dFswXTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgdmFsID0gaW5wdXRbaV07XG4gICAgaWYgKGkgPCBtaW4pIG1pbiA9IHZhbDtcbiAgICBpZiAoaSA+IG1heCkgbWF4ID0gdmFsO1xuICB9XG5cbiAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47XG4gIGNvbnN0IGZhY3RvciA9IDI1NiAvIHJhbmdlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpbnB1dFtpXSA9IGlucHV0W2ldIC0gbWluICogZmFjdG9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIH1cbn07IC8vIGh0dHA6Ly93d3cuZWFzeXJnYi5jb20vZW4vbWF0aC5waHAjdGV4dDFcblxuZXhwb3J0IGNvbnN0IHJlZmVyZW5jZVRhYmxlID0ge1xuICBDSUVfMTkzMToge1xuICAgIC8vIDLCsCAoQ0lFIDE5MzEpXG4gICAgRDY1OiB7XG4gICAgICB4OiA5NS4wNDcsXG4gICAgICB5OiAxMDAsXG4gICAgICB6OiAxMDguODgzXG4gICAgfVxuICB9LFxuICBDSUVfMTk2NDoge1xuICAgIC8vIDEwwrAgKENJRSAxOTY0KVxuICAgIEQ2NToge1xuICAgICAgeDogOTQuODExLFxuICAgICAgeTogMTAwLFxuICAgICAgejogMTA3LjMwNFxuICAgIH1cbiAgfVxufTsgLy8gMC0zNjAsIDAtMSwgMC0xLCAwLTFcblxuZXhwb3J0IGNvbnN0IHJnYmEyaHN2YSA9IGlucHV0ID0+IHtcbiAgY29uc3QgciA9IGlucHV0WzBdIC8gMjU1O1xuICBjb25zdCBnID0gaW5wdXRbMV0gLyAyNTU7XG4gIGNvbnN0IGIgPSBpbnB1dFsyXSAvIDI1NTtcbiAgY29uc3QgYSA9IGlucHV0WzNdIC8gMjU1O1xuICBsZXQgaDtcbiAgbGV0IHM7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgY29uc3QgZGVsdGEgPSBtYXggLSBtaW47XG4gIGNvbnN0IHYgPSBtYXg7XG5cbiAgaWYgKGRlbHRhID4gMCkge1xuICAgIHMgPSBkZWx0YSAvIG1heDtcbiAgfSBlbHNlIHtcbiAgICBzID0gMDtcbiAgICBoID0gMDtcbiAgICByZXR1cm4gW2gsIHMsIHYsIGFdO1xuICB9XG5cbiAgaWYgKHIgPT09IG1heCkge1xuICAgIGggPSAoZyAtIGIpIC8gZGVsdGE7XG4gIH0gZWxzZSBpZiAoZyA9PT0gbWF4KSB7XG4gICAgaCA9IDIgKyAoYiAtIHIpIC8gZGVsdGE7XG4gIH0gZWxzZSB7XG4gICAgaCA9IDQgKyAociAtIGcpIC8gZGVsdGE7XG4gIH1cblxuICBoICo9IDYwO1xuXG4gIGlmIChoIDwgMCkge1xuICAgIGggKz0gMzYwO1xuICB9XG5cbiAgcmV0dXJuIFtoLCBzLCB2LCBhXTtcbn07IC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4ODAyNjQvY29udmVydC1sYWItY29sb3ItdG8tcmdiXG4vLyBDb252ZXJ0IFJHQiA+IFhZWiA+IENJRSBMYWIsIGNvcHlpbmcgYWxwaGEgY2hhbm5lbFxuXG5leHBvcnQgY29uc3QgcmdiYTJsYWJhID0gKGlucHV0LCByZWYgPSByZWZlcmVuY2VUYWJsZS5DSUVfMTkzMS5ENjUpID0+IHtcbiAgbGV0IHIgPSBpbnB1dFswXSAvIDI1NTtcbiAgbGV0IGcgPSBpbnB1dFsxXSAvIDI1NTtcbiAgbGV0IGIgPSBpbnB1dFsyXSAvIDI1NTtcbiAgciA9IHIgPiAwLjA0MDQ1ID8gKChyICsgMC4wNTUpIC8gMS4wNTUpICoqIDIuNCA6IHIgLyAxMi45MjtcbiAgZyA9IGcgPiAwLjA0MDQ1ID8gKChnICsgMC4wNTUpIC8gMS4wNTUpICoqIDIuNCA6IGcgLyAxMi45MjtcbiAgYiA9IGIgPiAwLjA0MDQ1ID8gKChiICsgMC4wNTUpIC8gMS4wNTUpICoqIDIuNCA6IGIgLyAxMi45MjtcbiAgciAqPSAxMDA7XG4gIGcgKj0gMTAwO1xuICBiICo9IDEwMDsgLy8gT2JzZXJ2ZXI9IDLCsCAoT25seSB1c2UgQ0lFIDE5MzEhKVxuXG4gIGxldCB4ID0gciAqIDAuNDEyNCArIGcgKiAwLjM1NzYgKyBiICogMC4xODA1O1xuICBsZXQgeSA9IHIgKiAwLjIxMjYgKyBnICogMC43MTUyICsgYiAqIDAuMDcyMjtcbiAgbGV0IHogPSByICogMC4wMTkzICsgZyAqIDAuMTE5MiArIGIgKiAwLjk1MDU7XG4gIHggLz0gcmVmLng7XG4gIHkgLz0gcmVmLnk7XG4gIHogLz0gcmVmLno7XG4gIHggPSB4ID4gMC4wMDg4NTYgPyB4ICoqICgxIC8gMykgOiB4ICogNy43ODcgKyAxNiAvIDExNjtcbiAgeSA9IHkgPiAwLjAwODg1NiA/IHkgKiogKDEgLyAzKSA6IHkgKiA3Ljc4NyArIDE2IC8gMTE2O1xuICB6ID0geiA+IDAuMDA4ODU2ID8geiAqKiAoMSAvIDMpIDogeiAqIDcuNzg3ICsgMTYgLyAxMTY7XG4gIGNvbnN0IG91dEwgPSAxMTYgKiB5IC0gMTY7XG4gIGNvbnN0IG91dEEgPSA1MDAgKiAoeCAtIHkpO1xuICBjb25zdCBvdXRCID0gMjAwICogKHkgLSB6KTtcbiAgcmV0dXJuIFtvdXRMLCBvdXRBLCBvdXRCLCBpbnB1dFszXV07XG59O1xuXG5sZXQgd2FzbVJnYmEybGFiYUlubmVyID0gKGEsIGIsIGMsIGQsIGUsIGYsIGcpID0+IHtcbiAgY29uc29sZS5lcnJvcihcIldBU00gbW9kdWxlIG5vdCBsb2FkZWQhXCIsIGEsIGIsIGMsIGQsIGUsIGYsIGcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgcmV0dXJuIFswLCAwLCAwLCAwXTtcbn07XG5cbmxldCB3YXNtUmdiYUxhYmFEaXN0YW5jZUlubmVyID0gKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGosIGspID0+IHtcbiAgY29uc29sZS5lcnJvcihcIldBU00gbW9kdWxlIG5vdCBsb2FkZWQhXCIsIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGosIGspOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgcmV0dXJuIDA7XG59O1xuXG5leHBvcnQgY29uc3Qgd2FzbVJnYmFMYWJhRGlzdGFuY2UgPSAoYSwgYiwgcmVmID0gcmVmZXJlbmNlVGFibGUuQ0lFXzE5MzEuRDY1KSA9PiB3YXNtUmdiYUxhYmFEaXN0YW5jZUlubmVyKGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGJbMF0sIGJbMV0sIGJbMl0sIGJbM10sIHJlZi54LCByZWYueSwgcmVmLnopO1xuZXhwb3J0IGNvbnN0IHdhc21SZ2JhMmxhYmEgPSAoaW5wdXQgLy8gJEZsb3dGaXhNZVxuLCByZWYgPSByZWZlcmVuY2VUYWJsZS5DSUVfMTkzMS5ENjUpID0+IHdhc21SZ2JhMmxhYmFJbm5lcihpbnB1dFswXSwgaW5wdXRbMV0sIGlucHV0WzJdLCBpbnB1dFszXSwgcmVmLngsIHJlZi55LCByZWYueik7XG5sZXQgd2FzbTtcblxudHJ5IHtcbiAgd2FzbSA9IHJlcXVpcmUoXCJ3YXNtL3JnYmEybGFiYS90YXJnZXQvd2FzbTMyLXVua25vd24tdW5rbm93bi9yZWxlYXNlL3JnYmEybGFiYS5qc1wiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAvLyAkRmxvd0ZpeE1lXG5cbiAgcmVxdWlyZShcIndhc20vcmdiYTJsYWJhL3RhcmdldC93YXNtMzItdW5rbm93bi11bmtub3duL3JlbGVhc2UvcmdiYTJsYWJhLndhc21cIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuXG4gIHdhc20udGhlbihvYmogPT4ge1xuICAgIHdhc21SZ2JhMmxhYmFJbm5lciA9IG9iai5yZ2JhMmxhYmE7XG4gICAgd2FzbVJnYmFMYWJhRGlzdGFuY2VJbm5lciA9IG9iai5yZ2JhTGFiYURpc3RhbmNlOyAvLyBjb25zb2xlLmxvZyhvYmosIFwib3ZlcnJpZGVcIik7XG4gIH0pO1xufSBjYXRjaCAoZSkge1xuICBjb25zb2xlLmxvZyhlLCBcIkZhaWxlZCB0byBsb2FkIFdBU01cIik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbn0gLy8gQ29udmVydCBDSUUgTGFiID4gWFlaID4gUkdCQSwgY29weWluZyBhbHBoYSBjaGFubmVsXG5cblxuZXhwb3J0IGNvbnN0IGxhYmEycmdiYSA9IChpbnB1dCwgcmVmID0gcmVmZXJlbmNlVGFibGUuQ0lFXzE5MzEuRDY1KSA9PiB7XG4gIGxldCB5ID0gKGlucHV0WzBdICsgMTYpIC8gMTE2O1xuICBsZXQgeCA9IGlucHV0WzFdIC8gNTAwICsgeTtcbiAgbGV0IHogPSB5IC0gaW5wdXRbMl0gLyAyMDA7XG4gIHkgPSB5ICoqIDMgPiAwLjAwODg1NiA/IHkgKiogMyA6ICh5IC0gMTYgLyAxMTYpIC8gNy43ODc7XG4gIHggPSB4ICoqIDMgPiAwLjAwODg1NiA/IHggKiogMyA6ICh4IC0gMTYgLyAxMTYpIC8gNy43ODc7XG4gIHogPSB6ICoqIDMgPiAwLjAwODg1NiA/IHogKiogMyA6ICh6IC0gMTYgLyAxMTYpIC8gNy43ODc7IC8vIE9ic2VydmVyPSAywrAgKE9ubHkgdXNlIENJRSAxOTMxISlcblxuICB4ICo9IHJlZi54O1xuICB5ICo9IHJlZi55O1xuICB6ICo9IHJlZi56OyAvLyBOb3JtYWxpemVcblxuICB4IC89IDEwMDtcbiAgeSAvPSAxMDA7XG4gIHogLz0gMTAwO1xuICBsZXQgciA9IHggKiAzLjI0MDYgKyB5ICogLTEuNTM3MiArIHogKiAtMC40OTg2O1xuICBsZXQgZyA9IHggKiAtMC45Njg5ICsgeSAqIDEuODc1OCArIHogKiAwLjA0MTU7XG4gIGxldCBiID0geCAqIDAuMDU1NyArIHkgKiAtMC4yMDQgKyB6ICogMS4wNTc7XG4gIHIgPSByID4gMC4wMDMxMzA4ID8gMS4wNTUgKiByICoqICgxIC8gMi40KSAtIDAuMDU1IDogMTIuOTIgKiByO1xuICBnID0gZyA+IDAuMDAzMTMwOCA/IDEuMDU1ICogZyAqKiAoMSAvIDIuNCkgLSAwLjA1NSA6IDEyLjkyICogZztcbiAgYiA9IGIgPiAwLjAwMzEzMDggPyAxLjA1NSAqIGIgKiogKDEgLyAyLjQpIC0gMC4wNTUgOiAxMi45MiAqIGI7XG4gIHIgPSBjbGFtcCgwLCAyNTUsIE1hdGgucm91bmQociAqIDI1NSkpO1xuICBnID0gY2xhbXAoMCwgMjU1LCBNYXRoLnJvdW5kKGcgKiAyNTUpKTtcbiAgYiA9IGNsYW1wKDAsIDI1NSwgTWF0aC5yb3VuZChiICogMjU1KSk7XG4gIHJldHVybiBbciwgZywgYiwgaW5wdXRbM11dO1xufTtcbmV4cG9ydCBjb25zdCBjb2xvckRpc3RhbmNlID0gKGEsIGIsIGNvbG9yRGlzdGFuY2VBbGdvcml0aG0pID0+IHtcbiAgc3dpdGNoIChjb2xvckRpc3RhbmNlQWxnb3JpdGhtKSB7XG4gICAgY2FzZSBSR0JfTkVBUkVTVDpcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoKGFbMF0gLSBiWzBdKSAqKiAyICsgKGFbMV0gLSBiWzFdKSAqKiAyICsgKGFbMl0gLSBiWzJdKSAqKiAyKTtcblxuICAgIGNhc2UgTEFCX05FQVJFU1Q6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGFMYWIgPSByZ2JhMmxhYmEoYSk7XG4gICAgICAgIGNvbnN0IGJMYWIgPSByZ2JhMmxhYmEoYik7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKGJMYWJbMF0gLSBhTGFiWzBdKSAqKiAyICsgKGJMYWJbMV0gLSBhTGFiWzFdKSAqKiAyICsgKGJMYWJbMl0gLSBhTGFiWzJdKSAqKiAyKTtcbiAgICAgIH1cblxuICAgIGNhc2UgV0FTTV9MQUJfTkVBUkVTVDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHdhc21SZ2JhTGFiYURpc3RhbmNlKGEsIGIpO1xuICAgICAgfVxuXG4gICAgY2FzZSBSR0JfQVBQUk9YOlxuICAgICAge1xuICAgICAgICBjb25zdCByID0gKGFbMF0gKyBiWzBdKSAvIDI7XG4gICAgICAgIGNvbnN0IGRSID0gYVswXSAtIGJbMF07XG4gICAgICAgIGNvbnN0IGRHID0gYVsxXSAtIGJbMV07XG4gICAgICAgIGNvbnN0IGRCID0gYVsyXSAtIGJbMl07XG4gICAgICAgIGNvbnN0IGRSYyA9ICgyICsgciAvIDI1NikgKiBkUiAqKiAyO1xuICAgICAgICBjb25zdCBkR2MgPSA0ICogZEcgKiogMiArICgyICsgKDI1NSAtIHIpIC8gMjU2KTtcbiAgICAgICAgY29uc3QgZEJjID0gZEIgKiogMjtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkUmMgKyBkR2MgKyBkQmMpO1xuICAgICAgfVxuXG4gICAgY2FzZSBIU1ZfTkVBUkVTVDpcbiAgICAgIHtcbiAgICAgICAgY29uc3QgYUhzdiA9IHJnYmEyaHN2YShhKTtcbiAgICAgICAgY29uc3QgYkhzdiA9IHJnYmEyaHN2YShiKTtcbiAgICAgICAgY29uc3QgZEggPSBNYXRoLm1pbihNYXRoLmFicyhiSHN2WzBdIC0gYUhzdlswXSksIDM2MCAtIE1hdGguYWJzKGJIc3ZbMF0gLSBhSHN2WzBdKSkgLyAxODAuMDtcbiAgICAgICAgY29uc3QgZFMgPSBNYXRoLmFicyhiSHN2WzFdIC0gYUhzdlsxXSk7XG4gICAgICAgIGNvbnN0IGRWID0gTWF0aC5hYnMoYkhzdlsyXSAtIGFIc3ZbMl0pIC8gMjU1LjA7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZEggKiogMiArIGRTICoqIDIgKyBkViAqKiAyKTtcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLTE7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgbWVkaWFuQ3V0UGFsZXR0ZSA9IChidWYsIGxpbWl0LCBpZ25vcmVBbHBoYSwgYWRhcHRNb2RlLCBjb2xvck1vZGUgPSBcIlJHQlwiKSA9PiB7XG4gIGNvbnN0IHJhbmdlID0ge1xuICAgIHI6IHtcbiAgICAgIG1pbjogYnVmWzBdLFxuICAgICAgbWF4OiBidWZbMF1cbiAgICB9LFxuICAgIGc6IHtcbiAgICAgIG1pbjogYnVmWzBdLFxuICAgICAgbWF4OiBidWZbMF1cbiAgICB9LFxuICAgIGI6IHtcbiAgICAgIG1pbjogYnVmWzBdLFxuICAgICAgbWF4OiBidWZbMF1cbiAgICB9LFxuICAgIGE6IHtcbiAgICAgIG1pbjogYnVmWzBdLFxuICAgICAgbWF4OiBidWZbMF1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHBpeGVscyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgY29uc3QgcGl4ZWxSYXcgPSByZ2JhKGJ1ZltpXSwgYnVmW2kgKyAxXSwgYnVmW2kgKyAyXSwgYnVmW2kgKyAzXSk7XG4gICAgY29uc3QgcGl4ZWwgPSBjb2xvck1vZGUgPT09IFwiUkdCXCIgPyBwaXhlbFJhdyA6IHJnYmEybGFiYShwaXhlbFJhdyk7XG4gICAgY29uc3QgciA9IHBpeGVsWzBdO1xuICAgIGNvbnN0IGcgPSBwaXhlbFsxXTtcbiAgICBjb25zdCBiID0gcGl4ZWxbMl07XG4gICAgY29uc3QgYSA9IHBpeGVsWzNdO1xuICAgIHJhbmdlLnIubWluID0gciA8IHJhbmdlLnIubWluID8gciA6IHJhbmdlLnIubWluO1xuICAgIHJhbmdlLnIubWF4ID0gciA+IHJhbmdlLnIubWF4ID8gciA6IHJhbmdlLnIubWF4O1xuICAgIHJhbmdlLmcubWluID0gZyA8IHJhbmdlLmcubWluID8gZyA6IHJhbmdlLmcubWluO1xuICAgIHJhbmdlLmcubWF4ID0gZyA+IHJhbmdlLmcubWF4ID8gZyA6IHJhbmdlLmcubWF4O1xuICAgIHJhbmdlLmIubWluID0gYiA8IHJhbmdlLmIubWluID8gYiA6IHJhbmdlLmIubWluO1xuICAgIHJhbmdlLmIubWF4ID0gYiA+IHJhbmdlLmIubWF4ID8gYiA6IHJhbmdlLmIubWF4O1xuICAgIHJhbmdlLmEubWluID0gYSA8IHJhbmdlLmEubWluID8gYSA6IHJhbmdlLmEubWluO1xuICAgIHJhbmdlLmEubWF4ID0gYSA+IHJhbmdlLmEubWF4ID8gYSA6IHJhbmdlLmEubWF4O1xuICAgIHBpeGVscy5wdXNoKHBpeGVsKTtcbiAgfVxuXG4gIGNvbnN0IGNoYW5uZWxzQnlSYW5nZSA9IFt7XG4gICAgY2hhbm5lbDogMCxcbiAgICByYW5nZTogcmFuZ2Uuci5tYXggLSByYW5nZS5yLm1pblxuICB9LCB7XG4gICAgY2hhbm5lbDogMSxcbiAgICByYW5nZTogcmFuZ2UuZy5tYXggLSByYW5nZS5nLm1pblxuICB9LCB7XG4gICAgY2hhbm5lbDogMixcbiAgICByYW5nZTogcmFuZ2UuYi5tYXggLSByYW5nZS5iLm1pblxuICB9LCB7XG4gICAgY2hhbm5lbDogMyxcbiAgICByYW5nZTogcmFuZ2UuYS5tYXggLSByYW5nZS5hLm1pblxuICB9XS5zb3J0KChhLCBiKSA9PiBiLnJhbmdlIC0gYS5yYW5nZSk7XG5cbiAgY29uc3QgbWVkaWFuQ3V0ID0gKGJ1Y2tldCwgY2hhbm5lbFNlcXVlbmNlLCByZW1haW5pbmcsIGl0ZXJhdGlvbnMsIGlnbkFscGhhLCBhZHB0TW9kZSkgPT4ge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBjaGFubmVsU2VxdWVuY2VbaXRlcmF0aW9ucyAlIChpZ25BbHBoYSA/IDMgOiA0KV07XG4gICAgYnVja2V0LnNvcnQoKGEsIGIpID0+IGJbY2hhbm5lbC5jaGFubmVsXSAtIGFbY2hhbm5lbC5jaGFubmVsXSk7XG4gICAgY29uc3QgbWlkSWR4ID0gTWF0aC5mbG9vcihidWNrZXQubGVuZ3RoIC8gMik7XG5cbiAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgIHN3aXRjaCAoYWRhcHRNb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBVkVSQUdFXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYWNjID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICAgICAgYnVja2V0LmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAgIGFjY1swXSArPSBjWzBdIC8gYnVja2V0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgYWNjWzFdICs9IGNbMV0gLyBidWNrZXQubGVuZ3RoO1xuICAgICAgICAgICAgICBhY2NbMl0gKz0gY1syXSAvIGJ1Y2tldC5sZW5ndGg7XG4gICAgICAgICAgICAgIGFjY1szXSArPSBjWzNdIC8gYnVja2V0Lmxlbmd0aDtcbiAgICAgICAgICAgIH0pOyAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgICAgICAgIHJldHVybiBbYWNjLm1hcChjaCA9PiBNYXRoLmZsb29yKGNoKSldO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFwiRklSU1RcIjpcbiAgICAgICAgICByZXR1cm4gW2J1Y2tldFswXV07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2FzZSBcIk1JRFwiOlxuICAgICAgICAgIHJldHVybiBbYnVja2V0W21pZElkeF1dO1xuICAgICAgfVxuICAgIH0gLy8gU3Vic29ydCByZWN1cnNpdmVseSwgY3ljbGluZyB0aHJvdWdoIGNoYW5uZWxzXG5cblxuICAgIHJldHVybiBbYnVja2V0LnNsaWNlKDAsIG1pZElkeCksIGJ1Y2tldC5zbGljZShtaWRJZHgsIGJ1Y2tldC5sZW5ndGgpXS5tYXAoZyA9PiBtZWRpYW5DdXQoZywgY2hhbm5lbFNlcXVlbmNlLCByZW1haW5pbmcgLSAxLCBpdGVyYXRpb25zICsgMSwgaWduQWxwaGEsIGFkcHRNb2RlKSkucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pO1xuICB9O1xuXG4gIGNvbnN0IHBhbGV0dGVSYXcgPSBtZWRpYW5DdXQocGl4ZWxzLCBjaGFubmVsc0J5UmFuZ2UsIGxpbWl0LCAwLCBpZ25vcmVBbHBoYSwgYWRhcHRNb2RlKS5maWx0ZXIoYyA9PiBjICE9IG51bGwpO1xuXG4gIGlmIChjb2xvck1vZGUgPT09IFwiUkdCXCIpIHtcbiAgICByZXR1cm4gcGFsZXR0ZVJhdztcbiAgfSBlbHNlIGlmIChjb2xvck1vZGUgPT09IFwiTEFCXCIpIHtcbiAgICByZXR1cm4gcGFsZXR0ZVJhdy5tYXAoYyA9PiBsYWJhMnJnYmEoYykpO1xuICB9XG5cbiAgcmV0dXJuIFtdO1xufTtcbmV4cG9ydCBjb25zdCB1bmlxdWVDb2xvcnMgPSAoYnVmLCBsaW1pdCkgPT4ge1xuICBjb25zdCBzZWVuID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBjb25zdCByID0gYnVmW2ldO1xuICAgIGNvbnN0IGcgPSBidWZbaSArIDFdO1xuICAgIGNvbnN0IGIgPSBidWZbaSArIDJdO1xuICAgIGNvbnN0IGEgPSBidWZbaSArIDNdO1xuICAgIGNvbnN0IGtleSA9IGAke3J9LSR7Z30tJHtifS0ke2F9YDtcblxuICAgIGlmIChzZWVuW2tleV0gJiYgc2VlbltrZXldLmNvdW50KSB7XG4gICAgICBzZWVuW2tleV0uY291bnQgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VlbltrZXldID0ge1xuICAgICAgICBjb3VudDogMSxcbiAgICAgICAgY29sb3I6IHJnYmEociwgZywgYiwgYSlcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKGxpbWl0KSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc2Vlbikuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKCFhIHx8ICFiIHx8IHR5cGVvZiBhLmNvdW50ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiBiLmNvdW50ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYS5jb3VudCA8IGIuY291bnQpIHJldHVybiAtMTtcbiAgICAgIGlmIChhLmNvdW50ID4gYi5jb3VudCkgcmV0dXJuIDE7XG4gICAgICByZXR1cm4gMDtcbiAgICB9KS5zbGljZSgwLCBsaW1pdCkgLy8gJEZsb3dGaXhNZVxuICAgIC5tYXAoYyA9PiBjLmNvbG9yKTtcbiAgfSAvLyAkRmxvd0ZpeE1lXG5cblxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzZWVuKS5tYXAoYyA9PiBjLmNvbG9yKTtcbn07IC8vIFByZXNlcnZlcyBudWxsc1xuXG5leHBvcnQgY29uc3Qgc2NhbGVNYXRyaXggPSAobWF0LCBzY2FsZSkgPT4gbWF0Lm1hcChyb3cgPT4gcm93Lm1hcChjb2wgPT4gY29sID8gY29sICogc2NhbGUgOiBjb2wpKTtcbmV4cG9ydCBjb25zdCBhZGQgPSAoYSwgYikgPT4gW2FbMF0gKyBiWzBdLCBhWzFdICsgYlsxXSwgYVsyXSArIGJbMl0sIGFbM10gKyBiWzNdXTtcbmV4cG9ydCBjb25zdCBzdWIgPSAoYSwgYikgPT4gW2FbMF0gLSBiWzBdLCBhWzFdIC0gYlsxXSwgYVsyXSAtIGJbMl0sIGFbM10gLSBiWzNdXTtcbmV4cG9ydCBjb25zdCBzY2FsZSA9IChhLCBzY2FsYXIsIGFscGhhID0gZmFsc2UpID0+IFtzY2FsYXIgKiBhWzBdLCBzY2FsYXIgKiBhWzFdLCBzY2FsYXIgKiBhWzJdLCBhbHBoYSA/IHNjYWxhciAqIGFbM10gOiBhWzNdXTsgLy8gY29udHJhc3QgZmFjdG9yIDAtMSBpZGVhbGx5XG5cbmV4cG9ydCBjb25zdCBjb250cmFzdCA9IChjb2xvciwgZmFjdG9yKSA9PiB7XG4gIC8vIG5vcm1hbGlzZSB0byBbLTEsIDFdXG4gIGNvbnN0IG5DID0gW2NvbG9yWzBdIC8gMjU1IC0gMC41LCBjb2xvclsxXSAvIDI1NSAtIDAuNSwgY29sb3JbMl0gLyAyNTUgLSAwLjUsIGNvbG9yWzNdXTtcbiAgcmV0dXJuIFsobkNbMF0gKyBmYWN0b3IgKiAobkNbMF0gLSAxLjApICogbkNbMF0gKiAobkNbMF0gLSAwLjUpICsgMC41KSAqIDI1NSwgKG5DWzFdICsgZmFjdG9yICogKG5DWzFdIC0gMS4wKSAqIG5DWzFdICogKG5DWzFdIC0gMC41KSArIDAuNSkgKiAyNTUsIChuQ1syXSArIGZhY3RvciAqIChuQ1syXSAtIDEuMCkgKiBuQ1syXSAqIChuQ1syXSAtIDAuNSkgKyAwLjUpICogMjU1LCBjb2xvclszXV07XG59OyAvLyBmYWN0b3IgMC0yNTUsIGV4cG9zdXJlIGlkZWFsbHkgMC0yIChzbWFsbCBudW1iZXIpXG5cbmV4cG9ydCBjb25zdCBicmlnaHRuZXNzID0gKGNvbG9yLCBmYWN0b3IsIGV4cG9zdXJlID0gMSkgPT4gW2NvbG9yWzBdICogZXhwb3N1cmUgKyBmYWN0b3IsIGNvbG9yWzFdICogZXhwb3N1cmUgKyBmYWN0b3IsIGNvbG9yWzJdICogZXhwb3N1cmUgKyBmYWN0b3IsIGNvbG9yWzNdXTtcbmV4cG9ydCBjb25zdCBnYW1tYSA9IChjb2xvciwgZykgPT4gWzI1NSAqIChjb2xvclswXSAvIDI1NSkgKiogKDEgLyBnKSwgMjU1ICogKGNvbG9yWzFdIC8gMjU1KSAqKiAoMSAvIGcpLCAyNTUgKiAoY29sb3JbMl0gLyAyNTUpICoqICgxIC8gZyksIGNvbG9yWzNdXTtcbmV4cG9ydCBjb25zdCBnZXRCdWZmZXJJbmRleCA9ICh4LCB5LCB3aWR0aCkgPT4gKHggKyB3aWR0aCAqIHkpICogNDsgLy8gRklYTUU6IE1ha2Ugc2lnbmF0dXJlIGNvbnNpc3RlbnQgd2l0aCBhZGRCdWZmZXJQaXhlbFxuXG5leHBvcnQgY29uc3QgZmlsbEJ1ZmZlclBpeGVsID0gKGJ1ZiwgaSwgciwgZywgYiwgYSkgPT4ge1xuICBidWZbaV0gPSByOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgYnVmW2kgKyAxXSA9IGc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBidWZbaSArIDJdID0gYjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGJ1ZltpICsgM10gPSBhOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59O1xuZXhwb3J0IGNvbnN0IGFkZEJ1ZmZlclBpeGVsID0gKGJ1ZiwgaSwgY29sb3IpID0+IHtcbiAgYnVmW2ldICs9IGNvbG9yWzBdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgYnVmW2kgKyAxXSArPSBjb2xvclsxXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGJ1ZltpICsgMl0gKz0gY29sb3JbMl07IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBidWZbaSArIDNdICs9IGNvbG9yWzNdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59O1xuZXhwb3J0IGNvbnN0IGNsb25lQ2FudmFzID0gKG9yaWdpbmFsLCBjb3B5RGF0YSA9IHRydWUpID0+IHtcbiAgY29uc3QgY2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICBjbG9uZS53aWR0aCA9IG9yaWdpbmFsLndpZHRoO1xuICBjbG9uZS5oZWlnaHQgPSBvcmlnaW5hbC5oZWlnaHQ7XG4gIGNvbnN0IGNsb25lQ3R4ID0gY2xvbmUuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmIChjbG9uZUN0eCAmJiBjb3B5RGF0YSkge1xuICAgIGNsb25lQ3R4LmRyYXdJbWFnZShvcmlnaW5hbCwgMCwgMCk7XG4gIH1cblxuICByZXR1cm4gY2xvbmU7XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},11:function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(68);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(30)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0FwcC9zdHlsZXMuc2Nzcz81NmMzIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0yLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0yLTIhLi9zdHlsZXMuc2Nzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMi0yIS4vc3R5bGVzLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0yLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0yLTIhLi9zdHlsZXMuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},12:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return THEMES; });\n/* unused harmony export createPalette */\n/* harmony import */ var constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n// https://en.wikipedia.org/wiki/List_of_8-bit_computer_hardware_palettes\n// https://en.wikipedia.org/wiki/Color_Graphics_Adapter\nconst cga = {\n  BLACK: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255),\n  // 0 black\n  BLUE: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 170, 255),\n  // 1 blue\n  GREEN: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 170, 0, 255),\n  // 2 green\n  CYAN: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 170, 170, 255),\n  // 3 cyan\n  RED: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 0, 0, 255),\n  // 4 red\n  MAGENTA: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 0, 170, 255),\n  // 5 magenta\n  YELLOW: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 170, 0, 255),\n  // 6 yellow\n  WHITE: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 170, 170, 255),\n  // 7 white\n  BBLACK: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 85, 85, 255),\n  // 8 bright black\n  BBLUE: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 85, 255, 255),\n  // 9 bright blue\n  BGREEN: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 255, 85, 255),\n  // 10 bright green\n  BCYAN: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 255, 255, 255),\n  // 11 bright cyan\n  BRED: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 85, 85, 255),\n  // 12 bright red\n  BMAGENTA: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 85, 255, 255),\n  // 13 bright magenta\n  BYELLOW: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 85, 255),\n  // 14 bright yellow\n  BWHITE: Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255) // 15 bright white\n\n};\nconst THEMES = {\n  CMYK: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 255, 255, 255), // cyan\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 0, 255, 255), // magenta\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 0, 255), // yellow\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), // black\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  EGA_MODE4_PALETTE1_LOW: [cga.BLACK, cga.WHITE, cga.MAGENTA, cga.CYAN],\n  EGA_MODE4_PALETTE1_HIGH: [cga.BLACK, cga.WHITE, cga.BMAGENTA, cga.BCYAN],\n  EGA_MODE4_PALETTE2_LOW: [cga.BLACK, cga.GREEN, cga.RED, cga.YELLOW],\n  EGA_MODE4_PALETTE2_HIGH: [cga.BLACK, cga.BGREEN, cga.BRED, cga.BYELLOW],\n  EGA_MODE5_PALETTE3_LOW: [cga.BLACK, cga.CYAN, cga.RED, cga.BBLACK],\n  EGA_MODE5_PALETTE3_HIGH: [cga.BLACK, cga.BCYAN, cga.BRED, cga.BWHITE],\n  CGA: [cga.BLACK, cga.BLUE, cga.GREEN, cga.CYAN, cga.RED, cga.MAGENTA, cga.YELLOW, cga.WHITE, cga.BBLACK, cga.BBLUE, cga.BGREEN, cga.BCYAN, cga.BRED, cga.BMAGENTA, cga.BYELLOW, cga.BWHITE],\n  // https://upload.wikimedia.org/wikipedia/commons/1/14/CGA-NTSC-colors.png\n  CGA_NTSC: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), // black\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 14, 163, 255), // blue\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 119, 23, 255), // green\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 156, 118, 255), // cyan\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(111, 7, 31, 255), // red\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(130, 34, 168, 255), // magenta\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(117, 143, 26, 255), // yellow\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(162, 162, 162, 255), // white\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(73, 73, 73, 255), // bblack\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(109, 92, 253, 255), // bblue\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(94, 210, 75, 255), // bgreen\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(105, 250, 209, 255), // bcyan\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(204, 80, 116, 255), // bred\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(224, 117, 254, 255), // bmagenta\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(210, 237, 79, 255), // byellow\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255) // bwhite\n  ],\n  // https://en.wikipedia.org/wiki/List_of_software_palettes#Microsoft_Windows_default_20-color_palette\n  CGA_MICROSOFT_256: [cga.BLACK, cga.BLUE, cga.GREEN, cga.CYAN, cga.RED, cga.MAGENTA, cga.YELLOW, cga.WHITE, cga.BBLACK, cga.BBLUE, cga.BGREEN, cga.BCYAN, cga.BRED, cga.BMAGENTA, cga.BYELLOW, cga.BWHITE, Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(188, 219, 192, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(157, 201, 238, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 251, 240, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(158, 159, 162, 255)],\n  // https://en.wikipedia.org/wiki/File:Commodore64_palette.png\n  C64: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(166, 77, 69, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(88, 192, 199, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(164, 88, 161, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(82, 171, 100, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(77, 71, 152, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(203, 212, 141, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(168, 104, 64, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(113, 84, 28, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(210, 125, 119, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(99, 99, 99, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(138, 138, 138, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(144, 226, 157, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(134, 126, 202, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(174, 173, 174, 255)],\n  C64_NTSC: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 52, 24, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 222, 253, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 78, 199, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(95, 185, 89, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 77, 204, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 236, 84, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 90, 30, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(201, 65, 22, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 113, 77, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(96, 96, 96, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(135, 152, 109, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 255, 157, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(35, 136, 250, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(195, 184, 213, 255)],\n  // https://en.wikipedia.org/wiki/File:BbcMicro_palette_color_test_chart.png\n  TELETEXT_BBC_MICRO: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 15, 22, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 254, 62, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 30, 250, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 255, 254, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 27, 249, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 254, 64, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  MAC2: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255), // white\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 0, 255), // yellow\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 102, 0, 255), // orange\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(221, 0, 0, 255), // red\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 0, 153, 255), // magenta\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(51, 0, 153, 255), // purple\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 204, 255), // blue\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 153, 255, 255), // cyan\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 170, 0, 255), // green\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 102, 0, 255), // dark green\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(102, 51, 0, 255), // brown\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 102, 51, 255), // tan\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 187, 187, 255), // light grey\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(136, 136, 136, 255), // medium grey\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 68, 68, 255), // dark grey\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255) // black\n  ],\n  // https://en.wikipedia.org/wiki/File:AppleII_palette.png\n  APPLE2: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(137, 61, 81, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(78, 74, 134, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(239, 96, 235, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 104, 84, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(145, 145, 145, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 167, 237, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(199, 194, 246, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(82, 92, 31, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(244, 125, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(145, 145, 145, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(251, 184, 200, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 199, 63, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(203, 209, 157, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(144, 219, 202, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  // https://en.wikipedia.org/wiki/File:MSX_palette.png\n  MSX: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 0), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(35, 182, 83, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(103, 206, 129, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(79, 88, 218, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(121, 119, 236, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(191, 94, 83, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 218, 237, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(227, 100, 91, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 135, 125, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(206, 193, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(224, 207, 138, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(41, 160, 74, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(186, 102, 177, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(203, 203, 203, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  MSX2_MODE6: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 38, 23, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(110, 108, 75, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 216, 149, 255)],\n  EARTHBOUND_1: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(6, 6, 6, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(239, 239, 239, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(207, 207, 207, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(142, 158, 129, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 174, 129, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 142, 112, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(93, 127, 105, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(193, 174, 130, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(195, 158, 108, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(154, 119, 91, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(252, 16, 95, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(150, 9, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(228, 206, 62, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(232, 150, 48, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(71, 83, 195, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(53, 37, 37, 255)],\n  SEPIA: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(8, 8, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(39, 34, 24, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(70, 63, 48, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(101, 93, 72, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(132, 122, 96, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(163, 152, 120, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(194, 182, 145, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(225, 211, 169, 255)],\n  GAMEBOY: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(155, 188, 15, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(139, 172, 15, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(48, 98, 48, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(15, 56, 15, 255)],\n  // https://steamcommunity.com/sharedfiles/filedetails/?id=572608400\n  DOWNWELL_GAMEBOY: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(50, 59, 41, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(109, 127, 87, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(98, 114, 79, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(156, 173, 136, 255)],\n  DOWNWELL: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(249, 249, 249, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(247, 0, 22, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(21, 127, 246, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255)],\n  DOWNWELL_NIKAIDO: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(254, 254, 254, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(252, 146, 33, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(21, 127, 252, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(26, 26, 13, 255)],\n  DOWNWELL_MAD: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(34, 31, 58, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(43, 224, 184, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(240, 39, 232, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(236, 153, 61, 255)],\n  DOWNWELL_RGB: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(91, 228, 126, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(220, 0, 52, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(2, 3, 109, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(25, 45, 155, 255)],\n  DOWNWELL_ZENNYAN: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(254, 254, 254, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(21, 127, 252, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(232, 11, 195, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(87, 182, 62, 255)],\n  VA_11_HALL_A: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(2, 0, 24, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(39, 8, 52, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(63, 1, 71, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(109, 7, 74, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(160, 16, 73, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(167, 96, 130, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 18, 75, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(202, 93, 108, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(206, 19, 76, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(243, 169, 141, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(250, 58, 80, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(253, 21, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(254, 180, 182, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(254, 238, 182, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  PC98_PHOBOS: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 102, 119, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 34, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 102, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(102, 68, 187, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(119, 136, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 119, 238, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 153, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 85, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 187, 187, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 153, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(204, 204, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(221, 187, 187, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(221, 34, 85, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 238, 221, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  PC98_YUNO: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(16, 156, 140, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(66, 33, 66, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(82, 99, 99, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(99, 99, 239, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(140, 49, 49, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(156, 173, 189, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(189, 206, 255, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(189, 49, 66, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(222, 140, 115, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(239, 49, 82, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 140, 156, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 173, 49, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 189, 173, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 222, 206, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  PC98_POLICENAUTS: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(1, 1, 1, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(1, 84, 220, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(35, 171, 35, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(69, 69, 69, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(84, 186, 205, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(103, 35, 16, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(137, 137, 137, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(171, 69, 205, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(171, 84, 69, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(186, 35, 35, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(205, 186, 50, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(205, 205, 205, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(205, 84, 1, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(220, 152, 118, 255)],\n  PC98_VIRGIN_ANGEL: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 136, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 68, 85, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 119, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(102, 102, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(102, 51, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 102, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 187, 204, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 153, 204, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 136, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 68, 68, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(221, 170, 170, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 221, 221, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 238, 221, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  PC98_INNOCENT_TOUR: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 68, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(34, 102, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 34, 34, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 85, 85, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(85, 153, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(119, 68, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(136, 153, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 102, 68, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(170, 187, 238, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(238, 153, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(238, 153, 51, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 187, 153, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  PC98_POSSESSIONER: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 51, 102, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(34, 119, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(34, 170, 187, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(68, 119, 68, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(136, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(136, 68, 34, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(153, 187, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(187, 187, 187, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(204, 102, 85, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(238, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(238, 153, 136, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 187, 170, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 204, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 255, 255, 255)],\n  // https://color.adobe.com/sandy-stone-beach-ocean-diver-color-theme-15325/\n  SANDY_STONE_BEACH: [Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(232, 225, 177, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(166, 161, 127, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(240, 235, 202, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 100, 126, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 51, 51, 255)],\n  VAPORWAVE: [// modified http://www.colourlovers.com/palette/3636765/seapunk_vaporwave\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(255, 106, 213, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(199, 116, 232, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(173, 140, 255, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(135, 149, 232, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(148, 208, 255, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255)],\n  WIREDSOUND: [// https://fauux.neocities.org\n  Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(210, 115, 138, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(0, 0, 0, 255), Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* rgba */ "m"])(193, 180, 146, 255)],\n  EMPTY: []\n};\nconst optionTypes = {\n  palette: {\n    type: constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__[/* COLOR_ARRAY */ "b"],\n    default: THEMES.CGA\n  },\n  colorDistanceAlgorithm: constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__[/* COLOR_DISTANCE_ALGORITHM */ "c"]\n};\nconst defaults = {\n  colors: optionTypes.palette.default,\n  colorDistanceAlgorithm: optionTypes.colorDistanceAlgorithm.default\n};\n\nconst getColor = (color, options = defaults) => {\n  const {\n    colors\n  } = options;\n  const colorDistanceAlgorithm = options.colorDistanceAlgorithm || defaults.colorDistanceAlgorithm;\n\n  if (!colors) {\n    return color;\n  }\n\n  let min = null;\n  let minDistance = 0;\n  colors.forEach(pc => {\n    const distance = Object(utils__WEBPACK_IMPORTED_MODULE_1__[/* colorDistance */ "e"])(pc, color, colorDistanceAlgorithm);\n\n    if (min === null) {\n      min = pc;\n      minDistance = distance;\n    } else if (distance < minDistance) {\n      min = pc;\n      minDistance = distance;\n    }\n  });\n  return !min ? color : min;\n};\n\nconst user = {\n  name: "User/Adaptive",\n  getColor,\n  options: defaults,\n  optionTypes,\n  defaults\n};\n/* harmony default export */ __webpack_exports__["b"] = (user);\nconst createPalette = colors => _objectSpread({}, user, {\n  options: _objectSpread({}, user.options, {\n    colors,\n    defaults: colors\n  })\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWxldHRlcy91c2VyLmpzP2ZmZDYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBDT0xPUl9BUlJBWSwgQ09MT1JfRElTVEFOQ0VfQUxHT1JJVEhNIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCB7IHJnYmEsIGNvbG9yRGlzdGFuY2UgfSBmcm9tIFwidXRpbHNcIjtcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfOC1iaXRfY29tcHV0ZXJfaGFyZHdhcmVfcGFsZXR0ZXNcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbG9yX0dyYXBoaWNzX0FkYXB0ZXJcbmNvbnN0IGNnYSA9IHtcbiAgQkxBQ0s6IHJnYmEoMCwgMCwgMCwgMjU1KSxcbiAgLy8gMCBibGFja1xuICBCTFVFOiByZ2JhKDAsIDAsIDE3MCwgMjU1KSxcbiAgLy8gMSBibHVlXG4gIEdSRUVOOiByZ2JhKDAsIDE3MCwgMCwgMjU1KSxcbiAgLy8gMiBncmVlblxuICBDWUFOOiByZ2JhKDAsIDE3MCwgMTcwLCAyNTUpLFxuICAvLyAzIGN5YW5cbiAgUkVEOiByZ2JhKDE3MCwgMCwgMCwgMjU1KSxcbiAgLy8gNCByZWRcbiAgTUFHRU5UQTogcmdiYSgxNzAsIDAsIDE3MCwgMjU1KSxcbiAgLy8gNSBtYWdlbnRhXG4gIFlFTExPVzogcmdiYSgxNzAsIDE3MCwgMCwgMjU1KSxcbiAgLy8gNiB5ZWxsb3dcbiAgV0hJVEU6IHJnYmEoMTcwLCAxNzAsIDE3MCwgMjU1KSxcbiAgLy8gNyB3aGl0ZVxuICBCQkxBQ0s6IHJnYmEoODUsIDg1LCA4NSwgMjU1KSxcbiAgLy8gOCBicmlnaHQgYmxhY2tcbiAgQkJMVUU6IHJnYmEoODUsIDg1LCAyNTUsIDI1NSksXG4gIC8vIDkgYnJpZ2h0IGJsdWVcbiAgQkdSRUVOOiByZ2JhKDg1LCAyNTUsIDg1LCAyNTUpLFxuICAvLyAxMCBicmlnaHQgZ3JlZW5cbiAgQkNZQU46IHJnYmEoODUsIDI1NSwgMjU1LCAyNTUpLFxuICAvLyAxMSBicmlnaHQgY3lhblxuICBCUkVEOiByZ2JhKDI1NSwgODUsIDg1LCAyNTUpLFxuICAvLyAxMiBicmlnaHQgcmVkXG4gIEJNQUdFTlRBOiByZ2JhKDI1NSwgODUsIDI1NSwgMjU1KSxcbiAgLy8gMTMgYnJpZ2h0IG1hZ2VudGFcbiAgQllFTExPVzogcmdiYSgyNTUsIDI1NSwgODUsIDI1NSksXG4gIC8vIDE0IGJyaWdodCB5ZWxsb3dcbiAgQldISVRFOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDI1NSkgLy8gMTUgYnJpZ2h0IHdoaXRlXG5cbn07XG5leHBvcnQgY29uc3QgVEhFTUVTID0ge1xuICBDTVlLOiBbcmdiYSgwLCAyNTUsIDI1NSwgMjU1KSwgLy8gY3lhblxuICByZ2JhKDI1NSwgMCwgMjU1LCAyNTUpLCAvLyBtYWdlbnRhXG4gIHJnYmEoMjU1LCAyNTUsIDAsIDI1NSksIC8vIHllbGxvd1xuICByZ2JhKDAsIDAsIDAsIDI1NSksIC8vIGJsYWNrXG4gIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KV0sXG4gIEVHQV9NT0RFNF9QQUxFVFRFMV9MT1c6IFtjZ2EuQkxBQ0ssIGNnYS5XSElURSwgY2dhLk1BR0VOVEEsIGNnYS5DWUFOXSxcbiAgRUdBX01PREU0X1BBTEVUVEUxX0hJR0g6IFtjZ2EuQkxBQ0ssIGNnYS5XSElURSwgY2dhLkJNQUdFTlRBLCBjZ2EuQkNZQU5dLFxuICBFR0FfTU9ERTRfUEFMRVRURTJfTE9XOiBbY2dhLkJMQUNLLCBjZ2EuR1JFRU4sIGNnYS5SRUQsIGNnYS5ZRUxMT1ddLFxuICBFR0FfTU9ERTRfUEFMRVRURTJfSElHSDogW2NnYS5CTEFDSywgY2dhLkJHUkVFTiwgY2dhLkJSRUQsIGNnYS5CWUVMTE9XXSxcbiAgRUdBX01PREU1X1BBTEVUVEUzX0xPVzogW2NnYS5CTEFDSywgY2dhLkNZQU4sIGNnYS5SRUQsIGNnYS5CQkxBQ0tdLFxuICBFR0FfTU9ERTVfUEFMRVRURTNfSElHSDogW2NnYS5CTEFDSywgY2dhLkJDWUFOLCBjZ2EuQlJFRCwgY2dhLkJXSElURV0sXG4gIENHQTogW2NnYS5CTEFDSywgY2dhLkJMVUUsIGNnYS5HUkVFTiwgY2dhLkNZQU4sIGNnYS5SRUQsIGNnYS5NQUdFTlRBLCBjZ2EuWUVMTE9XLCBjZ2EuV0hJVEUsIGNnYS5CQkxBQ0ssIGNnYS5CQkxVRSwgY2dhLkJHUkVFTiwgY2dhLkJDWUFOLCBjZ2EuQlJFRCwgY2dhLkJNQUdFTlRBLCBjZ2EuQllFTExPVywgY2dhLkJXSElURV0sXG4gIC8vIGh0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvMS8xNC9DR0EtTlRTQy1jb2xvcnMucG5nXG4gIENHQV9OVFNDOiBbcmdiYSgwLCAwLCAwLCAyNTUpLCAvLyBibGFja1xuICByZ2JhKDAsIDE0LCAxNjMsIDI1NSksIC8vIGJsdWVcbiAgcmdiYSgwLCAxMTksIDIzLCAyNTUpLCAvLyBncmVlblxuICByZ2JhKDAsIDE1NiwgMTE4LCAyNTUpLCAvLyBjeWFuXG4gIHJnYmEoMTExLCA3LCAzMSwgMjU1KSwgLy8gcmVkXG4gIHJnYmEoMTMwLCAzNCwgMTY4LCAyNTUpLCAvLyBtYWdlbnRhXG4gIHJnYmEoMTE3LCAxNDMsIDI2LCAyNTUpLCAvLyB5ZWxsb3dcbiAgcmdiYSgxNjIsIDE2MiwgMTYyLCAyNTUpLCAvLyB3aGl0ZVxuICByZ2JhKDczLCA3MywgNzMsIDI1NSksIC8vIGJibGFja1xuICByZ2JhKDEwOSwgOTIsIDI1MywgMjU1KSwgLy8gYmJsdWVcbiAgcmdiYSg5NCwgMjEwLCA3NSwgMjU1KSwgLy8gYmdyZWVuXG4gIHJnYmEoMTA1LCAyNTAsIDIwOSwgMjU1KSwgLy8gYmN5YW5cbiAgcmdiYSgyMDQsIDgwLCAxMTYsIDI1NSksIC8vIGJyZWRcbiAgcmdiYSgyMjQsIDExNywgMjU0LCAyNTUpLCAvLyBibWFnZW50YVxuICByZ2JhKDIxMCwgMjM3LCA3OSwgMjU1KSwgLy8gYnllbGxvd1xuICByZ2JhKDI1NSwgMjU1LCAyNTUsIDI1NSkgLy8gYndoaXRlXG4gIF0sXG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2Zfc29mdHdhcmVfcGFsZXR0ZXMjTWljcm9zb2Z0X1dpbmRvd3NfZGVmYXVsdF8yMC1jb2xvcl9wYWxldHRlXG4gIENHQV9NSUNST1NPRlRfMjU2OiBbY2dhLkJMQUNLLCBjZ2EuQkxVRSwgY2dhLkdSRUVOLCBjZ2EuQ1lBTiwgY2dhLlJFRCwgY2dhLk1BR0VOVEEsIGNnYS5ZRUxMT1csIGNnYS5XSElURSwgY2dhLkJCTEFDSywgY2dhLkJCTFVFLCBjZ2EuQkdSRUVOLCBjZ2EuQkNZQU4sIGNnYS5CUkVELCBjZ2EuQk1BR0VOVEEsIGNnYS5CWUVMTE9XLCBjZ2EuQldISVRFLCByZ2JhKDE4OCwgMjE5LCAxOTIsIDI1NSksIHJnYmEoMTU3LCAyMDEsIDIzOCwgMjU1KSwgcmdiYSgyNTUsIDI1MSwgMjQwLCAyNTUpLCByZ2JhKDE1OCwgMTU5LCAxNjIsIDI1NSldLFxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaWxlOkNvbW1vZG9yZTY0X3BhbGV0dGUucG5nXG4gIEM2NDogW3JnYmEoMCwgMCwgMCwgMjU1KSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAyNTUpLCByZ2JhKDE2NiwgNzcsIDY5LCAyNTUpLCByZ2JhKDg4LCAxOTIsIDE5OSwgMjU1KSwgcmdiYSgxNjQsIDg4LCAxNjEsIDI1NSksIHJnYmEoODIsIDE3MSwgMTAwLCAyNTUpLCByZ2JhKDc3LCA3MSwgMTUyLCAyNTUpLCByZ2JhKDIwMywgMjEyLCAxNDEsIDI1NSksIHJnYmEoMTY4LCAxMDQsIDY0LCAyNTUpLCByZ2JhKDExMywgODQsIDI4LCAyNTUpLCByZ2JhKDIxMCwgMTI1LCAxMTksIDI1NSksIHJnYmEoOTksIDk5LCA5OSwgMjU1KSwgcmdiYSgxMzgsIDEzOCwgMTM4LCAyNTUpLCByZ2JhKDE0NCwgMjI2LCAxNTcsIDI1NSksIHJnYmEoMTM0LCAxMjYsIDIwMiwgMjU1KSwgcmdiYSgxNzQsIDE3MywgMTc0LCAyNTUpXSxcbiAgQzY0X05UU0M6IFtyZ2JhKDAsIDAsIDAsIDI1NSksIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KSwgcmdiYSgyNTUsIDUyLCAyNCwgMjU1KSwgcmdiYSgwLCAyMjIsIDI1MywgMjU1KSwgcmdiYSgxNzAsIDc4LCAxOTksIDI1NSksIHJnYmEoOTUsIDE4NSwgODksIDI1NSksIHJnYmEoMCwgNzcsIDIwNCwgMjU1KSwgcmdiYSgyNTUsIDIzNiwgODQsIDI1NSksIHJnYmEoMjU1LCA5MCwgMzAsIDI1NSksIHJnYmEoMjAxLCA2NSwgMjIsIDI1NSksIHJnYmEoMjU1LCAxMTMsIDc3LCAyNTUpLCByZ2JhKDk2LCA5NiwgOTYsIDI1NSksIHJnYmEoMTM1LCAxNTIsIDEwOSwgMjU1KSwgcmdiYSgxNzAsIDI1NSwgMTU3LCAyNTUpLCByZ2JhKDM1LCAxMzYsIDI1MCwgMjU1KSwgcmdiYSgxOTUsIDE4NCwgMjEzLCAyNTUpXSxcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlsZTpCYmNNaWNyb19wYWxldHRlX2NvbG9yX3Rlc3RfY2hhcnQucG5nXG4gIFRFTEVURVhUX0JCQ19NSUNSTzogW3JnYmEoMCwgMCwgMCwgMjU1KSwgcmdiYSgyNTUsIDE1LCAyMiwgMjU1KSwgcmdiYSgwLCAyNTQsIDYyLCAyNTUpLCByZ2JhKDAsIDMwLCAyNTAsIDI1NSksIHJnYmEoMCwgMjU1LCAyNTQsIDI1NSksIHJnYmEoMjU1LCAyNywgMjQ5LCAyNTUpLCByZ2JhKDI1NSwgMjU0LCA2NCwgMjU1KSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAyNTUpXSxcbiAgTUFDMjogW3JnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KSwgLy8gd2hpdGVcbiAgcmdiYSgyNTUsIDI1NSwgMCwgMjU1KSwgLy8geWVsbG93XG4gIHJnYmEoMjU1LCAxMDIsIDAsIDI1NSksIC8vIG9yYW5nZVxuICByZ2JhKDIyMSwgMCwgMCwgMjU1KSwgLy8gcmVkXG4gIHJnYmEoMjU1LCAwLCAxNTMsIDI1NSksIC8vIG1hZ2VudGFcbiAgcmdiYSg1MSwgMCwgMTUzLCAyNTUpLCAvLyBwdXJwbGVcbiAgcmdiYSgwLCAwLCAyMDQsIDI1NSksIC8vIGJsdWVcbiAgcmdiYSgwLCAxNTMsIDI1NSwgMjU1KSwgLy8gY3lhblxuICByZ2JhKDAsIDE3MCwgMCwgMjU1KSwgLy8gZ3JlZW5cbiAgcmdiYSgwLCAxMDIsIDAsIDI1NSksIC8vIGRhcmsgZ3JlZW5cbiAgcmdiYSgxMDIsIDUxLCAwLCAyNTUpLCAvLyBicm93blxuICByZ2JhKDE1MywgMTAyLCA1MSwgMjU1KSwgLy8gdGFuXG4gIHJnYmEoMTg3LCAxODcsIDE4NywgMjU1KSwgLy8gbGlnaHQgZ3JleVxuICByZ2JhKDEzNiwgMTM2LCAxMzYsIDI1NSksIC8vIG1lZGl1bSBncmV5XG4gIHJnYmEoNjgsIDY4LCA2OCwgMjU1KSwgLy8gZGFyayBncmV5XG4gIHJnYmEoMCwgMCwgMCwgMjU1KSAvLyBibGFja1xuICBdLFxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaWxlOkFwcGxlSUlfcGFsZXR0ZS5wbmdcbiAgQVBQTEUyOiBbcmdiYSgwLCAwLCAwLCAyNTUpLCByZ2JhKDEzNywgNjEsIDgxLCAyNTUpLCByZ2JhKDc4LCA3NCwgMTM0LCAyNTUpLCByZ2JhKDIzOSwgOTYsIDIzNSwgMjU1KSwgcmdiYSgwLCAxMDQsIDg0LCAyNTUpLCByZ2JhKDE0NSwgMTQ1LCAxNDUsIDI1NSksIHJnYmEoMCwgMTY3LCAyMzcsIDI1NSksIHJnYmEoMTk5LCAxOTQsIDI0NiwgMjU1KSwgcmdiYSg4MiwgOTIsIDMxLCAyNTUpLCByZ2JhKDI0NCwgMTI1LCA1MSwgMjU1KSwgcmdiYSgxNDUsIDE0NSwgMTQ1LCAyNTUpLCByZ2JhKDI1MSwgMTg0LCAyMDAsIDI1NSksIHJnYmEoMCwgMTk5LCA2MywgMjU1KSwgcmdiYSgyMDMsIDIwOSwgMTU3LCAyNTUpLCByZ2JhKDE0NCwgMjE5LCAyMDIsIDI1NSksIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KV0sXG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ZpbGU6TVNYX3BhbGV0dGUucG5nXG4gIE1TWDogW3JnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMjU1KSwgcmdiYSgzNSwgMTgyLCA4MywgMjU1KSwgcmdiYSgxMDMsIDIwNiwgMTI5LCAyNTUpLCByZ2JhKDc5LCA4OCwgMjE4LCAyNTUpLCByZ2JhKDEyMSwgMTE5LCAyMzYsIDI1NSksIHJnYmEoMTkxLCA5NCwgODMsIDI1NSksIHJnYmEoNjgsIDIxOCwgMjM3LCAyNTUpLCByZ2JhKDIyNywgMTAwLCA5MSwgMjU1KSwgcmdiYSgyNTUsIDEzNSwgMTI1LCAyNTUpLCByZ2JhKDIwNiwgMTkzLCAxMDIsIDI1NSksIHJnYmEoMjI0LCAyMDcsIDEzOCwgMjU1KSwgcmdiYSg0MSwgMTYwLCA3NCwgMjU1KSwgcmdiYSgxODYsIDEwMiwgMTc3LCAyNTUpLCByZ2JhKDIwMywgMjAzLCAyMDMsIDI1NSksIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KV0sXG4gIE1TWDJfTU9ERTY6IFtyZ2JhKDAsIDAsIDAsIDI1NSksIHJnYmEoMjU1LCAzOCwgMjMsIDI1NSksIHJnYmEoMTEwLCAxMDgsIDc1LCAyNTUpLCByZ2JhKDI1NSwgMjE2LCAxNDksIDI1NSldLFxuICBFQVJUSEJPVU5EXzE6IFtyZ2JhKDYsIDYsIDYsIDI1NSksIHJnYmEoMjM5LCAyMzksIDIzOSwgMjU1KSwgcmdiYSgyMDcsIDIwNywgMjA3LCAyNTUpLCByZ2JhKDE0MiwgMTU4LCAxMjksIDI1NSksIHJnYmEoMCwgMTc0LCAxMjksIDI1NSksIHJnYmEoMCwgMTQyLCAxMTIsIDI1NSksIHJnYmEoOTMsIDEyNywgMTA1LCAyNTUpLCByZ2JhKDE5MywgMTc0LCAxMzAsIDI1NSksIHJnYmEoMTk1LCAxNTgsIDEwOCwgMjU1KSwgcmdiYSgxNTQsIDExOSwgOTEsIDI1NSksIHJnYmEoMjUyLCAxNiwgOTUsIDI1NSksIHJnYmEoMTUwLCA5LCA1MSwgMjU1KSwgcmdiYSgyMjgsIDIwNiwgNjIsIDI1NSksIHJnYmEoMjMyLCAxNTAsIDQ4LCAyNTUpLCByZ2JhKDcxLCA4MywgMTk1LCAyNTUpLCByZ2JhKDUzLCAzNywgMzcsIDI1NSldLFxuICBTRVBJQTogW3JnYmEoOCwgOCwgMCwgMjU1KSwgcmdiYSgzOSwgMzQsIDI0LCAyNTUpLCByZ2JhKDcwLCA2MywgNDgsIDI1NSksIHJnYmEoMTAxLCA5MywgNzIsIDI1NSksIHJnYmEoMTMyLCAxMjIsIDk2LCAyNTUpLCByZ2JhKDE2MywgMTUyLCAxMjAsIDI1NSksIHJnYmEoMTk0LCAxODIsIDE0NSwgMjU1KSwgcmdiYSgyMjUsIDIxMSwgMTY5LCAyNTUpXSxcbiAgR0FNRUJPWTogW3JnYmEoMTU1LCAxODgsIDE1LCAyNTUpLCByZ2JhKDEzOSwgMTcyLCAxNSwgMjU1KSwgcmdiYSg0OCwgOTgsIDQ4LCAyNTUpLCByZ2JhKDE1LCA1NiwgMTUsIDI1NSldLFxuICAvLyBodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9zaGFyZWRmaWxlcy9maWxlZGV0YWlscy8/aWQ9NTcyNjA4NDAwXG4gIERPV05XRUxMX0dBTUVCT1k6IFtyZ2JhKDUwLCA1OSwgNDEsIDI1NSksIHJnYmEoMTA5LCAxMjcsIDg3LCAyNTUpLCByZ2JhKDk4LCAxMTQsIDc5LCAyNTUpLCByZ2JhKDE1NiwgMTczLCAxMzYsIDI1NSldLFxuICBET1dOV0VMTDogW3JnYmEoMjQ5LCAyNDksIDI0OSwgMjU1KSwgcmdiYSgyNDcsIDAsIDIyLCAyNTUpLCByZ2JhKDIxLCAxMjcsIDI0NiwgMjU1KSwgcmdiYSgwLCAwLCAwLCAyNTUpXSxcbiAgRE9XTldFTExfTklLQUlETzogW3JnYmEoMjU0LCAyNTQsIDI1NCwgMjU1KSwgcmdiYSgyNTIsIDE0NiwgMzMsIDI1NSksIHJnYmEoMjEsIDEyNywgMjUyLCAyNTUpLCByZ2JhKDI2LCAyNiwgMTMsIDI1NSldLFxuICBET1dOV0VMTF9NQUQ6IFtyZ2JhKDM0LCAzMSwgNTgsIDI1NSksIHJnYmEoNDMsIDIyNCwgMTg0LCAyNTUpLCByZ2JhKDI0MCwgMzksIDIzMiwgMjU1KSwgcmdiYSgyMzYsIDE1MywgNjEsIDI1NSldLFxuICBET1dOV0VMTF9SR0I6IFtyZ2JhKDkxLCAyMjgsIDEyNiwgMjU1KSwgcmdiYSgyMjAsIDAsIDUyLCAyNTUpLCByZ2JhKDIsIDMsIDEwOSwgMjU1KSwgcmdiYSgyNSwgNDUsIDE1NSwgMjU1KV0sXG4gIERPV05XRUxMX1pFTk5ZQU46IFtyZ2JhKDI1NCwgMjU0LCAyNTQsIDI1NSksIHJnYmEoMjEsIDEyNywgMjUyLCAyNTUpLCByZ2JhKDIzMiwgMTEsIDE5NSwgMjU1KSwgcmdiYSg4NywgMTgyLCA2MiwgMjU1KV0sXG4gIFZBXzExX0hBTExfQTogW3JnYmEoMCwgMCwgMCwgMjU1KSwgcmdiYSgyLCAwLCAyNCwgMjU1KSwgcmdiYSgzOSwgOCwgNTIsIDI1NSksIHJnYmEoNjMsIDEsIDcxLCAyNTUpLCByZ2JhKDEwOSwgNywgNzQsIDI1NSksIHJnYmEoMTYwLCAxNiwgNzMsIDI1NSksIHJnYmEoMTY3LCA5NiwgMTMwLCAyNTUpLCByZ2JhKDE4NywgMTgsIDc1LCAyNTUpLCByZ2JhKDIwMiwgOTMsIDEwOCwgMjU1KSwgcmdiYSgyMDYsIDE5LCA3NiwgMjU1KSwgcmdiYSgyNDMsIDE2OSwgMTQxLCAyNTUpLCByZ2JhKDI1MCwgNTgsIDgwLCAyNTUpLCByZ2JhKDI1MywgMjEsIDEwMiwgMjU1KSwgcmdiYSgyNTQsIDE4MCwgMTgyLCAyNTUpLCByZ2JhKDI1NCwgMjM4LCAxODIsIDI1NSksIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KV0sXG4gIFBDOThfUEhPQk9TOiBbcmdiYSgwLCAwLCAwLCAyNTUpLCByZ2JhKDAsIDEwMiwgMTE5LCAyNTUpLCByZ2JhKDY4LCAzNCwgMTUzLCAyNTUpLCByZ2JhKDg1LCAxMDIsIDEwMiwgMjU1KSwgcmdiYSgxMDIsIDY4LCAxODcsIDI1NSksIHJnYmEoMTE5LCAxMzYsIDEzNiwgMjU1KSwgcmdiYSgxNTMsIDExOSwgMjM4LCAyNTUpLCByZ2JhKDE1MywgMTUzLCAxMDIsIDI1NSksIHJnYmEoMTUzLCA4NSwgMTAyLCAyNTUpLCByZ2JhKDE3MCwgMTg3LCAxODcsIDI1NSksIHJnYmEoMTg3LCAxNTMsIDE1MywgMjU1KSwgcmdiYSgyMDQsIDIwNCwgMTUzLCAyNTUpLCByZ2JhKDIyMSwgMTg3LCAxODcsIDI1NSksIHJnYmEoMjIxLCAzNCwgODUsIDI1NSksIHJnYmEoMjU1LCAyMzgsIDIyMSwgMjU1KSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAyNTUpXSxcbiAgUEM5OF9ZVU5POiBbcmdiYSgwLCAwLCAwLCAyNTUpLCByZ2JhKDE2LCAxNTYsIDE0MCwgMjU1KSwgcmdiYSg2NiwgMzMsIDY2LCAyNTUpLCByZ2JhKDgyLCA5OSwgOTksIDI1NSksIHJnYmEoOTksIDk5LCAyMzksIDI1NSksIHJnYmEoMTQwLCA0OSwgNDksIDI1NSksIHJnYmEoMTU2LCAxNzMsIDE4OSwgMjU1KSwgcmdiYSgxODksIDIwNiwgMjU1LCAyNTUpLCByZ2JhKDE4OSwgNDksIDY2LCAyNTUpLCByZ2JhKDIyMiwgMTQwLCAxMTUsIDI1NSksIHJnYmEoMjM5LCA0OSwgODIsIDI1NSksIHJnYmEoMjU1LCAxNDAsIDE1NiwgMjU1KSwgcmdiYSgyNTUsIDE3MywgNDksIDI1NSksIHJnYmEoMjU1LCAxODksIDE3MywgMjU1KSwgcmdiYSgyNTUsIDIyMiwgMjA2LCAyNTUpLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDI1NSldLFxuICBQQzk4X1BPTElDRU5BVVRTOiBbcmdiYSgxLCAxLCAxLCAyNTUpLCByZ2JhKDEsIDg0LCAyMjAsIDI1NSksIHJnYmEoMzUsIDE3MSwgMzUsIDI1NSksIHJnYmEoNjksIDY5LCA2OSwgMjU1KSwgcmdiYSg4NCwgMTg2LCAyMDUsIDI1NSksIHJnYmEoMTAzLCAzNSwgMTYsIDI1NSksIHJnYmEoMTM3LCAxMzcsIDEzNywgMjU1KSwgcmdiYSgxNzEsIDY5LCAyMDUsIDI1NSksIHJnYmEoMTcxLCA4NCwgNjksIDI1NSksIHJnYmEoMTg2LCAzNSwgMzUsIDI1NSksIHJnYmEoMjA1LCAxODYsIDUwLCAyNTUpLCByZ2JhKDIwNSwgMjA1LCAyMDUsIDI1NSksIHJnYmEoMjA1LCA4NCwgMSwgMjU1KSwgcmdiYSgyMjAsIDE1MiwgMTE4LCAyNTUpXSxcbiAgUEM5OF9WSVJHSU5fQU5HRUw6IFtyZ2JhKDAsIDAsIDAsIDI1NSksIHJnYmEoMCwgMTM2LCA1MSwgMjU1KSwgcmdiYSgwLCA2OCwgODUsIDI1NSksIHJnYmEoODUsIDExOSwgMTM2LCAyNTUpLCByZ2JhKDEwMiwgMTAyLCAxMzYsIDI1NSksIHJnYmEoMTAyLCA1MSwgNTEsIDI1NSksIHJnYmEoMTUzLCAxMDIsIDEwMiwgMjU1KSwgcmdiYSgxNTMsIDE4NywgMjA0LCAyNTUpLCByZ2JhKDE3MCwgMTUzLCAyMDQsIDI1NSksIHJnYmEoMTg3LCAxMzYsIDEzNiwgMjU1KSwgcmdiYSgxODcsIDY4LCA2OCwgMjU1KSwgcmdiYSgyMjEsIDE3MCwgMTcwLCAyNTUpLCByZ2JhKDI1NSwgMjIxLCAyMjEsIDI1NSksIHJnYmEoMjU1LCAyMzgsIDIyMSwgMjU1KSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAyNTUpXSxcbiAgUEM5OF9JTk5PQ0VOVF9UT1VSOiBbcmdiYSgwLCAwLCAwLCAyNTUpLCByZ2JhKDAsIDY4LCAxNTMsIDI1NSksIHJnYmEoMzQsIDEwMiwgMCwgMjU1KSwgcmdiYSg2OCwgMzQsIDM0LCAyNTUpLCByZ2JhKDY4LCA4NSwgODUsIDI1NSksIHJnYmEoODUsIDE1MywgNTEsIDI1NSksIHJnYmEoMTE5LCA2OCwgNTEsIDI1NSksIHJnYmEoMTM2LCAxNTMsIDE1MywgMjU1KSwgcmdiYSgxNTMsIDAsIDAsIDI1NSksIHJnYmEoMTcwLCAxMDIsIDY4LCAyNTUpLCByZ2JhKDE3MCwgMTg3LCAyMzgsIDI1NSksIHJnYmEoMjM4LCAxNTMsIDEwMiwgMjU1KSwgcmdiYSgyMzgsIDE1MywgNTEsIDI1NSksIHJnYmEoMjU1LCAxODcsIDE1MywgMjU1KSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAyNTUpXSxcbiAgUEM5OF9QT1NTRVNTSU9ORVI6IFtyZ2JhKDAsIDAsIDAsIDI1NSksIHJnYmEoMCwgNTEsIDEwMiwgMjU1KSwgcmdiYSgzNCwgMTE5LCAxMzYsIDI1NSksIHJnYmEoMzQsIDE3MCwgMTg3LCAyNTUpLCByZ2JhKDY4LCAxMTksIDY4LCAyNTUpLCByZ2JhKDEzNiwgMCwgMCwgMjU1KSwgcmdiYSgxMzYsIDY4LCAzNCwgMjU1KSwgcmdiYSgxNTMsIDE4NywgMTM2LCAyNTUpLCByZ2JhKDE4NywgMTg3LCAxODcsIDI1NSksIHJnYmEoMjA0LCAxMDIsIDg1LCAyNTUpLCByZ2JhKDIzOCwgMCwgMCwgMjU1KSwgcmdiYSgyMzgsIDE1MywgMTM2LCAyNTUpLCByZ2JhKDI1NSwgMTg3LCAxNzAsIDI1NSksIHJnYmEoMjU1LCAyMDQsIDAsIDI1NSksIHJnYmEoMjU1LCAyNTUsIDI1NSwgMjU1KV0sXG4gIC8vIGh0dHBzOi8vY29sb3IuYWRvYmUuY29tL3NhbmR5LXN0b25lLWJlYWNoLW9jZWFuLWRpdmVyLWNvbG9yLXRoZW1lLTE1MzI1L1xuICBTQU5EWV9TVE9ORV9CRUFDSDogW3JnYmEoMjMyLCAyMjUsIDE3NywgMjU1KSwgcmdiYSgxNjYsIDE2MSwgMTI3LCAyNTUpLCByZ2JhKDI0MCwgMjM1LCAyMDIsIDI1NSksIHJnYmEoMCwgMTAwLCAxMjYsIDI1NSksIHJnYmEoMCwgNTEsIDUxLCAyNTUpXSxcbiAgVkFQT1JXQVZFOiBbLy8gbW9kaWZpZWQgaHR0cDovL3d3dy5jb2xvdXJsb3ZlcnMuY29tL3BhbGV0dGUvMzYzNjc2NS9zZWFwdW5rX3ZhcG9yd2F2ZVxuICByZ2JhKDI1NSwgMTA2LCAyMTMsIDI1NSksIHJnYmEoMTk5LCAxMTYsIDIzMiwgMjU1KSwgcmdiYSgxNzMsIDE0MCwgMjU1LCAyNTUpLCByZ2JhKDEzNSwgMTQ5LCAyMzIsIDI1NSksIHJnYmEoMTQ4LCAyMDgsIDI1NSwgMjU1KSwgcmdiYSgwLCAwLCAwLCAyNTUpXSxcbiAgV0lSRURTT1VORDogWy8vIGh0dHBzOi8vZmF1dXgubmVvY2l0aWVzLm9yZ1xuICByZ2JhKDIxMCwgMTE1LCAxMzgsIDI1NSksIHJnYmEoMCwgMCwgMCwgMjU1KSwgcmdiYSgxOTMsIDE4MCwgMTQ2LCAyNTUpXSxcbiAgRU1QVFk6IFtdXG59O1xuY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBDT0xPUl9BUlJBWSxcbiAgICBkZWZhdWx0OiBUSEVNRVMuQ0dBXG4gIH0sXG4gIGNvbG9yRGlzdGFuY2VBbGdvcml0aG06IENPTE9SX0RJU1RBTkNFX0FMR09SSVRITVxufTtcbmNvbnN0IGRlZmF1bHRzID0ge1xuICBjb2xvcnM6IG9wdGlvblR5cGVzLnBhbGV0dGUuZGVmYXVsdCxcbiAgY29sb3JEaXN0YW5jZUFsZ29yaXRobTogb3B0aW9uVHlwZXMuY29sb3JEaXN0YW5jZUFsZ29yaXRobS5kZWZhdWx0XG59O1xuXG5jb25zdCBnZXRDb2xvciA9IChjb2xvciwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNvbG9yRGlzdGFuY2VBbGdvcml0aG0gPSBvcHRpb25zLmNvbG9yRGlzdGFuY2VBbGdvcml0aG0gfHwgZGVmYXVsdHMuY29sb3JEaXN0YW5jZUFsZ29yaXRobTtcblxuICBpZiAoIWNvbG9ycykge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIGxldCBtaW4gPSBudWxsO1xuICBsZXQgbWluRGlzdGFuY2UgPSAwO1xuICBjb2xvcnMuZm9yRWFjaChwYyA9PiB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBjb2xvckRpc3RhbmNlKHBjLCBjb2xvciwgY29sb3JEaXN0YW5jZUFsZ29yaXRobSk7XG5cbiAgICBpZiAobWluID09PSBudWxsKSB7XG4gICAgICBtaW4gPSBwYztcbiAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgfSBlbHNlIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICBtaW4gPSBwYztcbiAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuICFtaW4gPyBjb2xvciA6IG1pbjtcbn07XG5cbmNvbnN0IHVzZXIgPSB7XG4gIG5hbWU6IFwiVXNlci9BZGFwdGl2ZVwiLFxuICBnZXRDb2xvcixcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIG9wdGlvblR5cGVzLFxuICBkZWZhdWx0c1xufTtcbmV4cG9ydCBkZWZhdWx0IHVzZXI7XG5leHBvcnQgY29uc3QgY3JlYXRlUGFsZXR0ZSA9IGNvbG9ycyA9PiBfb2JqZWN0U3ByZWFkKHt9LCB1c2VyLCB7XG4gIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHVzZXIub3B0aW9ucywge1xuICAgIGNvbG9ycyxcbiAgICBkZWZhdWx0czogY29sb3JzXG4gIH0pXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n')},13:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return RGB_NEAREST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return RGB_APPROX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HSV_NEAREST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LAB_NEAREST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return WASM_LAB_NEAREST; });\nconst RGB_NEAREST = "RGB_NEAREST";\nconst RGB_APPROX = "RGB_APPROX";\nconst HSV_NEAREST = "HSV_NEAREST";\nconst LAB_NEAREST = "LAB_NEAREST";\nconst WASM_LAB_NEAREST = "SLOW_WASM_LAB_NEAREST";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25zdGFudHMvY29sb3IuanM/NWMwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUkdCX05FQVJFU1QgPSBcIlJHQl9ORUFSRVNUXCI7XG5leHBvcnQgY29uc3QgUkdCX0FQUFJPWCA9IFwiUkdCX0FQUFJPWFwiO1xuZXhwb3J0IGNvbnN0IEhTVl9ORUFSRVNUID0gXCJIU1ZfTkVBUkVTVFwiO1xuZXhwb3J0IGNvbnN0IExBQl9ORUFSRVNUID0gXCJMQUJfTkVBUkVTVFwiO1xuZXhwb3J0IGNvbnN0IFdBU01fTEFCX05FQVJFU1QgPSBcIlNMT1dfV0FTTV9MQUJfTkVBUkVTVFwiOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n')},14:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PALETTE; });\n/* unused harmony export UNKNOWN */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SCALING_ALGORITHM; });\nconst PALETTE = "PALETTE";\nconst UNKNOWN = "UNKNOWN";\nconst SCALING_ALGORITHM = {\n  AUTO: "AUTO",\n  PIXELATED: "PIXELATED"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25zdGFudHMvb3B0aW9uVHlwZXMuanM/ZjM3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUEFMRVRURSA9IFwiUEFMRVRURVwiO1xuZXhwb3J0IGNvbnN0IFVOS05PV04gPSBcIlVOS05PV05cIjtcbmV4cG9ydCBjb25zdCBTQ0FMSU5HX0FMR09SSVRITSA9IHtcbiAgQVVUTzogXCJBVVRPXCIsXG4gIFBJWEVMQVRFRDogXCJQSVhFTEFURURcIlxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n')},19:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export ALL */\n/* unused harmony export PIXEL */\n/* unused harmony export optionTypes */\n/* unused harmony export defaults */\n/* harmony import */ var constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var palettes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/* harmony import */ var utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n\n\n\nconst ALL = "ALL";\nconst PIXEL = "PIXEL";\nconst optionTypes = {\n  mode: {\n    type: constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__[/* ENUM */ "d"],\n    options: [{\n      name: "Pixel",\n      value: PIXEL\n    }],\n    default: PIXEL\n  },\n  program: {\n    type: constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__[/* TEXT */ "i"],\n    default: `// Eval\'d JS\n// Errors in console\n// Variables:\n// r, g, b, a\n// w, h, x, y\n// const p ([r, g, b, a]),\n// const i (index),\n// buf (pixel array)\n// palette\n\nr = buf[i + 17];\ng = b;\nb = i % 255;\na = 255;`\n  },\n  palette: {\n    type: constants_controlTypes__WEBPACK_IMPORTED_MODULE_0__[/* PALETTE */ "e"],\n    default: palettes__WEBPACK_IMPORTED_MODULE_1__[/* nearest */ "a"]\n  }\n};\nconst defaults = {\n  mode: optionTypes.mode.default,\n  program: optionTypes.program.default,\n  palette: optionTypes.palette.default\n};\n\nconst programFilter = (input, options = defaults) => {\n  const {\n    program,\n    palette\n  } = options;\n  const output = Object(utils__WEBPACK_IMPORTED_MODULE_2__[/* cloneCanvas */ "d"])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const w = input.width;\n  const h = input.height;\n\n  outside: for (let x = 0; x < w; x += 1) {\n    // eslint-disable-line\n    for (let y = 0; y < h; y += 1) {\n      // Define variables for program\n      const i = Object(utils__WEBPACK_IMPORTED_MODULE_2__[/* getBufferIndex */ "i"])(x, y, w);\n      const p = Object(utils__WEBPACK_IMPORTED_MODULE_2__[/* rgba */ "m"])(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]);\n      /* eslint-disable */\n\n      let r = p[0];\n      let g = p[1];\n      let b = p[2];\n      let a = p[3];\n\n      try {\n        eval(program);\n      } catch (e) {\n        console.error(e);\n        break outside;\n      }\n      /* eslint-enable */\n\n\n      const col = palette.getColor([r, g, b, a], palette.options);\n      Object(utils__WEBPACK_IMPORTED_MODULE_2__[/* fillBufferPixel */ "g"])(buf, i, col[0], col[1], col[2], col[3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ __webpack_exports__["a"] = ({\n  name: "Program",\n  func: programFilter,\n  optionTypes,\n  options: defaults,\n  defaults\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3Byb2dyYW0uanM/OGI2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTlVNLCBURVhULCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBBTEwgPSBcIkFMTFwiO1xuZXhwb3J0IGNvbnN0IFBJWEVMID0gXCJQSVhFTFwiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBtb2RlOiB7XG4gICAgdHlwZTogRU5VTSxcbiAgICBvcHRpb25zOiBbe1xuICAgICAgbmFtZTogXCJQaXhlbFwiLFxuICAgICAgdmFsdWU6IFBJWEVMXG4gICAgfV0sXG4gICAgZGVmYXVsdDogUElYRUxcbiAgfSxcbiAgcHJvZ3JhbToge1xuICAgIHR5cGU6IFRFWFQsXG4gICAgZGVmYXVsdDogYC8vIEV2YWwnZCBKU1xuLy8gRXJyb3JzIGluIGNvbnNvbGVcbi8vIFZhcmlhYmxlczpcbi8vIHIsIGcsIGIsIGFcbi8vIHcsIGgsIHgsIHlcbi8vIGNvbnN0IHAgKFtyLCBnLCBiLCBhXSksXG4vLyBjb25zdCBpIChpbmRleCksXG4vLyBidWYgKHBpeGVsIGFycmF5KVxuLy8gcGFsZXR0ZVxuXG5yID0gYnVmW2kgKyAxN107XG5nID0gYjtcbmIgPSBpICUgMjU1O1xuYSA9IDI1NTtgXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IHBhbGV0dGVzLm5lYXJlc3RcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAgbW9kZTogb3B0aW9uVHlwZXMubW9kZS5kZWZhdWx0LFxuICBwcm9ncmFtOiBvcHRpb25UeXBlcy5wcm9ncmFtLmRlZmF1bHQsXG4gIHBhbGV0dGU6IG9wdGlvblR5cGVzLnBhbGV0dGUuZGVmYXVsdFxufTtcblxuY29uc3QgcHJvZ3JhbUZpbHRlciA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwcm9ncmFtLFxuICAgIHBhbGV0dGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuICBjb25zdCB3ID0gaW5wdXQud2lkdGg7XG4gIGNvbnN0IGggPSBpbnB1dC5oZWlnaHQ7XG5cbiAgb3V0c2lkZTogZm9yIChsZXQgeCA9IDA7IHggPCB3OyB4ICs9IDEpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoOyB5ICs9IDEpIHtcbiAgICAgIC8vIERlZmluZSB2YXJpYWJsZXMgZm9yIHByb2dyYW1cbiAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCB3KTtcbiAgICAgIGNvbnN0IHAgPSByZ2JhKGJ1ZltpXSwgYnVmW2kgKyAxXSwgYnVmW2kgKyAyXSwgYnVmW2kgKyAzXSk7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4gICAgICBsZXQgciA9IHBbMF07XG4gICAgICBsZXQgZyA9IHBbMV07XG4gICAgICBsZXQgYiA9IHBbMl07XG4gICAgICBsZXQgYSA9IHBbM107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGV2YWwocHJvZ3JhbSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIGJyZWFrIG91dHNpZGU7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cblxuICAgICAgY29uc3QgY29sID0gcGFsZXR0ZS5nZXRDb2xvcihbciwgZywgYiwgYV0sIHBhbGV0dGUub3B0aW9ucyk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCBjb2xbMF0sIGNvbFsxXSwgY29sWzJdLCBjb2xbM10pO1xuICAgIH1cbiAgfVxuXG4gIG91dHB1dEN0eC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YShidWYsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCksIDAsIDApO1xuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcIlByb2dyYW1cIixcbiAgZnVuYzogcHJvZ3JhbUZpbHRlcixcbiAgb3B0aW9uVHlwZXMsXG4gIG9wdGlvbnM6IGRlZmF1bHRzLFxuICBkZWZhdWx0c1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n')},2:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BOOL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ENUM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return RANGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return STRING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return TEXT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return PALETTE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return COLOR_ARRAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return COLOR_DISTANCE_ALGORITHM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return SCALING_ALGORITHM_OPTIONS; });\n/* harmony import */ var constants_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var constants_optionTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14);\n\n\nconst BOOL = "BOOL";\nconst ENUM = "ENUM";\nconst RANGE = "RANGE";\nconst STRING = "STRING";\nconst TEXT = "TEXT";\nconst PALETTE = "PALETTE";\nconst COLOR_ARRAY = "COLOR_ARRAY";\nconst COLOR_DISTANCE_ALGORITHM = {\n  type: ENUM,\n  options: [{\n    name: "RGB",\n    value: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* RGB_NEAREST */ "d"]\n  }, {\n    name: "RGB (perceptual approx.)",\n    value: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* RGB_APPROX */ "c"]\n  }, {\n    name: "HSV",\n    value: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* HSV_NEAREST */ "a"]\n  }, {\n    name: "Lab",\n    value: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* LAB_NEAREST */ "b"]\n  }, {\n    name: "Lab (wasm)",\n    value: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* WASM_LAB_NEAREST */ "e"]\n  }],\n  default: constants_color__WEBPACK_IMPORTED_MODULE_0__[/* RGB_APPROX */ "c"]\n};\nconst SCALING_ALGORITHM_OPTIONS = {\n  type: ENUM,\n  options: [{\n    name: "Auto",\n    value: constants_optionTypes__WEBPACK_IMPORTED_MODULE_1__[/* SCALING_ALGORITHM */ "b"].AUTO\n  }, {\n    name: "Pixelated",\n    value: constants_optionTypes__WEBPACK_IMPORTED_MODULE_1__[/* SCALING_ALGORITHM */ "b"].PIXELATED\n  }],\n  default: constants_optionTypes__WEBPACK_IMPORTED_MODULE_1__[/* SCALING_ALGORITHM */ "b"].AUTO\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbnN0YW50cy9jb250cm9sVHlwZXMuanM/MDQwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSR0JfTkVBUkVTVCwgUkdCX0FQUFJPWCwgTEFCX05FQVJFU1QsIEhTVl9ORUFSRVNULCBXQVNNX0xBQl9ORUFSRVNUIH0gZnJvbSBcImNvbnN0YW50cy9jb2xvclwiO1xuaW1wb3J0IHsgU0NBTElOR19BTEdPUklUSE0gfSBmcm9tIFwiY29uc3RhbnRzL29wdGlvblR5cGVzXCI7XG5leHBvcnQgY29uc3QgQk9PTCA9IFwiQk9PTFwiO1xuZXhwb3J0IGNvbnN0IEVOVU0gPSBcIkVOVU1cIjtcbmV4cG9ydCBjb25zdCBSQU5HRSA9IFwiUkFOR0VcIjtcbmV4cG9ydCBjb25zdCBTVFJJTkcgPSBcIlNUUklOR1wiO1xuZXhwb3J0IGNvbnN0IFRFWFQgPSBcIlRFWFRcIjtcbmV4cG9ydCBjb25zdCBQQUxFVFRFID0gXCJQQUxFVFRFXCI7XG5leHBvcnQgY29uc3QgQ09MT1JfQVJSQVkgPSBcIkNPTE9SX0FSUkFZXCI7XG5leHBvcnQgY29uc3QgQ09MT1JfRElTVEFOQ0VfQUxHT1JJVEhNID0ge1xuICB0eXBlOiBFTlVNLFxuICBvcHRpb25zOiBbe1xuICAgIG5hbWU6IFwiUkdCXCIsXG4gICAgdmFsdWU6IFJHQl9ORUFSRVNUXG4gIH0sIHtcbiAgICBuYW1lOiBcIlJHQiAocGVyY2VwdHVhbCBhcHByb3guKVwiLFxuICAgIHZhbHVlOiBSR0JfQVBQUk9YXG4gIH0sIHtcbiAgICBuYW1lOiBcIkhTVlwiLFxuICAgIHZhbHVlOiBIU1ZfTkVBUkVTVFxuICB9LCB7XG4gICAgbmFtZTogXCJMYWJcIixcbiAgICB2YWx1ZTogTEFCX05FQVJFU1RcbiAgfSwge1xuICAgIG5hbWU6IFwiTGFiICh3YXNtKVwiLFxuICAgIHZhbHVlOiBXQVNNX0xBQl9ORUFSRVNUXG4gIH1dLFxuICBkZWZhdWx0OiBSR0JfQVBQUk9YXG59O1xuZXhwb3J0IGNvbnN0IFNDQUxJTkdfQUxHT1JJVEhNX09QVElPTlMgPSB7XG4gIHR5cGU6IEVOVU0sXG4gIG9wdGlvbnM6IFt7XG4gICAgbmFtZTogXCJBdXRvXCIsXG4gICAgdmFsdWU6IFNDQUxJTkdfQUxHT1JJVEhNLkFVVE9cbiAgfSwge1xuICAgIG5hbWU6IFwiUGl4ZWxhdGVkXCIsXG4gICAgdmFsdWU6IFNDQUxJTkdfQUxHT1JJVEhNLlBJWEVMQVRFRFxuICB9XSxcbiAgZGVmYXVsdDogU0NBTElOR19BTEdPUklUSE0uQVVUT1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},28:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(23)(false);\n// imports\n\n\n// module\nexports.push([module.i, "._2QobU25W0YSZIQ1RQeIEMp {\\n  font-size: 0.75em;\\n}", ""]);\n\n// exports\nexports.locals = {\n\t"s": "_2QobU25W0YSZIQ1RQeIEMp"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvZXhhbXBsZS5zY3NzP2M3YjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuXzJRb2JVMjVXMFlTWklRMVJRZUlFTXAge1xcbiAgZm9udC1zaXplOiAwLjc1ZW07XFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInNcIjogXCJfMlFvYlUyNVcwWVNaSVExUlFlSUVNcFwiXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n')},49:function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(59);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(30)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvc3R5bGUuc2Nzcz9iMGIwIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0yLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0yLTIhLi9zdHlsZS5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0yLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0yLTIhLi9zdHlsZS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMi0xIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMi0yIS4vc3R5bGUuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49\n")},58:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(36);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ../node_modules/redux/es/index.js + 15 modules\nvar es = __webpack_require__(21);\n\n// EXTERNAL MODULE: ../node_modules/react-redux/es/index.js + 23 modules\nvar react_redux_es = __webpack_require__(18);\n\n// EXTERNAL MODULE: ../node_modules/redux-thunk/lib/index.js\nvar lib = __webpack_require__(55);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ../node_modules/history/createBrowserHistory.js\nvar createBrowserHistory = __webpack_require__(25);\nvar createBrowserHistory_default = /*#__PURE__*/__webpack_require__.n(createBrowserHistory);\n\n// EXTERNAL MODULE: ../node_modules/react-router-dom/es/index.js + 30 modules\nvar react_router_dom_es = __webpack_require__(48);\n\n// EXTERNAL MODULE: ../node_modules/react-router-redux/es/index.js + 14 modules\nvar react_router_redux_es = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./constants/actionTypes.js\nconst LOAD_IMAGE = "LOAD_IMAGE";\nconst LOAD_STATE = "LOAD_STATE";\nconst FILTER_IMAGE = "FILTER_IMAGE";\nconst SELECT_FILTER = "SELECT_FILTER";\nconst SET_FILTER_OPTION = "SET_FILTER_OPTION";\nconst SET_FILTER_PALETTE_OPTION = "SET_FILTER_PALETTE_OPTION";\nconst ADD_PALETTE_COLOR = "ADD_PALETTE_COLOR";\nconst SAVE_CURRENT_COLOR_PALETTE = "SAVE_CURRENT_COLOR_PALETTE";\nconst DELETE_CURRENT_COLOR_PALETTE = "DELETE_CURRENT_COLOR_PALETTE";\nconst SET_GRAYSCALE = "SET_GRAYSCALE";\nconst SET_SCALE = "SET_SCALE";\nconst SET_OUTPUT_SCALE = "SET_OUTPUT_SCALE";\nconst SET_REAL_TIME_FILTERING = "SET_REAL_TIME_FILTERING";\nconst SET_INPUT_CANVAS = "SET_INPUT_CANVAS";\nconst SET_INPUT_VOLUME = "SET_INPUT_VOLUME";\nconst SET_INPUT_PLAYBACK_RATE = "SET_INPUT_PLAYBACK_RATE";\nconst SET_SCALING_ALGORITHM = "SET_SCALING_ALGORITHM";\nconst ERROR = "ERROR";\nconst ASYNC_FILTER = "ASYNC_FILTER";\n// EXTERNAL MODULE: ./constants/optionTypes.js\nvar constants_optionTypes = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./palettes/index.js + 1 modules\nvar palettes = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./palettes/user.js\nvar user = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./actions/index.js\n/* eslint-disable import/prefer-default-export */\n\n\n\n\nconst actions_importState = json => {\n  const deserialized = JSON.parse(json);\n  return {\n    type: LOAD_STATE,\n    data: deserialized\n  };\n};\nconst actions_setInputVolume = volume => ({\n  type: SET_INPUT_VOLUME,\n  volume\n});\nconst actions_setInputPlaybackRate = rate => ({\n  type: SET_INPUT_PLAYBACK_RATE,\n  rate\n});\nconst actions_setInputCanvas = canvas => ({\n  type: SET_INPUT_CANVAS,\n  canvas\n});\nconst actions_setScalingAlgorithm = algorithm => ({\n  type: SET_SCALING_ALGORITHM,\n  algorithm\n});\nconst actions_loadImage = (image, time = 0, video, dispatch) => ({\n  type: LOAD_IMAGE,\n  image,\n  time,\n  video,\n  dispatch\n});\nconst actions_loadImageAsync = file => dispatch => {\n  const reader = new FileReader();\n  const image = new Image();\n\n  reader.onload = event => {\n    image.onload = () => {\n      dispatch(actions_loadImage(image, null, null, dispatch));\n    };\n\n    image.src = event.target.result;\n  };\n\n  reader.readAsDataURL(file);\n};\nconst actions_loadVideoAsync = (file, volume = 1, playbackRate = 1) => dispatch => {\n  const reader = new FileReader();\n  const video = document.createElement("video");\n\n  reader.onload = event => {\n    const i = new Image();\n    const canvas = document.createElement("canvas");\n    const ctx = canvas.getContext("2d");\n\n    const loadFrame = () => {\n      URL.revokeObjectURL(i.src);\n\n      if (!video.paused && video.src !== "") {\n        i.width = video.videoWidth;\n        i.height = video.videoHeight;\n        ctx.drawImage(video, 0, 0);\n        canvas.toBlob(blob => {\n          if (blob) {\n            i.src = URL.createObjectURL(blob);\n\n            i.onload = () => {\n              if (!video.paused && video.src !== "") {\n                requestAnimationFrame(loadFrame);\n                dispatch(actions_loadImage(i, video.currentTime, video, dispatch));\n              }\n            };\n          }\n        });\n      }\n    };\n\n    let firstPlay = true;\n\n    video.onplaying = () => {\n      if (firstPlay) {\n        firstPlay = false;\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        requestAnimationFrame(loadFrame);\n      }\n    };\n\n    const blob = new Blob([event.target.result]);\n    video.volume = volume;\n    video.src = URL.createObjectURL(blob);\n    video.playbackRate = playbackRate;\n    video.loop = true;\n    video.autoplay = true;\n    video.play();\n  };\n\n  reader.readAsArrayBuffer(file);\n};\nconst actions_loadMediaAsync = (file, volume = 1, playbackRate = 1) => {\n  if (file.type.startsWith("video/")) {\n    return actions_loadVideoAsync(file, volume, playbackRate);\n  }\n\n  return actions_loadImageAsync(file);\n};\nconst actions_setConvertGrayscale = value => ({\n  type: SET_GRAYSCALE,\n  value\n});\nconst actions_selectFilter = (name, filter) => ({\n  type: SELECT_FILTER,\n  name,\n  filter\n});\nconst actions_filterImage = image => ({\n  type: FILTER_IMAGE,\n  image\n});\nconst actions_filterImageAsync = (input, filter, options) => dispatch => {\n  const output = filter(input, options, dispatch);\n  if (!output) return {\n    type: ERROR,\n    message: "Error filtering"\n  };\n\n  if (output instanceof HTMLCanvasElement) {\n    const outputImage = new Image();\n    outputImage.src = output.toDataURL("image/png");\n\n    outputImage.onload = () => {\n      dispatch(actions_filterImage(outputImage));\n    };\n  }\n\n  return null;\n};\nconst actions_addPaletteColor = color => ({\n  type: ADD_PALETTE_COLOR,\n  color\n}); // FIXME: Why is it finding by name here? Fishy, potential problem when value is a valid palette name\n\nconst actions_setFilterOption = (optionName, value) => {\n  const paletteObject = palettes["b" /* paletteList */].find(p => p.name === value);\n  return {\n    type: SET_FILTER_OPTION,\n    optionName,\n    value: paletteObject ? paletteObject.palette : value\n  };\n};\nconst actions_setFilterPaletteOption = (optionName, value) => ({\n  type: SET_FILTER_PALETTE_OPTION,\n  optionName,\n  value\n});\nconst actions_setScale = scale => ({\n  type: SET_SCALE,\n  scale\n});\nconst actions_setOutputScale = scale => ({\n  type: SET_OUTPUT_SCALE,\n  scale\n});\nconst actions_setRealtimeFiltering = enabled => ({\n  type: SET_REAL_TIME_FILTERING,\n  enabled\n});\nconst actions_saveCurrentColorPalette = (name, colors) => {\n  window.localStorage.setItem(`_palette_${name.replace(" ", "")}`, JSON.stringify({\n    type: constants_optionTypes["a" /* PALETTE */],\n    name,\n    colors\n  }));\n  user["a" /* THEMES */][name] = colors;\n  return {\n    type: SAVE_CURRENT_COLOR_PALETTE,\n    name\n  };\n};\nconst actions_deleteCurrentColorPalette = name => {\n  window.localStorage.removeItem(`_palette_${name.replace(" ", "")}`);\n  delete user["a" /* THEMES */][name];\n  return {\n    type: DELETE_CURRENT_COLOR_PALETTE,\n    name\n  };\n};\n// EXTERNAL MODULE: ../node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(9);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ../node_modules/react-draggable/dist/react-draggable.js\nvar react_draggable = __webpack_require__(27);\nvar react_draggable_default = /*#__PURE__*/__webpack_require__.n(react_draggable);\n\n// EXTERNAL MODULE: ./constants/controlTypes.js\nvar controlTypes = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./components/controls/styles.scss\nvar styles = __webpack_require__(6);\nvar styles_default = /*#__PURE__*/__webpack_require__.n(styles);\n\n// CONCATENATED MODULE: ./components/controls/Enum.jsx\n\n\n\nconst Enum_Enum = props => react_default.a.createElement("div", null, react_default.a.createElement("div", {\n  className: styles_default.a.label\n}, props.name), react_default.a.createElement("select", {\n  className: styles_default.a.enum,\n  value: props.value,\n  onChange: e => props.onSetFilterOption(props.name, e.target.value)\n}, props.types.options.map(p => react_default.a.createElement("option", {\n  key: p.value,\n  name: p.value\n}, p.value))));\n\n/* harmony default export */ var controls_Enum = (Enum_Enum);\n// CONCATENATED MODULE: ./components/controls/Palette.jsx\n/* eslint-disable react/no-unused-prop-types */\n\n\n\n\n\nconst Palette_Palette = props => react_default.a.createElement("div", {\n  className: styles_default.a.group\n}, react_default.a.createElement("span", {\n  className: styles_default.a.name\n}, props.name), react_default.a.createElement("select", {\n  className: styles_default.a.enum,\n  value: props.value.name,\n  onChange: e => props.onSetFilterOption(props.name, e.target.value)\n}, palettes["b" /* paletteList */].map(p => react_default.a.createElement("option", {\n  key: p.name,\n  name: p.name\n}, p.name))), react_default.a.createElement(controls, {\n  inputCanvas: props.inputCanvas,\n  optionTypes: props.value.optionTypes,\n  options: props.paletteOptions,\n  onAddPaletteColor: props.onAddPaletteColor,\n  onSetPaletteOption: props.onSetPaletteOption,\n  onSetFilterOption: props.onSetPaletteOption,\n  onSaveColorPalette: props.onSaveColorPalette,\n  onDeleteColorPalette: props.onDeleteColorPalette\n}));\n\n/* harmony default export */ var controls_Palette = (Palette_Palette);\n// CONCATENATED MODULE: ./components/controls/Bool.jsx\n/* eslint-disable react/no-unused-prop-types */\n\n\n\nconst Bool_Bool = props => react_default.a.createElement("div", {\n  className: styles_default.a.checkbox\n}, react_default.a.createElement("input", {\n  type: "checkbox",\n  checked: props.value,\n  onChange: e => props.onSetFilterOption(props.name, e.target.checked)\n}), react_default.a.createElement("span", {\n  className: styles_default.a.label,\n  role: "presentation",\n  onClick: () => props.onSetFilterOption(props.name, !props.value)\n}, props.name));\n\n/* harmony default export */ var controls_Bool = (Bool_Bool);\n// CONCATENATED MODULE: ./components/controls/Range.jsx\n\n\n\nconst Range_onManualValue = props => {\n  const newValue = window.prompt("Value"); // eslint-disable-line\n\n  const parsed = parseFloat(newValue);\n\n  if (parsed || parsed === 0) {\n    props.onSetFilterOption(props.name, parsed);\n  }\n};\n\nconst Range_Range = props => react_default.a.createElement("div", {\n  className: styles_default.a.range\n}, react_default.a.createElement("div", {\n  className: styles_default.a.label\n}, props.name), react_default.a.createElement("div", {\n  className: styles_default.a.rangeGroup\n}, react_default.a.createElement("input", {\n  type: "range",\n  min: props.types.range[0],\n  max: props.types.range[1],\n  value: props.value,\n  step: props.step || 1,\n  onChange: e => props.onSetFilterOption(props.name, parseFloat(e.target.value))\n}), react_default.a.createElement("span", {\n  role: "button",\n  tabIndex: "0",\n  className: [styles_default.a.value, styles_default.a.clickable].join(" "),\n  onClick: () => Range_onManualValue(props),\n  onKeyPress: e => {\n    if (e.key === "Enter") {\n      Range_onManualValue(props);\n    }\n  }\n}, props.value)));\n\n/* harmony default export */ var controls_Range = (Range_Range);\n// CONCATENATED MODULE: ./components/controls/Stringly.jsx\n\n\n\nconst Stringly_Stringly = props => react_default.a.createElement("div", null, react_default.a.createElement("div", {\n  className: styles_default.a.label\n}, props.name), react_default.a.createElement("input", {\n  type: "text",\n  value: props.value,\n  onChange: e => props.onSetFilterOption(props.name, e.target.value)\n}));\n\n/* harmony default export */ var controls_Stringly = (Stringly_Stringly);\n// CONCATENATED MODULE: ./components/controls/Textly.jsx\n\n\n\nconst Textly_Textly = props => react_default.a.createElement("div", null, react_default.a.createElement("div", {\n  className: styles_default.a.label\n}, props.name), react_default.a.createElement("textarea", {\n  type: "text",\n  value: props.value,\n  wrap: "off",\n  spellCheck: "false",\n  onChange: e => props.onSetFilterOption(props.name, e.target.value)\n}));\n\n/* harmony default export */ var controls_Textly = (Textly_Textly);\n// EXTERNAL MODULE: ./utils/index.js\nvar utils = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./components/controls/ColorArray.jsx\n/* eslint-disable no-alert, react/no-unused-prop-types, react/prop-types, jsx-a11y/accessible-emoji */\n\n\n\n\n\nconst ColorArray_TOP = "TOP";\nconst ColorArray_RGB_ADAPT_MID = "RGB_ADAPT_MID";\nconst ColorArray_RGB_ADAPT_AVERAGE = "RGB_ADAPT_AVERAGE";\nconst ColorArray_RGB_ADAPT_FIRST = "RGB_ADAPT_FIRST";\nconst ColorArray_LAB_ADAPT_MID = "LAB_ADAPT_MID";\nconst ColorArray_LAB_ADAPT_AVERAGE = "LAB_ADAPT_AVERAGE";\nconst ColorArray_LAB_ADAPT_FIRST = "LAB_ADAPT_FIRST";\nconst ColorArray_modeMap = {\n  [ColorArray_RGB_ADAPT_MID]: {\n    colorMode: "RGB",\n    adaptMode: "MID"\n  },\n  [ColorArray_RGB_ADAPT_AVERAGE]: {\n    colorMode: "RGB",\n    adaptMode: "AVERAGE"\n  },\n  [ColorArray_RGB_ADAPT_FIRST]: {\n    colorMode: "RGB",\n    adaptMode: "FIRST"\n  },\n  [ColorArray_LAB_ADAPT_MID]: {\n    colorMode: "LAB",\n    adaptMode: "MID"\n  },\n  [ColorArray_LAB_ADAPT_AVERAGE]: {\n    colorMode: "LAB",\n    adaptMode: "AVERAGE"\n  },\n  [ColorArray_LAB_ADAPT_FIRST]: {\n    colorMode: "LAB",\n    adaptMode: "FIRST"\n  }\n};\n\nconst ColorArray_convertCsvToColor = csv => {\n  const tokens = csv.split(",");\n\n  if (tokens.length !== 4) {\n    return null;\n  }\n\n  const channels = tokens.map(t => parseInt(t, 10));\n\n  if (!channels.every(val => val >= 0 && val <= 255)) {\n    return null;\n  }\n\n  return Object(utils["m" /* rgba */])(channels[0], channels[1], channels[2], channels[3]);\n};\n\nconst ColorArray_onDeleteColor = (e, props) => {\n  props.onSetPaletteOption("colors", props.value.filter((_, idx) => idx !== parseInt(e.target.dataset.idx, 10) - 1));\n};\n\nclass ColorArray_ColorArray extends react_default.a.Component {\n  constructor() {\n    super();\n    this.state = {\n      extractMode: ColorArray_TOP\n    };\n  }\n\n  render() {\n    const currentTheme = Object.entries(user["a" /* THEMES */]).find(e => e[1] === this.props.value);\n    const customThemeName = "Custom";\n    const currentThemeName = currentTheme ? currentTheme[0] : customThemeName;\n    const themePicker = react_default.a.createElement("select", {\n      className: styles_default.a.enum,\n      value: currentThemeName,\n      onChange: e => this.props.onSetPaletteOption("colors", user["a" /* THEMES */][e.target.value])\n    }, Object.entries(user["a" /* THEMES */]).map(e => {\n      const [key, val] = e;\n      return react_default.a.createElement("option", {\n        key: key,\n        name: key,\n        "data-colors": val\n      }, key);\n    }), react_default.a.createElement("option", {\n      key: customThemeName,\n      name: customThemeName,\n      disabled: true\n    }, "Custom"));\n    let i = 0;\n    const colorSwatch = react_default.a.createElement("div", {\n      className: styles_default.a.colorArray\n    }, this.props.value.map(c => {\n      const color = `rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`;\n      return react_default.a.createElement("div", {\n        key: `${c}-${i++}` // eslint-disable-line\n        ,\n        className: styles_default.a.color,\n        "data-idx": i,\n        title: `${color} - click to remove`,\n        role: "button",\n        tabIndex: "0",\n        onKeyPress: e => {\n          if (e.key === "Enter") {\n            ColorArray_onDeleteColor(e, this.props);\n          }\n        },\n        onClick: e => {\n          ColorArray_onDeleteColor(e, this.props);\n        },\n        style: {\n          backgroundColor: color\n        }\n      });\n    }));\n    const onAddColorButton = react_default.a.createElement("button", {\n      onClick: () => {\n        const colorString = prompt(\'Add a color: "r,g,b,a" (0-255 for each, eg. 255,0,0,255 for red)\');\n        const color = ColorArray_convertCsvToColor(colorString);\n\n        if (color) {\n          this.props.onAddPaletteColor(color);\n        }\n      }\n    }, "\\uD83D\\uDD8C Add color");\n    const extractTopButton = react_default.a.createElement("button", {\n      onClick: () => {\n        const ctx = this.props.inputCanvas && this.props.inputCanvas.getContext("2d");\n\n        if (ctx) {\n          const topN = parseInt(prompt("Take the top n colors", 64), 10);\n          const colors = Object(utils["s" /* uniqueColors */])(ctx.getImageData(0, 0, this.props.inputCanvas && this.props.inputCanvas.width || 0, this.props.inputCanvas && this.props.inputCanvas.height || 0).data, topN);\n          this.props.onSetPaletteOption("colors", colors);\n        }\n      }\n    }, "\\uD83D\\uDDBC\\uFE0F Extract TOP");\n\n    const extractAdaptiveButton = (name, ignoreAlpha, colorMode, adaptMode) => react_default.a.createElement("button", {\n      onClick: () => {\n        const ctx = this.props.inputCanvas && this.props.inputCanvas.getContext("2d");\n\n        if (ctx) {\n          const topN = parseInt(prompt("Take the top 2^n colors", 4), 10);\n          const colors = Object(utils["k" /* medianCutPalette */])(ctx.getImageData(0, 0, this.props.inputCanvas && this.props.inputCanvas.width || 0, this.props.inputCanvas && this.props.inputCanvas.height || 0).data, topN, ignoreAlpha, adaptMode, colorMode);\n          this.props.onSetPaletteOption("colors", colors);\n        }\n      }\n    }, "\\uD83D\\uDDBC\\uFE0F ", `Extract ${name}`);\n\n    const extractOptions = react_default.a.createElement("div", null, // $FlowFixMe\n    react_default.a.createElement(controls_Enum, {\n      name: "Algorithm",\n      value: this.state.extractMode,\n      types: {\n        options: [{\n          name: "Top",\n          value: ColorArray_TOP\n        }, {\n          name: "RGB Adaptive (mid)",\n          value: ColorArray_RGB_ADAPT_MID\n        }, {\n          name: "RGB Adaptive (average)",\n          value: ColorArray_RGB_ADAPT_AVERAGE\n        }, {\n          name: "RGB Adaptive (first)",\n          value: ColorArray_RGB_ADAPT_FIRST\n        }, {\n          name: "LAB Adaptive (mid)",\n          value: ColorArray_LAB_ADAPT_MID\n        }, {\n          name: "LAB Adaptive (average)",\n          value: ColorArray_LAB_ADAPT_AVERAGE\n        }, {\n          name: "LAB Adaptive (first)",\n          value: ColorArray_LAB_ADAPT_FIRST\n        }]\n      },\n      onSetFilterOption: (name, value) => {\n        this.setState({\n          extractMode: value\n        });\n      }\n    }), this.state.extractMode === ColorArray_TOP ? extractTopButton : extractAdaptiveButton(this.state.extractMode, true, ColorArray_modeMap[this.state.extractMode].colorMode, ColorArray_modeMap[this.state.extractMode].adaptMode));\n    const savePaletteButton = react_default.a.createElement("button", {\n      onClick: () => {\n        const name = prompt("Save current palette as");\n        const savedName = `🎨 ${name}`;\n\n        if (!name || user["a" /* THEMES */][savedName]) {\n          alert("Could not save: name taken or invalid. Use a different name. ");\n        } else {\n          // $FlowFixMe\n          this.props.onSaveColorPalette(savedName, this.props.value);\n          this.forceUpdate();\n        }\n      }\n    }, "\\uD83C\\uDFA8 Save locally");\n    const exportPaletteButton = react_default.a.createElement("button", {\n      onClick: () => {\n        const w = window.open("");\n        w.document.write(`Copy this:\n            <textarea>${JSON.stringify(this.props.value)}</textarea>\n            <hr>\n            Dev:\n            <textarea>${this.props.value.map(c => `rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`).join(",\\n")}</textarea>`);\n      }\n    }, "\\uD83C\\uDFA8 Export");\n    const importPaletteButton = react_default.a.createElement("button", {\n      onClick: () => {\n        const json = window.prompt("Paste theme JSON");\n        const imported = JSON.parse(json);\n        this.props.onSetPaletteOption("colors", imported);\n      }\n    }, "\\uD83C\\uDFA8 Import palette");\n    const deletePaletteButton = react_default.a.createElement("button", {\n      onClick: () => {\n        if (!currentTheme || !currentTheme[0]) {\n          return;\n        }\n\n        this.props.onDeleteColorPalette(currentTheme[0]);\n        this.forceUpdate();\n      }\n    }, "\\uD83C\\uDFA8 Delete");\n    return react_default.a.createElement("div", null, react_default.a.createElement("div", {\n      className: styles_default.a.label\n    }, "Theme"), themePicker, colorSwatch, onAddColorButton, react_default.a.createElement("div", {\n      className: styles_default.a.group\n    }, react_default.a.createElement("span", {\n      className: styles_default.a.name\n    }, "Extract from input"), extractOptions), !currentTheme ? savePaletteButton : null, importPaletteButton, !currentTheme ? exportPaletteButton : null, currentTheme && currentTheme[0] && currentTheme[0].includes("🎨 ") // Hack!\n    ? deletePaletteButton : null);\n  }\n\n}\n// CONCATENATED MODULE: ./components/controls/index.jsx\n/* eslint-disable react/no-unused-prop-types */\n\n\n\n\n\n\n\n\n\n\n\nconst controls_Controls = props => react_default.a.createElement("div", {\n  className: styles_default.a.controls\n}, Object.entries(props.optionTypes).map(e => {\n  const [name, oType] = e; // $FlowFixMe\n\n  switch (oType.type) {\n    case controlTypes["f" /* RANGE */]:\n      return (// $FlowFixMe\n        react_default.a.createElement(controls_Range, {\n          key: name,\n          name: name,\n          types: oType,\n          value: props.options[name] // $FlowFixMe\n          ,\n          step: oType && oType.step,\n          onSetFilterOption: props.onSetFilterOption\n        })\n      );\n\n    case controlTypes["e" /* PALETTE */]:\n      return react_default.a.createElement(controls_Palette, {\n        key: name,\n        name: name,\n        types: oType,\n        value: props.options[name],\n        paletteOptions: props.options[name].options,\n        onAddPaletteColor: props.onAddPaletteColor,\n        onSetFilterOption: props.onSetFilterOption,\n        onSetPaletteOption: props.onSetPaletteOption,\n        onSaveColorPalette: props.onSaveColorPalette,\n        onDeleteColorPalette: props.onDeleteColorPalette,\n        inputCanvas: props.inputCanvas\n      });\n\n    case controlTypes["b" /* COLOR_ARRAY */]:\n      return react_default.a.createElement(ColorArray_ColorArray, {\n        key: name,\n        name: name,\n        value: props.options.colors,\n        onAddPaletteColor: props.onAddPaletteColor,\n        onSetFilterOption: props.onSetFilterOption,\n        onSetPaletteOption: props.onSetPaletteOption,\n        onSaveColorPalette: props.onSaveColorPalette,\n        onDeleteColorPalette: props.onDeleteColorPalette,\n        inputCanvas: props.inputCanvas\n      });\n\n    case controlTypes["h" /* STRING */]:\n      return react_default.a.createElement(controls_Stringly, {\n        key: name,\n        name: name,\n        types: oType,\n        value: props.options[name],\n        onSetFilterOption: props.onSetFilterOption\n      });\n\n    case controlTypes["i" /* TEXT */]:\n      return react_default.a.createElement(controls_Textly, {\n        key: name,\n        name: name,\n        types: oType,\n        value: props.options[name],\n        onSetFilterOption: props.onSetFilterOption\n      });\n\n    case controlTypes["a" /* BOOL */]:\n      return react_default.a.createElement(controls_Bool, {\n        key: name,\n        name: name,\n        types: oType,\n        value: props.options[name],\n        onSetFilterOption: props.onSetFilterOption\n      });\n\n    case controlTypes["d" /* ENUM */]:\n      return (// $FlowFixMe\n        react_default.a.createElement(controls_Enum, {\n          key: name,\n          name: name,\n          types: oType,\n          value: props.options[name],\n          onSetFilterOption: props.onSetFilterOption\n        })\n      );\n\n    default:\n      return react_default.a.createElement("div", null, "Unknown setting type");\n  }\n}));\n\n/* harmony default export */ var controls = (controls_Controls);\n// CONCATENATED MODULE: ./containers/Controls.js\n\n\n\n\nconst Controls_mapStateToProps = (state, ownProps) => ({\n  optionTypes: state.filters.selected.filter.optionTypes,\n  options: state.filters.selected.filter.options,\n  inputCanvas: ownProps.inputCanvas\n});\n\nconst Controls_mapDispatchToProps = dispatch => ({\n  onSetFilterOption: (name, value) => dispatch(actions_setFilterOption(name, value)),\n  onSetPaletteOption: (name, value) => dispatch(actions_setFilterPaletteOption(name, value)),\n  onAddPaletteColor: color => dispatch(actions_addPaletteColor(color)),\n  onSaveColorPalette: (name, colors) => dispatch(actions_saveCurrentColorPalette(name, colors)),\n  onDeleteColorPalette: name => dispatch(actions_deleteCurrentColorPalette(name))\n});\n\nconst Controls_ContainedControls = Object(react_redux_es["b" /* connect */])(Controls_mapStateToProps, Controls_mapDispatchToProps)(controls);\n/* harmony default export */ var containers_Controls = (Controls_ContainedControls);\n// CONCATENATED MODULE: ./components/App/Exporter.jsx\n/* eslint-disable react/prefer-stateless-function, react/forbid-prop-types */\n\n\nclass Exporter_Exporter extends react_default.a.Component {\n  render() {\n    return react_default.a.createElement("div", null, react_default.a.createElement("button", {\n      onClick: () => {\n        this.props.onExportState(this.props.state, "uri");\n      }\n    }, "\\u21E7 URL"), react_default.a.createElement("button", {\n      onClick: () => {\n        this.props.onExportState(this.props.state, "json");\n      }\n    }, "\\u21E7 JSON"), react_default.a.createElement("button", {\n      onClick: () => {\n        const json = prompt("Paste JSON"); // eslint-disable-line\n\n        this.props.onImportState(json);\n      }\n    }, "Import"));\n  }\n\n}\nExporter_Exporter.propTypes = {\n  state: prop_types_default.a.object,\n  onImportState: prop_types_default.a.func,\n  onExportState: prop_types_default.a.func\n};\nExporter_Exporter.defaultProps = {\n  state: {},\n  onImportState: () => {},\n  onExportState: () => {}\n};\n// CONCATENATED MODULE: ./containers/Exporter.js\n\n\n\n\nconst Exporter_mapStateToProps = state => ({\n  state: state.filters\n});\n\nconst Exporter_mapDispatchToProps = dispatch => ({\n  onExportState: (state, format) => {\n    const json = JSON.stringify({\n      selected: state.selected,\n      convertGrayscale: state.convertGrayscale\n    }, (k, v) => {\n      if (k === "defaults" || k === "optionTypes" || typeof v === "function") {\n        return undefined;\n      }\n\n      return v;\n    });\n\n    if (format === "json") {\n      window.open(`data:application/json,${encodeURI(json)}`);\n    } else {\n      const base = `${window.location.origin}${window.location.pathname}`;\n      prompt("URL", `${base}?state=${encodeURI(btoa(json))}`); // eslint-disable-line\n    }\n  },\n  onImportState: json => dispatch(actions_importState(json))\n});\n\nconst Exporter_ContainedExporter = Object(react_redux_es["b" /* connect */])(Exporter_mapStateToProps, Exporter_mapDispatchToProps)(Exporter_Exporter);\n/* harmony default export */ var containers_Exporter = (Exporter_ContainedExporter);\n// EXTERNAL MODULE: ./components/App/styles.scss\nvar App_styles = __webpack_require__(11);\nvar App_styles_default = /*#__PURE__*/__webpack_require__.n(App_styles);\n\n// CONCATENATED MODULE: ./components/App/index.jsx\n/* eslint-disable react/prefer-stateless-function, react/forbid-prop-types */\n\n\n\n\n\n\n\n\n\n\n\nclass App_App extends react_default.a.Component {\n  constructor(props) {\n    super(props);\n    this.inputCanvas = null;\n    this.outputCanvas = null;\n    this.chunks = [];\n    this.mediaRecorder = null;\n    this.captureVideo = document.createElement("video");\n    this.captureVideo.controls = true;\n    this.captureVideo.autoplay = true;\n    this.captureVideo.loop = true;\n    this.zIndex = 0;\n    this.stream = null;\n    this.state = {\n      dropping: false,\n      capturing: false,\n      hasCapture: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.onSetInputCanvas(this.inputCanvas);\n\n    if (document.body && this.captureVideo) {\n      const captureOutputContainer = document.body.querySelector("#captureOutput");\n\n      if (captureOutputContainer) {\n        captureOutputContainer.appendChild(this.captureVideo);\n      }\n    }\n  }\n\n  componentWillUpdate(nextProps) {\n    const drawToCanvas = (canvas, image, scale) => {\n      const finalWidth = image.width * scale;\n      const finalHeight = image.height * scale;\n      canvas.width = finalWidth; // eslint-disable-line\n\n      canvas.height = finalHeight; // eslint-disable-line\n\n      const ctx = canvas.getContext("2d");\n      ctx.imageSmoothingEnabled = nextProps.scalingAlgorithm === constants_optionTypes["b" /* SCALING_ALGORITHM */].AUTO;\n\n      if (ctx) {\n        ctx.drawImage(image, 0, 0, finalWidth, finalHeight);\n      }\n    };\n\n    const newInput = nextProps.inputImage !== this.props.inputImage;\n    const newScale = nextProps.scale !== this.props.scale;\n    const newTime = nextProps.time !== this.props.time;\n\n    if (this.inputCanvas && nextProps.inputImage && (newTime || newInput || newScale)) {\n      drawToCanvas(this.inputCanvas, nextProps.inputImage, nextProps.scale);\n    }\n\n    if (this.outputCanvas && nextProps.outputImage && nextProps.outputImage !== this.props.outputImage) {\n      drawToCanvas(this.outputCanvas, nextProps.outputImage, nextProps.outputScale);\n    }\n  }\n\n  render() {\n    const bringToTop = e => {\n      this.zIndex += 1;\n      e.currentTarget.style.zIndex = `${this.zIndex}`;\n    };\n\n    const loadImageSection = react_default.a.createElement("div", null, react_default.a.createElement("h2", null, "Load image or video"), react_default.a.createElement("input", {\n      className: [styles_default.a.file, this.state.dropping ? styles_default.a.dropping : null].join(" "),\n      type: "file",\n      id: "imageLoader",\n      name: "imageLoader",\n      onChange: e => this.props.onLoadImage(e, this.props.inputVideoVolume, this.props.inputVideoPlaybackRate),\n      onDragLeave: () => {\n        this.setState({\n          dropping: false\n        });\n      },\n      onDragOver: () => {\n        this.setState({\n          dropping: true\n        });\n      },\n      onDragEnter: () => {\n        this.setState({\n          dropping: true\n        });\n      },\n      onDrop: () => {\n        this.setState({\n          dropping: false\n        });\n      }\n    }), react_default.a.createElement(controls_Range, {\n      name: "Input Scale",\n      types: {\n        range: [0.1, 4]\n      },\n      step: 0.1,\n      onSetFilterOption: (_, value) => {\n        this.props.onSetScale(value);\n      },\n      value: this.props.scale\n    }));\n    const filterOptionsSection = react_default.a.createElement("div", {\n      className: App_styles_default.a.section\n    }, react_default.a.createElement("h2", null, "Algorithm"), react_default.a.createElement("div", {\n      className: ["filterOptions", App_styles_default.a.filterOptions].join(" ")\n    }, react_default.a.createElement("select", {\n      className: styles_default.a.enum,\n      onChange: e => {\n        const name = e.target.value;\n        const filter = this.props.availableFilters.find(f => f && f.displayName === name);\n        this.props.onSelectFilter(name, filter);\n      },\n      value: this.props.selectedFilter && (this.props.selectedFilter.displayName || this.props.selectedFilter.name)\n    }, this.props.availableFilters.map(f => react_default.a.createElement("option", {\n      key: f && f.displayName,\n      value: f && f.displayName\n    }, f && f.displayName))), react_default.a.createElement("div", {\n      className: styles_default.a.group\n    }, react_default.a.createElement("span", {\n      className: styles_default.a.name\n    }, "Options"), react_default.a.createElement(containers_Controls, {\n      inputCanvas: this.inputCanvas\n    }), react_default.a.createElement("div", {\n      className: styles_default.a.checkbox\n    }, react_default.a.createElement("input", {\n      name: "convertGrayscale",\n      type: "checkbox",\n      checked: this.props.convertGrayscale,\n      onChange: e => this.props.onConvertGrayscale(e.target.checked)\n    }), react_default.a.createElement("span", {\n      role: "presentation",\n      onClick: () => this.props.onConvertGrayscale(!this.props.convertGrayscale),\n      className: styles_default.a.label\n    }, "Pre-convert to grayscale"))), react_default.a.createElement(containers_Exporter, null)));\n    const filterButtonSection = react_default.a.createElement("div", {\n      className: App_styles_default.a.section\n    }, react_default.a.createElement("h2", null, "Filter"), react_default.a.createElement("button", {\n      className: [App_styles_default.a.filterButton, App_styles_default.a.waitButton].join(" "),\n      onClick: () => {\n        this.props.onFilterImage(this.inputCanvas, this.props.selectedFilter.filter, this.props.convertGrayscale);\n      }\n    }, "Filter"), react_default.a.createElement("button", {\n      style: {\n        marginLeft: "auto"\n      },\n      className: App_styles_default.a.copyButton,\n      onClick: () => {\n        if (this.outputCanvas) {\n          const image = new Image();\n          image.src = this.outputCanvas.toDataURL("image/png");\n\n          image.onload = () => {\n            this.props.onSetInput(image);\n            this.props.onSetScale(1);\n          };\n        }\n      }\n    }, "<< Copy output to input"), react_default.a.createElement("div", {\n      className: App_styles_default.a.section\n    }, react_default.a.createElement("h2", null, "Video"), react_default.a.createElement("div", null, react_default.a.createElement("label", {\n      className: styles_default.a.label,\n      htmlFor: "mute"\n    }, react_default.a.createElement("input", {\n      id: "mute",\n      type: "checkbox",\n      checked: this.props.inputVideoVolume === 0,\n      onChange: () => {\n        this.props.onSetInputVolume(this.props.inputVideoVolume > 0 ? 0 : 1);\n      }\n    }), "Mute video")), react_default.a.createElement("div", null, react_default.a.createElement("label", {\n      className: styles_default.a.label,\n      htmlFor: "realtimeFiltering"\n    }, react_default.a.createElement("input", {\n      id: "realtimeFiltering",\n      type: "checkbox",\n      onChange: e => {\n        this.props.onSetRealTimeFiltering(e.target.checked);\n      },\n      checked: this.props.realtimeFiltering\n    }), "Realtime filtering (videos)")), react_default.a.createElement("div", null, react_default.a.createElement(controls_Range, {\n      name: "Video Playback Rate",\n      types: {\n        range: [0, 2]\n      },\n      step: 0.05,\n      onSetFilterOption: (_, value) => {\n        this.props.onSetInputPlaybackRate(value);\n      },\n      value: this.props.inputVideoPlaybackRate\n    })), react_default.a.createElement("div", {\n      className: App_styles_default.a.captureSection\n    }, react_default.a.createElement("button", {\n      id: "captureButton",\n      style: {\n        margin: "5px 0"\n      },\n      disabled: !this.props.realtimeFiltering,\n      onClick: () => {\n        if (!this.state.capturing && this.outputCanvas) {\n          this.stream = this.outputCanvas.captureStream(25); // Mux audio + video tracks together\n\n          if (this.stream && this.props.inputVideo) {\n            const vid = this.props.inputVideo;\n            let streams; // Audio capture doesn\'t work on Firefox 57\n            // https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/captureStream\n            // if (vid.mozCaptureStream) {\n            //   streams = vid.mozCaptureStream(25);\n            // } else if (vid.captureStream) {\n            //   streams = vid.captureStream(25);\n            // }\n\n            if (vid.captureStream) {\n              streams = vid.captureStream(25);\n            }\n\n            if (streams && this.stream && this.props.inputVideoVolume > 0) {\n              const audioTracks = streams.getAudioTracks();\n              audioTracks.forEach(t => {\n                // $FlowFixMe\n                this.stream.addTrack(t.clone());\n              });\n            }\n          }\n\n          this.captureVideo.srcObject = this.stream; // $FlowFixMe\n\n          this.mediaRecorder = new MediaRecorder(this.stream);\n          this.mediaRecorder.start(); // $FlowFixMe\n\n          this.mediaRecorder.ondataavailable = e => {\n            this.chunks.push(e.data);\n          }; // $FlowFixMe\n\n\n          this.mediaRecorder.onstop = () => {\n            const blob = new Blob(this.chunks, {\n              type: "video/webm"\n            });\n            this.chunks = [];\n            const dataUrl = URL.createObjectURL(blob);\n            this.captureVideo.srcObject = null;\n            this.captureVideo.src = dataUrl;\n          };\n\n          this.setState({\n            capturing: true,\n            hasCapture: true\n          });\n        } else if (this.stream) {\n          // $FlowFixMe\n          this.stream.getTracks().forEach(track => track.stop()); // $FlowFixMe\n\n          this.mediaRecorder.stop();\n          this.setState({\n            capturing: false\n          });\n        }\n      }\n    }, this.state.capturing ? "Stop capture" : "Capture output video"), react_default.a.createElement("div", {\n      className: styles_default.a.unselectable\n    }, "Audio capture requires Chrome")), react_default.a.createElement("div", {\n      className: App_styles_default.a.section\n    }, react_default.a.createElement("h2", null, "Others"), react_default.a.createElement(controls_Enum, {\n      name: "Scaling algorithm",\n      onSetFilterOption: this.props.onSetScalingAlgorithm,\n      value: this.props.scalingAlgorithm,\n      types: controlTypes["g" /* SCALING_ALGORITHM_OPTIONS */]\n    }), react_default.a.createElement(controls_Range, {\n      name: "Output Scale",\n      types: {\n        range: [0.1, 4]\n      },\n      step: 0.1,\n      onSetFilterOption: (_, value) => {\n        this.props.onSetOutputScale(value);\n      },\n      value: this.props.outputScale\n    }))));\n    const canvases = react_default.a.createElement("div", {\n      className: App_styles_default.a.canvases\n    }, react_default.a.createElement(react_draggable_default.a, {\n      bounds: {\n        top: 0,\n        left: 0\n      }\n    }, react_default.a.createElement("div", {\n      role: "presentation",\n      onMouseDownCapture: bringToTop\n    }, react_default.a.createElement("div", {\n      className: styles_default.a.window\n    }, react_default.a.createElement("div", {\n      className: ["handle", styles_default.a.titleBar].join(" ")\n    }, "Input"), react_default.a.createElement("canvas", {\n      className: [App_styles_default.a.canvas, App_styles_default.a[this.props.scalingAlgorithm]].join(" "),\n      ref: c => {\n        this.inputCanvas = c;\n      }\n    })))), react_default.a.createElement(react_draggable_default.a, {\n      bounds: {\n        top: 0,\n        left: this.inputCanvas && -this.inputCanvas.width || -300\n      }\n    }, react_default.a.createElement("div", {\n      role: "presentation",\n      onMouseDownCapture: bringToTop\n    }, react_default.a.createElement("div", {\n      className: styles_default.a.window\n    }, react_default.a.createElement("div", {\n      className: ["handle", styles_default.a.titleBar].join(" ")\n    }, "Output"), react_default.a.createElement("canvas", {\n      className: App_styles_default.a.canvas,\n      ref: c => {\n        this.outputCanvas = c;\n      }\n    })))), react_default.a.createElement(react_draggable_default.a, {\n      bounds: {\n        top: 0,\n        left: (this.inputCanvas && -this.inputCanvas.width || -300) * 2\n      }\n    }, react_default.a.createElement("div", {\n      role: "presentation",\n      onMouseDownCapture: bringToTop,\n      id: "captureWindow",\n      className: this.state.hasCapture ? "" : App_styles_default.a.hide\n    }, react_default.a.createElement("div", {\n      className: styles_default.a.window\n    }, react_default.a.createElement("div", {\n      className: ["handle", styles_default.a.titleBar].join(" ")\n    }, "Capture"), react_default.a.createElement("div", {\n      id: "captureOutput"\n    }), react_default.a.createElement("div", {\n      className: [App_styles_default.a.rec, !this.state.capturing ? App_styles_default.a.hide : ""].join(" ")\n    }, "\\u25CF REC")))));\n    return react_default.a.createElement("div", {\n      className: App_styles_default.a.app\n    }, react_default.a.createElement("div", {\n      className: App_styles_default.a.chrome\n    }, react_default.a.createElement("h1", null, "\\uFF24\\uFF29\\uFF34\\uFF28\\uFF25\\uFF32\\uFF25\\uFF32 \\u2593\\u2592\\u2591"), loadImageSection, filterOptionsSection, filterButtonSection, react_default.a.createElement("div", {\n      className: App_styles_default.a.github\n    }, react_default.a.createElement("a", {\n      href: "https://github.com/gyng/ditherer/"\n    }, "GitHub"))), canvases);\n  }\n\n}\nApp_App.propTypes = {\n  availableFilters: prop_types_default.a.arrayOf(prop_types_default.a.object),\n  className: prop_types_default.a.string,\n  convertGrayscale: prop_types_default.a.bool,\n  inputImage: prop_types_default.a.object,\n  inputVideo: prop_types_default.a.object,\n  inputVideoVolume: prop_types_default.a.number,\n  inputVideoPlaybackRate: prop_types_default.a.number,\n  match: prop_types_default.a.object,\n  onConvertGrayscale: prop_types_default.a.func,\n  onFilterImage: prop_types_default.a.func,\n  onLoadImage: prop_types_default.a.func,\n  onSelectFilter: prop_types_default.a.func,\n  onSetInput: prop_types_default.a.func,\n  onSetInputVolume: prop_types_default.a.func,\n  onSetInputPlaybackRate: prop_types_default.a.func,\n  onSetInputCanvas: prop_types_default.a.func,\n  onSetRealTimeFiltering: prop_types_default.a.func,\n  onSetScale: prop_types_default.a.func,\n  onSetOutputScale: prop_types_default.a.func,\n  onSetScalingAlgorithm: prop_types_default.a.func,\n  outputImage: prop_types_default.a.object,\n  realtimeFiltering: prop_types_default.a.bool,\n  scale: prop_types_default.a.number,\n  outputScale: prop_types_default.a.number,\n  scalingAlgorithm: prop_types_default.a.string,\n  selectedFilter: prop_types_default.a.object,\n  time: prop_types_default.a.number\n};\nApp_App.defaultProps = {\n  availableFilters: [],\n  className: App_styles_default.a.app,\n  convertGrayscale: false,\n  inputImage: null,\n  inputVideo: null,\n  inputVideoPlaybackRate: 1,\n  inputVideoVolume: 1,\n  match: {\n    url: "unknown"\n  },\n  onConvertGrayscale: () => {},\n  onFilterImage: () => {},\n  onLoadImage: () => {},\n  onSelectFilter: () => {},\n  onSetInput: () => {},\n  onSetInputPlaybackRate: () => {},\n  onSetInputVolume: () => {},\n  onSetInputCanvas: () => {},\n  onSetRealTimeFiltering: () => {},\n  onSetScale: () => {},\n  onSetOutputScale: () => {},\n  onSetScalingAlgorithm: () => {},\n  outputImage: null,\n  realtimeFiltering: false,\n  scale: 1,\n  outputScale: 1,\n  scalingAlgorithm: constants_optionTypes["b" /* SCALING_ALGORITHM */].AUTO,\n  selectedFilter: null,\n  time: null\n};\n// CONCATENATED MODULE: ./filters/binarize.js\n\n\n\nconst binarize_optionTypes = {\n  thresholdR: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 127.5\n  },\n  thresholdG: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 127.5\n  },\n  thresholdB: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 127.5\n  },\n  thresholdA: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 0\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst binarize_defaults = {\n  thresholdR: binarize_optionTypes.thresholdR.default,\n  thresholdG: binarize_optionTypes.thresholdG.default,\n  thresholdB: binarize_optionTypes.thresholdB.default,\n  thresholdA: binarize_optionTypes.thresholdA.default,\n  palette: binarize_optionTypes.palette.default\n};\n\nconst binarize_binarize = (input, options = binarize_defaults) => {\n  const getColor = (val, threshold) => val > threshold ? 255 : 0;\n\n  const {\n    thresholdR,\n    thresholdG,\n    thresholdB,\n    thresholdA,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const prePaletteCol = Object(utils["m" /* rgba */])(getColor(buf[i], thresholdR), getColor(buf[i + 1], thresholdG), getColor(buf[i + 2], thresholdB), getColor(buf[i + 3], thresholdA));\n      const col = palette.getColor(prePaletteCol, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, col[0], col[1], col[2], col[3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_binarize = ({\n  name: "Binarize",\n  func: binarize_binarize,\n  optionTypes: binarize_optionTypes,\n  options: binarize_defaults,\n  defaults: binarize_defaults\n});\n// CONCATENATED MODULE: ./filters/channelSeparation.js\nfunction channelSeparation_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { channelSeparation_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction channelSeparation_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst channelSeparation_optionTypes = {\n  rOffsetX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 10\n  },\n  rOffsetY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 0\n  },\n  rOpacity: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.05,\n    default: 1\n  },\n  gOffsetX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 0\n  },\n  gOffsetY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 5\n  },\n  gOpacity: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.05,\n    default: 1\n  },\n  bOffsetX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 8\n  },\n  bOffsetY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 4\n  },\n  bOpacity: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.05,\n    default: 1\n  },\n  aOffsetX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 0\n  },\n  aOffsetY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 0\n  },\n  aOpacity: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.05,\n    default: 1\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst channelSeparation_defaults = {\n  rOffsetX: channelSeparation_optionTypes.rOffsetX.default,\n  rOffsetY: channelSeparation_optionTypes.rOffsetY.default,\n  rOpacity: channelSeparation_optionTypes.rOpacity.default,\n  gOffsetX: channelSeparation_optionTypes.gOffsetX.default,\n  gOffsetY: channelSeparation_optionTypes.gOffsetY.default,\n  gOpacity: channelSeparation_optionTypes.gOpacity.default,\n  bOffsetX: channelSeparation_optionTypes.bOffsetX.default,\n  bOffsetY: channelSeparation_optionTypes.bOffsetY.default,\n  bOpacity: channelSeparation_optionTypes.bOpacity.default,\n  aOffsetX: channelSeparation_optionTypes.aOffsetX.default,\n  aOffsetY: channelSeparation_optionTypes.aOffsetY.default,\n  aOpacity: channelSeparation_optionTypes.aOpacity.default,\n  palette: channelSeparation_objectSpread({}, channelSeparation_optionTypes.palette.default, {\n    options: {\n      levels: 256\n    }\n  })\n};\n\nconst channelSeparation_channelSeparation = (input, options = channelSeparation_defaults) => {\n  const {\n    rOffsetX,\n    rOffsetY,\n    rOpacity,\n    gOffsetX,\n    gOffsetY,\n    gOpacity,\n    bOffsetX,\n    bOffsetY,\n    bOpacity,\n    aOffsetX,\n    aOffsetY,\n    aOpacity,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const rX = rOffsetX + x;\n      const rY = rOffsetY + y;\n      const rI = Object(utils["i" /* getBufferIndex */])(rX, rY, input.width);\n      const gX = gOffsetX + x;\n      const gY = gOffsetY + y;\n      const gI = Object(utils["i" /* getBufferIndex */])(gX, gY, input.width);\n      const bX = bOffsetX + x;\n      const bY = bOffsetY + y;\n      const bI = Object(utils["i" /* getBufferIndex */])(bX, bY, input.width);\n      const aX = aOffsetX + x;\n      const aY = aOffsetY + y;\n      const aI = Object(utils["i" /* getBufferIndex */])(aX, aY, input.width);\n      const pixel = Object(utils["m" /* rgba */])(buf[rI], buf[gI + 1], buf[bI + 2], buf[aI + 3]);\n      const color = palette.getColor(pixel, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, color[0] * rOpacity, color[1] * gOpacity, color[2] * bOpacity, color[3] * aOpacity);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_channelSeparation = ({\n  name: "Channel separation",\n  func: channelSeparation_channelSeparation,\n  options: channelSeparation_defaults,\n  optionTypes: channelSeparation_optionTypes,\n  defaults: channelSeparation_defaults\n});\n// CONCATENATED MODULE: ./filters/jitter.js\nfunction jitter_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { jitter_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction jitter_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst jitter_optionTypes = {\n  jitterX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 4\n  },\n  jitterXSpread: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 5],\n    default: 0.5,\n    step: 0.1\n  },\n  jitterY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 100],\n    default: 0\n  },\n  jitterYSpread: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 5],\n    default: 0.5,\n    step: 0.1\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst jitter_defaults = {\n  jitterX: jitter_optionTypes.jitterX.default,\n  jitterXSpread: jitter_optionTypes.jitterXSpread.default,\n  jitterY: jitter_optionTypes.jitterY.default,\n  jitterYSpread: jitter_optionTypes.jitterYSpread.default,\n  palette: jitter_objectSpread({}, jitter_optionTypes.palette.default, {\n    options: {\n      levels: 256\n    }\n  })\n};\n\nconst jitter_jittter = (input, options = jitter_defaults) => {\n  const {\n    jitterX,\n    jitterXSpread,\n    jitterY,\n    jitterYSpread,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const jitterYMap = [];\n  const jitterXMap = [];\n  let jitterFactor = 0;\n\n  for (let i = 0; i < input.width; i += 1) {\n    const jitter = Math.random() * jitterY;\n    jitterFactor += jitter;\n    jitterYMap.push(Math.round(jitterFactor));\n    jitterFactor *= jitterYSpread;\n  }\n\n  jitterFactor = 0;\n\n  for (let i = 0; i < input.width; i += 1) {\n    const jitter = Math.random() * jitterX;\n    jitterFactor += jitter;\n    jitterXMap.push(Math.round(jitterFactor));\n    jitterFactor *= jitterXSpread;\n  }\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const jI = Object(utils["i" /* getBufferIndex */])((x + jitterYMap[x]) % input.width, (y + jitterXMap[y]) % input.height, input.width);\n      const pixel = Object(utils["m" /* rgba */])(buf[jI], buf[jI + 1], buf[jI + 2], buf[jI + 3]);\n      const color = palette.getColor(pixel, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], color[3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var jitter = ({\n  name: "Jitter",\n  func: jitter_jittter,\n  options: jitter_defaults,\n  optionTypes: jitter_optionTypes,\n  defaults: jitter_defaults\n});\n// CONCATENATED MODULE: ./filters/convolve.js\n\n\nconst convolve_SHARPEN_3X3 = "SHARPEN_3X3";\nconst convolve_UNSHARP_5X5 = "UNSHARP_5X5";\nconst convolve_GAUSSIAN_3X3 = "GAUSSIAN_3X3";\nconst convolve_GAUSSIAN_3X3_WEAK = "GAUSSIAN_3X3_WEAK";\nconst convolve_GAUSSIAN_5X5 = "GAUSSIAN_5X5";\nconst convolve_EMBOSS_3X3 = "EMBOSS_3X3";\nconst convolve_LAPLACIAN_3X3 = "LAPLACIAN_3X3";\nconst convolve_LAPLACIAN_5X5 = "LAPLACIAN_5X5";\nconst convolve_BRIGHTEN_0_5X = "BRIGHTEN_0_5X";\nconst convolve_BRIGHTEN_2X = "BRIGHTEN_2X";\nconst convolve_SOBEL_HORIZONTAL = "SOBEL_HORIZONTAL";\nconst convolve_SOBEL_VERTICAL = "SOBEL_VERTICAL";\nconst convolve_OUTLINE_3X3 = "OUTLINE_3X3";\n// https://en.wikipedia.org/wiki/Kernel_(image_processing)\nconst convolve_kernels = {\n  [convolve_SHARPEN_3X3]: {\n    width: 3,\n    matrix: [[0, -1, 0], [-1, 5, -1], [0, -1, 0]]\n  },\n  [convolve_UNSHARP_5X5]: {\n    width: 5,\n    matrix: Object(utils["q" /* scaleMatrix */])([[1, 4, 6, 4, 1], [4, 16, 24, 16, 4], [6, 24, -476, 24, 6], [4, 16, 24, 16, 4], [1, 4, 6, 4, 1]], -1 / 256)\n  },\n  [convolve_GAUSSIAN_3X3]: {\n    width: 3,\n    matrix: Object(utils["q" /* scaleMatrix */])([[1, 2, 1], [2, 4, 2], [1, 2, 1]], 1 / 16)\n  },\n  [convolve_GAUSSIAN_3X3_WEAK]: {\n    width: 3,\n    matrix: Object(utils["q" /* scaleMatrix */])([[0.5, 1, 0.5], [1, 10, 1], [0.5, 1, 0.5]], 1 / 16)\n  },\n  [convolve_GAUSSIAN_5X5]: {\n    width: 5,\n    matrix: Object(utils["q" /* scaleMatrix */])([[1, 4, 6, 4, 1], [4, 16, 24, 16, 4], [6, 24, 36, 24, 6], [4, 16, 24, 16, 4], [1, 4, 6, 4, 1]], 1 / 256)\n  },\n  [convolve_BRIGHTEN_2X]: {\n    width: 1,\n    matrix: [[2]]\n  },\n  [convolve_BRIGHTEN_0_5X]: {\n    width: 1,\n    matrix: [[0.5]]\n  },\n  [convolve_EMBOSS_3X3]: {\n    width: 3,\n    matrix: [[-2, -1, 0], [-1, 1, 1], [0, 1, 2]]\n  },\n  [convolve_LAPLACIAN_3X3]: {\n    width: 3,\n    matrix: [[1, 1, 1], [1, -8, 1], [1, 1, 1]]\n  },\n  [convolve_LAPLACIAN_5X5]: {\n    width: 5,\n    matrix: [[1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, -24, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1]]\n  },\n  [convolve_SOBEL_HORIZONTAL]: {\n    width: 3,\n    matrix: [[-1, -2, -1], [0, 0, 0], [1, 2, 1]]\n  },\n  [convolve_SOBEL_VERTICAL]: {\n    width: 3,\n    matrix: [[-1, 0, 1], [-2, 0, 2], [-1, 0, 1]]\n  },\n  [convolve_OUTLINE_3X3]: {\n    width: 3,\n    matrix: [[-1, -1, -1], [-1, 8, -1], [-1, -1, -1]]\n  }\n};\nconst convolve_optionTypes = {\n  kernel: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "Sharpen",\n      value: convolve_SHARPEN_3X3\n    }, {\n      name: "Unsharp mask 5×5",\n      value: convolve_UNSHARP_5X5\n    }, {\n      name: "Brighten 0.5x",\n      value: convolve_BRIGHTEN_0_5X\n    }, {\n      name: "Brighten 2x",\n      value: convolve_BRIGHTEN_2X\n    }, {\n      name: "Edge detection (Laplacian 3×3)",\n      value: convolve_LAPLACIAN_3X3\n    }, {\n      name: "Edge detection (Laplacian 5×5)",\n      value: convolve_LAPLACIAN_5X5\n    }, {\n      name: "Sobel (horizontal)",\n      value: convolve_SOBEL_HORIZONTAL\n    }, {\n      name: "Sobel (vertical)",\n      value: convolve_SOBEL_VERTICAL\n    }, {\n      name: "Gaussian blur 3×3",\n      value: convolve_GAUSSIAN_3X3\n    }, {\n      name: "Gaussian blur 3×3 (weak)",\n      value: convolve_GAUSSIAN_3X3_WEAK\n    }, {\n      name: "Gaussian blur 5×5",\n      value: convolve_GAUSSIAN_5X5\n    }, {\n      name: "Emboss 3×3",\n      value: convolve_EMBOSS_3X3\n    }, {\n      name: "Outline",\n      value: convolve_OUTLINE_3X3\n    }],\n    default: convolve_GAUSSIAN_3X3\n  },\n  strength: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-10, 10],\n    step: 0.1,\n    default: 1\n  }\n};\nconst convolve_defaults = {\n  kernel: convolve_optionTypes.kernel.default,\n  strength: convolve_optionTypes.strength.default\n};\n\nconst convolve_convolve = (input, options = convolve_defaults) => {\n  const kernel = convolve_kernels[options.kernel];\n  const matrix = Object(utils["q" /* scaleMatrix */])(kernel.matrix, options.strength);\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const outputArray = Array.from(buf);\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      let color = Object(utils["m" /* rgba */])(0, 0, 0, 0);\n\n      for (let kx = 0; kx < kernel.width; kx += 1) {\n        for (let ky = 0; ky < kernel.width; ky += 1) {\n          const offset = Math.floor(kernel.width / 2);\n          const ki = Object(utils["i" /* getBufferIndex */])(Math.max(0, x + kx - offset), Math.max(0, y + ky - offset), input.width);\n          const kpx = Object(utils["m" /* rgba */])(buf[ki] || 0, buf[ki + 1] || 0, buf[ki + 2] || 0, buf[ki + 3] || 0);\n          const kfactor = matrix[ky][kx];\n          color = Object(utils["a" /* add */])(color, Object(utils["p" /* scale */])(kpx, kfactor || 0));\n        }\n      }\n\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      Object(utils["g" /* fillBufferPixel */])(outputArray, i, color[0], color[1], color[2], buf[i + 3]);\n    }\n  }\n\n  const outputBuf = new Uint8ClampedArray(outputArray);\n  outputCtx.putImageData(new ImageData(outputBuf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_convolve = ({\n  name: "Convolve",\n  func: convolve_convolve,\n  options: convolve_defaults,\n  optionTypes: convolve_optionTypes,\n  defaults: convolve_defaults\n});\n// CONCATENATED MODULE: ./filters/brightnessContrast.js\n\n\n\nconst brightnessContrast_optionTypes = {\n  brightness: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-255, 255],\n    step: 1,\n    default: 0\n  },\n  contrast: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-40, 40],\n    step: 0.1,\n    default: 0\n  },\n  exposure: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-4, 4],\n    step: 0.1,\n    default: 1\n  },\n  gamma: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-1.5, 7.5],\n    step: 0.1,\n    default: 1\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst brightnessContrast_defaults = {\n  brightness: brightnessContrast_optionTypes.brightness.default,\n  contrast: brightnessContrast_optionTypes.contrast.default,\n  exposure: brightnessContrast_optionTypes.exposure.default,\n  gamma: brightnessContrast_optionTypes.gamma.default,\n  palette: brightnessContrast_optionTypes.palette.default\n};\n\nconst brightnessContrast_brightnessContrast = (input, options = brightnessContrast_defaults) => {\n  const {\n    brightness,\n    contrast,\n    exposure,\n    gamma,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const outputBuf = new Uint8ClampedArray(buf);\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const newColor = Object(utils["h" /* gamma */])(Object(utils["f" /* contrast */])(Object(utils["c" /* brightness */])(Object(utils["m" /* rgba */])(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]), brightness, exposure), contrast), gamma);\n      const col = palette.getColor(newColor, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(outputBuf, i, col[0], col[1], col[2], col[3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(outputBuf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_brightnessContrast = ({\n  name: "Brightness/Contrast",\n  func: brightnessContrast_brightnessContrast,\n  optionTypes: brightnessContrast_optionTypes,\n  options: brightnessContrast_defaults,\n  defaults: brightnessContrast_defaults\n});\n// CONCATENATED MODULE: ./filters/vhs.js\nfunction vhs_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { vhs_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction vhs_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\nconst vhs_optionTypes = {\n  jitterX: jitter_optionTypes.jitterX,\n  jitterXSpread: jitter_optionTypes.jitterXSpread\n};\nconst vhs_defaults = {\n  jitterX: 1,\n  jitterXSpread: jitter_defaults.jitterXSpread\n};\n\nconst vhs_vhs = (input, options = vhs_defaults) => {\n  const {\n    jitterX,\n    jitterXSpread\n  } = options;\n  let output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  output = jitter.func(input, vhs_objectSpread({}, jitter_defaults, {\n    jitterX,\n    jitterXSpread\n  }));\n  output = filters_brightnessContrast.func(output, vhs_objectSpread({}, brightnessContrast_defaults, {\n    brightness: 60,\n    contrast: -0.2,\n    exposure: 0.7,\n    gamma: 0.6,\n    palette: vhs_objectSpread({}, palettes["a" /* nearest */], {\n      options: {\n        levels: 255\n      }\n    })\n  }));\n  output = filters_channelSeparation.func(output, vhs_objectSpread({}, channelSeparation_defaults, {\n    rOffsetX: 2,\n    rOffsetY: 2,\n    gOffsetX: 2,\n    gOffsetY: 1,\n    bOffsetX: 2,\n    bOffsetY: 1\n  }));\n  output = filters_convolve.func(output, vhs_objectSpread({}, convolve_defaults, {\n    kernel: convolve_GAUSSIAN_3X3_WEAK\n  }));\n  return output;\n};\n\n/* harmony default export */ var filters_vhs = ({\n  name: "VHS emulation",\n  func: vhs_vhs,\n  options: vhs_defaults,\n  optionTypes: vhs_optionTypes,\n  defaults: vhs_defaults\n});\n// EXTERNAL MODULE: ./filters/program.js\nvar program = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./filters/grayscale.js\n\nconst grayscale_optionTypes = {};\nconst grayscale_defaults = {};\n\nconst grayscale_grayscale = input => {\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n  if (!inputCtx || !outputCtx) return input;\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const grey = Math.round((buf[i] + buf[i + 1] + buf[i + 2]) / 3);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, grey, grey, grey, buf[i + 3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_grayscale = ({\n  name: "Grayscale",\n  func: grayscale_grayscale,\n  options: grayscale_defaults,\n  optionTypes: grayscale_optionTypes,\n  defaults: grayscale_defaults\n});\n// CONCATENATED MODULE: ./filters/pixelate.js\nfunction pixelate_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { pixelate_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction pixelate_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst pixelate_optionTypes = {\n  scale: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0.01, 1],\n    step: 0.01,\n    default: 0.25\n  },\n  scaleXOverride: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.01,\n    default: 0\n  },\n  scaleYOverride: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.01,\n    default: 0\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst pixelate_defaults = {\n  scale: pixelate_optionTypes.scale.default,\n  scaleXOverride: pixelate_optionTypes.scaleXOverride.default,\n  scaleYOverride: pixelate_optionTypes.scaleYOverride.default,\n  palette: pixelate_objectSpread({}, pixelate_optionTypes.palette.default, {\n    options: {\n      levels: 256\n    }\n  })\n};\n\nconst pixelate_pixelate = (input, options) => {\n  const {\n    scale,\n    scaleXOverride,\n    scaleYOverride,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n  if (!inputCtx || !outputCtx) return input;\n  const temp = document.createElement("canvas");\n  temp.width = input.width * (scaleXOverride || scale);\n  temp.height = input.height * (scaleYOverride || scale);\n  const tempCtx = temp.getContext("2d");\n  tempCtx.imageSmoothingEnabled = false;\n  tempCtx.drawImage(input, 0, 0, input.width * (scaleXOverride || scale), input.height * (scaleYOverride || scale));\n  const buf = tempCtx.getImageData(0, 0, temp.width, temp.height).data;\n\n  for (let x = 0; x < temp.width; x += 1) {\n    for (let y = 0; y < temp.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, temp.width);\n      const pixel = Object(utils["m" /* rgba */])(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]);\n      const color = palette.getColor(pixel, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], buf[i + 3]);\n    }\n  }\n\n  tempCtx.putImageData(new ImageData(buf, temp.width, temp.height), 0, 0);\n  outputCtx.imageSmoothingEnabled = false;\n  outputCtx.drawImage(temp, 0, 0, input.width, input.height);\n  return output;\n};\n\n/* harmony default export */ var filters_pixelate = ({\n  name: "Pixelate",\n  func: pixelate_pixelate,\n  options: pixelate_defaults,\n  optionTypes: pixelate_optionTypes,\n  defaults: pixelate_defaults\n});\n// CONCATENATED MODULE: ./filters/pixelsort.js\n\n\n\nconst pixelsort_DIRECTION = {\n  COLUMN: "COLUMN",\n  ROW: "ROW",\n  SPIRAL: "SPIRAL",\n  SPIRAL_CUT: "SPIRAL_CUT",\n  DIAGONAL_TOP_RIGHT: "DIAGONAL_TOP_RIGHT"\n};\nconst pixelsort_SORT_DIRECTION = {\n  ASCENDING: "ASCENDING",\n  DESCENDING: "DESCENDING"\n};\nconst pixelsort_COMPARATOR = {\n  LUMINANCE: "LUMINANCE",\n  RGBA: "RGBA",\n  GBRA: "GBRA",\n  BGRA: "BGRA",\n  HSVA: "HSVA",\n  VSHA: "VSHA",\n  SVHA: "SVHA",\n  LABA: "LABA",\n  ABLA: "ABLA",\n  BALA: "BALA"\n};\n\nconst pixelsort_compareQuadlet = (a, b, dir) => {\n  const dirMul = dir === pixelsort_SORT_DIRECTION.ASCENDING ? 1 : -1;\n  const rd = (a[0] - b[0]) * dirMul;\n\n  if (rd !== 0) {\n    return rd;\n  }\n\n  const gd = (a[1] - b[1]) * dirMul;\n\n  if (gd !== 0) {\n    return gd;\n  }\n\n  const bd = (a[2] - b[2]) * dirMul;\n\n  if (bd !== 0) {\n    return bd;\n  }\n\n  const ad = (a[3] - b[3]) * dirMul;\n  return ad;\n};\n\nconst pixelsort_SORTS = {\n  [pixelsort_COMPARATOR.RGBA]: pixelsort_compareQuadlet,\n  [pixelsort_COMPARATOR.GBRA]: (a, b, dir) => {\n    const ap = [a[1], a[2], a[0], a[3]];\n    const bp = [b[1], b[2], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.BGRA]: (a, b, dir) => {\n    const ap = [a[2], a[1], a[0], a[3]];\n    const bp = [b[2], b[1], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.HSVA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["n" /* rgba2hsva */])(aRgba);\n    const b = Object(utils["n" /* rgba2hsva */])(bRgba);\n    return pixelsort_compareQuadlet(a, b, dir);\n  },\n  [pixelsort_COMPARATOR.HSVA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["n" /* rgba2hsva */])(aRgba);\n    const b = Object(utils["n" /* rgba2hsva */])(bRgba);\n    return pixelsort_compareQuadlet(a, b, dir);\n  },\n  [pixelsort_COMPARATOR.SVHA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["n" /* rgba2hsva */])(aRgba);\n    const b = Object(utils["n" /* rgba2hsva */])(bRgba);\n    const ap = [a[1], a[2], a[0], a[3]];\n    const bp = [b[1], b[2], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.VSHA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["n" /* rgba2hsva */])(aRgba);\n    const b = Object(utils["n" /* rgba2hsva */])(bRgba);\n    const ap = [a[2], a[1], a[0], a[3]];\n    const bp = [b[2], b[1], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.LABA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["o" /* rgba2laba */])(aRgba);\n    const b = Object(utils["o" /* rgba2laba */])(bRgba);\n    return pixelsort_compareQuadlet(a, b, dir);\n  },\n  [pixelsort_COMPARATOR.ABLA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["o" /* rgba2laba */])(aRgba);\n    const b = Object(utils["o" /* rgba2laba */])(bRgba);\n    const ap = [a[1], a[2], a[0], a[3]];\n    const bp = [b[1], b[2], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.BALA]: (aRgba, bRgba, dir) => {\n    const a = Object(utils["o" /* rgba2laba */])(aRgba);\n    const b = Object(utils["o" /* rgba2laba */])(bRgba);\n    const ap = [a[2], a[1], a[0], a[3]];\n    const bp = [b[2], b[1], b[0], b[3]];\n    return pixelsort_compareQuadlet(ap, bp, dir);\n  },\n  [pixelsort_COMPARATOR.LUMINANCE]: (a, b, dir) => {\n    const dirMul = dir === pixelsort_SORT_DIRECTION.ASCENDING ? 1 : -1;\n    const lumA = Object(utils["j" /* luminance */])(a);\n    const lumB = Object(utils["j" /* luminance */])(b);\n    return (lumA - lumB) * dirMul;\n  }\n};\n\nconst pixelsort_spiralIterator = endIntervalOnTurn => init => {\n  let {\n    x,\n    y,\n    i\n  } = init;\n  const {\n    w,\n    h\n  } = init;\n  x += Math.floor(w / 2);\n  y += Math.floor(h / 2);\n  i = Object(utils["i" /* getBufferIndex */])(x, y, w);\n  let end = false;\n  let endInterval = false;\n  const DIR = {\n    N: "N",\n    S: "S",\n    E: "E",\n    W: "W"\n  };\n  let dir = DIR.S;\n  const lengths = {\n    [DIR.N]: {\n      cur: 0,\n      max: 2\n    },\n    [DIR.S]: {\n      cur: 0,\n      max: 1\n    },\n    [DIR.E]: {\n      cur: 0,\n      max: 1\n    },\n    [DIR.W]: {\n      cur: 0,\n      max: 2\n    }\n  };\n  return () => {\n    // debugger;\n    if (end) {\n      return null;\n    }\n\n    const nextResult = {\n      x,\n      y,\n      i,\n      w,\n      h,\n      wrapX: false,\n      wrapY: false,\n      endInterval\n    }; // Allow fallthrough logic!\n\n    switch (dir) {\n      case DIR.N:\n        if (lengths[dir].cur >= lengths[dir].max || y === 0 && x > 0) {\n          lengths[dir].cur = 0;\n          lengths[dir].max += 2;\n          dir = DIR.W;\n          endInterval = endIntervalOnTurn;\n        } else {\n          lengths[dir].cur += 1;\n          y -= 1;\n          endInterval = false;\n          break;\n        }\n\n      case DIR.W:\n        // eslint-disable-line no-fallthrough\n        if (lengths[dir].cur >= lengths[dir].max || x === 0 && y < h) {\n          lengths[dir].cur = 0;\n          lengths[dir].max += 2;\n          dir = DIR.S;\n          endInterval = endIntervalOnTurn;\n        } else {\n          lengths[dir].cur += 1;\n          x -= 1;\n          endInterval = false;\n          break;\n        }\n\n      case DIR.S:\n        // eslint-disable-line no-fallthrough\n        if (lengths[dir].cur >= lengths[dir].max || y === h - 1 && x < h) {\n          lengths[dir].cur = 0;\n          lengths[dir].max += 2;\n          dir = DIR.E;\n          endInterval = endIntervalOnTurn;\n        } else {\n          lengths[dir].cur += 1;\n          y += 1;\n          endInterval = false;\n          break;\n        }\n\n      case DIR.E:\n        // eslint-disable-line no-fallthrough\n        if (lengths[dir].cur >= lengths[dir].max || x === w - 1 && y > 0) {\n          lengths[dir].cur = 0;\n          lengths[dir].max += 2;\n          dir = DIR.N;\n          endInterval = endIntervalOnTurn;\n          break;\n        } else {\n          lengths[dir].cur += 1;\n          x += 1;\n          endInterval = false;\n          break;\n        }\n\n      default:\n        // last pixel\n        end = true;\n        break;\n    }\n\n    i = Object(utils["i" /* getBufferIndex */])(x, y, w);\n    end = end || i >= w * h * 4; // or oob, somehow\n    // FIXME: Shouldn\'t end at (0, 0) but at correct corner\n\n    if (x === 0 && y === 0) {\n      return null;\n    }\n\n    return nextResult;\n  };\n}; // Returns buffer indices\n\n\nconst pixelsort_ITERATORS = {\n  [pixelsort_DIRECTION.ROW]: init => {\n    let {\n      x,\n      y,\n      i\n    } = init;\n    const {\n      w,\n      h\n    } = init;\n    let end = false;\n    return () => {\n      if (end) {\n        return null;\n      }\n\n      const wrapX = x === w;\n      const endInterval = wrapX; // Terminate intervals at end\n\n      const nextResult = {\n        x,\n        y,\n        i,\n        w,\n        h,\n        wrapX,\n        wrapY: false,\n        endInterval\n      };\n      i = Object(utils["i" /* getBufferIndex */])(x, y, w) + 4;\n      end = i >= w * h * 4;\n      x = x === w ? 0 : x + 1;\n      y = x === w ? y + 1 : y;\n      end = y >= h;\n      return nextResult;\n    };\n  },\n  [pixelsort_DIRECTION.COLUMN]: init => {\n    let {\n      x,\n      y,\n      i\n    } = init;\n    const {\n      w,\n      h\n    } = init;\n    let end = false;\n    return () => {\n      if (end) {\n        return null;\n      }\n\n      const wrapY = y === h;\n      const endInterval = wrapY; // Terminate intervals at end\n\n      const nextResult = {\n        x,\n        y,\n        i,\n        w,\n        h,\n        wrapX: false,\n        wrapY,\n        endInterval\n      };\n      i = Object(utils["i" /* getBufferIndex */])(x, y, w) + 4;\n      end = i >= w * h * 4;\n      x = y === h ? x + 1 : x;\n      y = y === h ? 0 : y + 1;\n      end = x >= w;\n      return nextResult;\n    };\n  },\n  [pixelsort_DIRECTION.SPIRAL_CUT]: pixelsort_spiralIterator(true),\n  [pixelsort_DIRECTION.SPIRAL]: pixelsort_spiralIterator(false),\n  [pixelsort_DIRECTION.DIAGONAL_TOP_RIGHT]: init => {\n    let {\n      x,\n      y,\n      i\n    } = init;\n    const {\n      w,\n      h\n    } = init;\n    let end = false;\n    let startX = x;\n    let startY = y;\n    return () => {\n      if (end) {\n        return null;\n      }\n\n      const wrapY = y === 0;\n      const wrapX = x === w - 1;\n      const endInterval = wrapY || wrapX;\n      const nextResult = {\n        x,\n        y,\n        i,\n        w,\n        h,\n        wrapX,\n        wrapY,\n        endInterval\n      };\n\n      if (x === w - 1 || y === 0) {\n        if (startY >= h - 1) {\n          startX += 1;\n          x = startX;\n          y = h - 1;\n        } else {\n          startY += 1;\n          y = startY;\n          x = 0;\n        }\n      } else {\n        x += 1;\n        y -= 1;\n      }\n\n      i = Object(utils["i" /* getBufferIndex */])(x, y, w);\n      end = x === w - 1 && y === h - 1;\n      return nextResult;\n    };\n  }\n};\nconst pixelsort_optionTypes = {\n  direction: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "Row",\n      value: pixelsort_DIRECTION.ROW\n    }, {\n      name: "Column",\n      value: pixelsort_DIRECTION.COLUMN\n    }, {\n      name: "Spiral",\n      value: pixelsort_DIRECTION.SPIRAL\n    }, {\n      name: "Spiral (non-continuous)",\n      value: pixelsort_DIRECTION.SPIRAL_CUT\n    }, {\n      name: "Diagonal (top-right)",\n      value: pixelsort_DIRECTION.DIAGONAL_TOP_RIGHT\n    }],\n    default: pixelsort_DIRECTION.COLUMN\n  },\n  sortDirection: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "Ascending",\n      value: pixelsort_SORT_DIRECTION.ASCENDING\n    }, {\n      name: "Descending",\n      value: pixelsort_SORT_DIRECTION.DESCENDING\n    }],\n    default: pixelsort_SORT_DIRECTION.ASCENDING\n  },\n  comparator: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "RGBA",\n      value: pixelsort_COMPARATOR.RGBA\n    }, {\n      name: "GBRA",\n      value: pixelsort_COMPARATOR.GBRA\n    }, {\n      name: "BGRA",\n      value: pixelsort_COMPARATOR.BGRA\n    }, {\n      name: "HSVA",\n      value: pixelsort_COMPARATOR.HSVA\n    }, {\n      name: "SVHA",\n      value: pixelsort_COMPARATOR.SVHA\n    }, {\n      name: "VSHA",\n      value: pixelsort_COMPARATOR.VSHA\n    }, {\n      name: "LABA",\n      value: pixelsort_COMPARATOR.LABA\n    }, {\n      name: "ABLA",\n      value: pixelsort_COMPARATOR.ABLA\n    }, {\n      name: "BALA",\n      value: pixelsort_COMPARATOR.BALA\n    }, {\n      name: "Luminance",\n      value: pixelsort_COMPARATOR.LUMINANCE\n    }],\n    default: pixelsort_COMPARATOR.LUMINANCE\n  },\n  sortPixelLuminanceAbove: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 0\n  },\n  sortPixelLuminanceBelow: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 0.5,\n    default: 255\n  },\n  sortPixelLuminanceChangeAbove: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-255, 255],\n    step: 1,\n    default: -255\n  },\n  sortPixelLuminanceChangeBelow: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-255, 255],\n    step: 1,\n    default: 255\n  },\n  extraIntervalStartChance: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.01,\n    default: 0\n  },\n  maxIntervalSize: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 5000],\n    step: 1,\n    default: 0\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst pixelsort_defaults = {\n  direction: pixelsort_optionTypes.direction.default,\n  sortDirection: pixelsort_optionTypes.sortDirection.default,\n  comparator: pixelsort_optionTypes.comparator.default,\n  palette: pixelsort_optionTypes.palette.default,\n  sortPixelLuminanceAbove: pixelsort_optionTypes.sortPixelLuminanceAbove.default,\n  sortPixelLuminanceBelow: pixelsort_optionTypes.sortPixelLuminanceBelow.default,\n  sortPixelLuminanceChangeAbove: pixelsort_optionTypes.sortPixelLuminanceChangeAbove.default,\n  sortPixelLuminanceChangeBelow: pixelsort_optionTypes.sortPixelLuminanceChangeBelow.default,\n  extraIntervalStartChance: pixelsort_optionTypes.extraIntervalStartChance.default,\n  maxIntervalSize: pixelsort_optionTypes.maxIntervalSize.default\n};\n\nconst pixelsort_pixelsortFilter = (input, options = pixelsort_defaults) => {\n  const {\n    direction,\n    sortDirection,\n    comparator,\n    sortPixelLuminanceAbove,\n    sortPixelLuminanceBelow,\n    sortPixelLuminanceChangeAbove,\n    sortPixelLuminanceChangeBelow,\n    extraIntervalStartChance,\n    maxIntervalSize,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  const newInterval = () => ({\n    trail: [],\n    pixels: []\n  });\n\n  let interval = newInterval();\n\n  const fillInterval = () => {\n    interval.pixels.sort((a, b) => pixelsort_SORTS[comparator](a, b, sortDirection));\n\n    for (let i = 0; i < interval.trail.length; i += 1) {\n      const bufIdx = interval.trail[i];\n      const pixel = interval.pixels[i];\n      const col = palette.getColor(pixel, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, bufIdx, col[0], col[1], col[2], col[3]);\n    }\n\n    interval = newInterval();\n  };\n\n  let lastLum = null;\n  let cur;\n  const iterator = pixelsort_ITERATORS[direction]({\n    i: 0,\n    x: 0,\n    y: 0,\n    w: input.width,\n    h: input.height\n  });\n  /* eslint-disable */\n\n  while (cur = iterator()) {\n    /* eslint-enable */\n    const pixel = Object(utils["m" /* rgba */])(buf[cur.i], buf[cur.i + 1], buf[cur.i + 2], buf[cur.i + 3]);\n    const lum = Object(utils["j" /* luminance */])(pixel);\n    const lumDelta = lastLum != null ? lastLum - lum : 0;\n    lastLum = lum;\n    const inLuminosityWindow = lum >= sortPixelLuminanceAbove && lum <= sortPixelLuminanceBelow;\n    const enoughLuminosityDelta = lumDelta >= sortPixelLuminanceChangeAbove && lumDelta <= sortPixelLuminanceChangeBelow;\n\n    if (interval.trail.length > maxIntervalSize && maxIntervalSize > 0) {\n      fillInterval();\n    }\n\n    if (inLuminosityWindow && enoughLuminosityDelta || Math.random() < extraIntervalStartChance) {\n      interval.pixels.push(pixel);\n      interval.trail.push(cur.i); // If iterator forces an end of an interval (eg. x wrapped around)\n\n      if (cur.endInterval) {\n        fillInterval();\n      }\n    } else if (interval.trail.length > 0) {\n      fillInterval();\n    }\n  } // Clean up any remaining interval\n\n\n  if (interval.trail.length > 0) {\n    fillInterval();\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var pixelsort = ({\n  name: "Pixelsort",\n  func: pixelsort_pixelsortFilter,\n  optionTypes: pixelsort_optionTypes,\n  options: pixelsort_defaults,\n  defaults: pixelsort_defaults\n});\n// EXTERNAL MODULE: ../node_modules/pako/index.js\nvar pako = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./filters/glitchblob.js\n/* eslint no-unused-vars: ["error", { "argsIgnorePattern": "^_" }] */\n\n/* eslint-disable no-param-reassign, no-bitwise */\n// lots of mutation\n\n\n\n\n\nconst glitchblob_IMAGE_JPEG = "IMAGE_JPEG";\nconst glitchblob_IMAGE_PNG = "IMAGE_PNG";\nconst glitchblob_IMAGE_WEBP = "IMAGE_WEBP";\nconst glitchblob_IMAGE_BMP = "IMAGE_BMP";\nconst glitchblob_IMAGE_ICO = "IMAGE_ICO";\nconst glitchblob_formatMap = {\n  [glitchblob_IMAGE_JPEG]: "image/jpeg",\n  [glitchblob_IMAGE_PNG]: "image/png",\n  [glitchblob_IMAGE_WEBP]: "image/webp",\n  [glitchblob_IMAGE_BMP]: "image/gif",\n  [glitchblob_IMAGE_ICO]: "image/ico"\n};\nconst glitchblob_optionTypes = {\n  format: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "image/jpeg",\n      value: glitchblob_IMAGE_JPEG\n    }, {\n      name: "image/png",\n      value: glitchblob_IMAGE_PNG\n    }, {\n      name: "image/webp",\n      value: glitchblob_IMAGE_WEBP\n    }, {\n      name: "image/bmp",\n      value: glitchblob_IMAGE_BMP\n    }, {\n      name: "image/ico",\n      value: glitchblob_IMAGE_ICO\n    }],\n    default: glitchblob_IMAGE_JPEG\n  },\n  errors: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 300],\n    step: 1,\n    default: 30\n  },\n  errTranspose: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  errRepeat: {\n    type: controlTypes["a" /* BOOL */],\n    default: false\n  },\n  errSubstitute: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  jpegQuality: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 1],\n    step: 0.01,\n    default: 0.92\n  }\n};\nconst glitchblob_defaults = {\n  errRepeat: glitchblob_optionTypes.errRepeat.default,\n  errTranspose: glitchblob_optionTypes.errTranspose.default,\n  errSubstitute: glitchblob_optionTypes.errSubstitute.default,\n  errors: glitchblob_optionTypes.errors.default,\n  format: glitchblob_optionTypes.format.default,\n  jpegQuality: glitchblob_optionTypes.jpegQuality.default\n};\n\nclass glitchblob_PngError extends Error {\n  constructor(...params) {\n    super(...params);\n    Error.captureStackTrace(this, glitchblob_PngError);\n  }\n\n}\n\nconst glitchblob_canvasToBlob = (image, format) => new Promise((resolve, _reject) => {\n  image.toBlob(blob => {\n    resolve(blob);\n  }, glitchblob_formatMap[format]);\n});\n\nconst glitchblob_blobToImage = blob => new Promise((resolve, reject) => {\n  const corruptedImage = new Image();\n\n  corruptedImage.onload = () => {\n    resolve(corruptedImage);\n  };\n\n  corruptedImage.onerror = e => {\n    reject(e);\n  };\n\n  corruptedImage.src = URL.createObjectURL(blob);\n});\n\nconst glitchblob_blobToUint8Array = blob => new Promise((resolve, reject) => {\n  const fileReader = new FileReader();\n\n  fileReader.onload = event => {\n    if (blob.size === event.target.result.byteLength) {\n      resolve(new Uint8Array(event.target.result));\n    } else {\n      reject(new Error("I\'ve lost my mind"));\n    }\n  };\n\n  fileReader.onerror = e => {\n    reject(e);\n  };\n\n  fileReader.readAsArrayBuffer(blob);\n});\n\nconst glitchblob_transformTranspose = (header, input, ..._rest) => {\n  const idx = header + Math.floor(Math.random() * (input.length - header - 1));\n  const tmp = input[idx];\n  input[idx] = input[idx + 1];\n  input[idx + 1] = tmp;\n  return input;\n};\n\nconst glitchblob_transformSubstitute = (header, input, ..._rest) => {\n  const by = Math.floor(Math.random() * 256);\n  const idx = header + Math.floor(Math.random() * (input.length - header));\n  input[idx] = by;\n  return input;\n};\n\nconst glitchblob_transformRepeat = (header, input, ..._rest) => {\n  const idx = header + Math.floor(Math.random() * (input.length - header));\n  const by = input[idx];\n  const repeatedBuf = new Uint8Array(Math.floor(Math.random() * 10));\n\n  for (let i = 0; i < repeatedBuf.length; i += 1) {\n    repeatedBuf[i] = by;\n  }\n\n  const newOut = new Uint8Array(input.length + repeatedBuf.length - 1);\n  newOut.set(input.subarray(0, idx), 0);\n  let wrote = idx;\n  newOut.set(repeatedBuf, wrote);\n  wrote += repeatedBuf.length;\n  newOut.set(input.subarray(idx + 1), wrote);\n  return newOut;\n};\n\nconst glitchblob_setU32 = (data, value) => {\n  const tmpBuf = new ArrayBuffer(4);\n  new DataView(tmpBuf).setUint32(0, value);\n  /* eslint-disable */\n\n  data[0] = new Uint8Array(tmpBuf)[0];\n  data[1] = new Uint8Array(tmpBuf)[1];\n  data[2] = new Uint8Array(tmpBuf)[2];\n  data[3] = new Uint8Array(tmpBuf)[3];\n  /* eslint-enable */\n};\n\nconst glitchblob_getU32 = data => {\n  const tmpBuf = new ArrayBuffer(4);\n  /* eslint-disable */\n\n  new Uint8Array(tmpBuf)[0] = data[0];\n  new Uint8Array(tmpBuf)[1] = data[1];\n  new Uint8Array(tmpBuf)[2] = data[2];\n  new Uint8Array(tmpBuf)[3] = data[3];\n  /* eslint-enable */\n\n  return new DataView(tmpBuf).getUint32(0);\n};\n\nconst glitchblob_computeCrc = (data, crcBuf) => {\n  /* eslint-disable */\n  function buildCRC32Table(poly) {\n    const table = new Uint32Array(256);\n\n    for (let n = 0; n < 256; n += 1) {\n      let c = n;\n\n      for (let k = 0; k < 8; k += 1) {\n        if (c & 1) {\n          c = poly ^ c >>> 1;\n        } else {\n          c >>>= 1;\n        }\n      }\n\n      table[n] = c >>> 0;\n    }\n\n    return table;\n  }\n\n  const table = buildCRC32Table(0xedb88320);\n  let crc = 0xffffffff;\n\n  for (let i = 0; i < data.length; i += 1) {\n    crc = crc >>> 8 ^ table[(crc ^ data[i]) & 0xff];\n  }\n\n  crc ^= 0xffffffff;\n  /* eslint-enable */\n\n  glitchblob_setU32(crcBuf, crc);\n};\n\nconst glitchblob_postprocessPNG = ctx => {\n  const CHUNK_SIZE = 8192; // prettier-ignore\n\n  const pngHeader = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n  let outSize = pngHeader.length;\n  const filterDeflate = Object(pako["deflate"])(ctx.filter);\n\n  for (let i = 0; i < ctx.skippedBeforeIdat.length; i += 1) {\n    outSize += ctx.skippedBeforeIdat[i].length;\n  }\n\n  for (let s = 0; s < filterDeflate.length; s += CHUNK_SIZE) {\n    outSize += filterDeflate.subarray(s, s + CHUNK_SIZE).length + 12;\n  }\n\n  for (let i = 0; i < ctx.skippedAfterIdat.length; i += 1) {\n    outSize += ctx.skippedAfterIdat[i].length;\n  }\n\n  const out = new Uint8Array(outSize);\n  let outOff = 0;\n  out.set(pngHeader, outOff);\n  outOff += pngHeader.length;\n\n  for (let i = 0; i < ctx.skippedBeforeIdat.length; i += 1) {\n    out.set(ctx.skippedBeforeIdat[i], outOff);\n    outOff += ctx.skippedBeforeIdat[i].length;\n  }\n\n  for (let s = 0; s < filterDeflate.length; s += CHUNK_SIZE) {\n    const data = filterDeflate.subarray(s, s + CHUNK_SIZE);\n    const chunkTmp = new Uint8Array(data.length + 12);\n    glitchblob_setU32(chunkTmp.subarray(0, 4), data.length);\n    chunkTmp[4 + 0] = 73;\n    chunkTmp[4 + 1] = 68;\n    chunkTmp[4 + 2] = 65;\n    chunkTmp[4 + 3] = 84;\n    let chunkOffset = 8;\n    chunkTmp.set(data, chunkOffset);\n    chunkOffset += data.length;\n    glitchblob_computeCrc(chunkTmp.subarray(4, chunkOffset), chunkTmp.subarray(chunkOffset, chunkOffset + 4));\n    chunkOffset += 4;\n    out.set(chunkTmp.subarray(0, chunkOffset), outOff);\n    outOff += chunkOffset;\n  }\n\n  for (let i = 0; i < ctx.skippedAfterIdat.length; i += 1) {\n    out.set(ctx.skippedAfterIdat[i], outOff);\n    outOff += ctx.skippedAfterIdat[i].length;\n  }\n\n  return out;\n};\n\nconst glitchblob_preprocessPNG = buffer => {\n  let offset = 0;\n  const skippedBeforeIdat = [];\n  const skippedAfterIdat = []; // prettier-ignore\n\n  const pngHeader = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n  for (; offset < pngHeader.length; offset += 1) {\n    if (buffer[offset] !== pngHeader[offset]) {\n      throw glitchblob_PngError("invalid magic");\n    }\n  }\n\n  let dataBytes = 0; // measure.\n\n  for (;;) {\n    if (buffer.length < offset + 4) {\n      throw glitchblob_PngError("truncated");\n    }\n\n    const length = glitchblob_getU32(buffer.subarray(offset, offset + 4));\n\n    if (length < 0) {\n      throw new Error("Unreachable?");\n    }\n\n    offset += 4;\n\n    if (buffer.length < offset + length + 4) {\n      // not a valid PNG\n      throw glitchblob_PngError("truncated");\n    }\n\n    const headerType = String.fromCharCode.apply(null, buffer.subarray(offset, offset + 4));\n    offset += 4;\n    dataBytes += length;\n    offset += length;\n    offset += 4;\n\n    if (headerType === "IEND") {\n      break;\n    }\n  }\n\n  offset = 0;\n  const filterDeflated = new Uint8Array(dataBytes);\n  let outPos = 0;\n  let beforeIdat = true;\n\n  for (; offset < pngHeader.length; offset += 1) {\n    if (buffer[offset] !== pngHeader[offset]) {\n      // not a PNG\n      throw glitchblob_PngError("invalid magic");\n    }\n  }\n\n  for (;;) {\n    if (buffer.length < offset + 4) {\n      // not a valid PNG\n      throw glitchblob_PngError("truncated");\n    }\n\n    const chunkStart = offset;\n    const length = glitchblob_getU32(buffer.subarray(offset, offset + 4));\n    offset += 4;\n\n    if (length < 0) {\n      throw new Error("Unreachable?");\n    }\n\n    if (buffer.length < offset + length + 4) {\n      // not a valid PNG\n      throw glitchblob_PngError("truncated");\n    }\n\n    const headerType = String.fromCharCode.apply(null, buffer.subarray(offset, offset + 4));\n    offset += 4;\n\n    if (headerType === "IDAT") {\n      for (let i = 0; i < length; i += 1) {\n        filterDeflated[outPos] = buffer[offset + i];\n        outPos += 1;\n      }\n\n      beforeIdat = false;\n    }\n\n    offset += length;\n    offset += 4;\n\n    if (headerType !== "IDAT") {\n      const chunk = buffer.subarray(chunkStart, offset);\n\n      if (beforeIdat) {\n        skippedBeforeIdat.push(chunk);\n      } else {\n        skippedAfterIdat.push(chunk);\n      }\n    }\n\n    if (headerType === "IEND") {\n      break;\n    }\n  }\n\n  return {\n    filter: Object(pako["inflate"])(filterDeflated),\n    skippedBeforeIdat,\n    skippedAfterIdat\n  };\n};\n\nconst glitchblob_glitchblob = (input, options = glitchblob_defaults, dispatch) => {\n  const {\n    errRepeat,\n    errSubstitute,\n    errTranspose,\n    errors,\n    format\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const corruptThis = (image, fmt) => {\n    const retry = (limit, promiseChainFactory) => promiseChainFactory().catch(e => new Promise((reso, rej) => {\n      if (limit === 0) {\n        rej(e);\n      } else {\n        reso(retry(limit - 1, promiseChainFactory));\n      }\n    }));\n\n    const corruptor = corruptedArg => {\n      let corrupted = corruptedArg;\n      let context;\n      let header = Math.round(Math.min(100, 0.9 * corrupted.length));\n\n      if (fmt === glitchblob_IMAGE_PNG) {\n        context = glitchblob_preprocessPNG(corrupted);\n        corrupted = context.filter;\n        header = 0;\n      }\n\n      const corruptors = [];\n\n      if (errTranspose) {\n        corruptors.push(glitchblob_transformTranspose);\n      }\n\n      if (errSubstitute) {\n        corruptors.push(glitchblob_transformSubstitute);\n      }\n\n      if (errRepeat) {\n        corruptors.push(glitchblob_transformRepeat);\n      }\n\n      if (corruptors.length > 0) {\n        for (let i = 0; i < errors; i += 1) {\n          const cIdx = Math.floor(Math.random() * corruptors.length);\n          const currentX = cIdx % input.width;\n          const currentY = Math.floor(cIdx / input.width);\n          corrupted = corruptors[cIdx](header, corrupted, input.width, input.height, currentX, currentY);\n        }\n      }\n\n      if (fmt === glitchblob_IMAGE_PNG && context != null) {\n        corrupted = glitchblob_postprocessPNG(context);\n      }\n\n      return corrupted;\n    };\n\n    return retry(10, () => glitchblob_canvasToBlob(image, format).then(glitchblob_blobToUint8Array).then(corruptor).then(u8a => new Blob([u8a], {\n      type: glitchblob_formatMap[format]\n    })).then(glitchblob_blobToImage));\n  };\n\n  corruptThis(input, format).then(image => {\n    dispatch(actions_filterImage(image));\n  });\n  return ASYNC_FILTER;\n};\n\n/* harmony default export */ var filters_glitchblob = ({\n  name: "Glitch",\n  func: glitchblob_glitchblob,\n  options: glitchblob_defaults,\n  optionTypes: glitchblob_optionTypes,\n  defaults: glitchblob_defaults\n});\n// CONCATENATED MODULE: ./filters/halftone.js\nfunction halftone_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { halftone_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction halftone_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst halftone_optionTypes = {\n  size: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, Infinity],\n    default: 6\n  },\n  // diameter of input\n  sizeMultiplier: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 5],\n    step: 0.1,\n    default: 1\n  },\n  // diameter of output\n  offset: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 3],\n    step: 0.1,\n    default: 0.3\n  },\n  levels: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    default: 32\n  },\n  // no. of circle sizes\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  },\n  squareDots: {\n    type: controlTypes["a" /* BOOL */],\n    default: false\n  },\n  background: {\n    type: controlTypes["h" /* STRING */],\n    default: "black"\n  }\n};\nconst halftone_defaults = {\n  size: halftone_optionTypes.size.default,\n  sizeMultiplier: halftone_optionTypes.sizeMultiplier.default,\n  offset: halftone_optionTypes.offset.default,\n  levels: halftone_optionTypes.levels.default,\n  palette: halftone_objectSpread({}, halftone_optionTypes.palette.default, {\n    options: {\n      levels: 8\n    }\n  }),\n  squareDots: halftone_optionTypes.squareDots.default,\n  background: halftone_optionTypes.background.default\n};\n\nconst halftone_halftone = (input, options = halftone_defaults) => {\n  const getOffset = (radians, radius, x0, y0) => {\n    const x = x0 + radius * Math.cos(radians);\n    const y = y0 + radius * Math.sin(radians);\n    return [x, y];\n  };\n\n  const {\n    background,\n    palette\n  } = options;\n  const size = parseInt(options.size, 10);\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  outputCtx.globalCompositeOperation = "screen";\n\n  if (typeof background === "string") {\n    outputCtx.fillStyle = background;\n    outputCtx.fillRect(0, 0, output.width, output.height);\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data; // TODO: handle edges\n\n  for (let x = 0; x < input.width; x += size) {\n    for (let y = 0; y < input.height; y += size) {\n      const meanColor = Object(utils["m" /* rgba */])(0, 0, 0, 0);\n      const pixels = size * size;\n\n      for (let w = 0; w < size; w += 1) {\n        for (let h = 0; h < size; h += 1) {\n          const sourceIdx = Object(utils["i" /* getBufferIndex */])(x + w, y + h, output.width);\n\n          for (let c = 0; c < 4; c += 1) {\n            meanColor[c] += buf[sourceIdx + c] / pixels;\n          }\n        }\n      } // FIXME: this is wrong(?), should apply nearest here and palette later in colors\n      // rgba(255, 0, 0) should be matched to red?\n\n\n      const quantizedColor = palette.getColor(meanColor, palette.options);\n      const radii = quantizedColor.map(c => c * (size / 2 / 255) * options.sizeMultiplier);\n      const colors = [`rgba(255, 0, 0, ${meanColor[3] / 255}`, `rgba(0, 255, 0, ${meanColor[3] / 255}`, `rgba(0, 0, 255, ${meanColor[3] / 255}`];\n      const centerX = x + size / 2;\n      const centerY = y + size / 2;\n      const offsetDistance = size * options.offset;\n      const centers = [getOffset(2 * Math.PI / 3, offsetDistance, centerX, centerY), getOffset(2 * 2 * Math.PI / 3, offsetDistance, centerX, centerY), getOffset(2 * Math.PI, offsetDistance, centerX, centerY)];\n\n      for (let c = 0; c < 3; c += 1) {\n        if (options.squareDots) {\n          outputCtx.fillStyle = colors[c];\n          outputCtx.fillRect(centers[c][0], centers[c][1], radii[c], radii[c]);\n        } else {\n          // Circle\n          outputCtx.beginPath();\n          outputCtx.arc(centers[c][0], centers[c][1], radii[c], 0, Math.PI * 2);\n          outputCtx.fillStyle = colors[c];\n          outputCtx.fill();\n        }\n      }\n    }\n  }\n\n  outputCtx.globalCompositeOperation = "source-over";\n  return output;\n};\n\n/* harmony default export */ var filters_halftone = ({\n  name: "Halftone",\n  func: halftone_halftone,\n  options: halftone_defaults,\n  optionTypes: halftone_optionTypes,\n  defaults: halftone_defaults\n});\n// CONCATENATED MODULE: ./filters/invert.js\n\n\nconst invert_optionTypes = {\n  invertR: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  invertG: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  invertB: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  invertA: {\n    type: controlTypes["a" /* BOOL */],\n    default: false\n  }\n};\nconst invert_defaults = {\n  invertR: invert_optionTypes.invertR.default,\n  invertG: invert_optionTypes.invertG.default,\n  invertB: invert_optionTypes.invertB.default,\n  invertA: invert_optionTypes.invertA.default\n};\n\nconst invert_invert = (input, options = invert_defaults) => {\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n  if (!inputCtx || !outputCtx) return input;\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const r = options.invertR ? 255 - buf[i] : buf[i];\n      const g = options.invertG ? 255 - buf[i + 1] : buf[i + 1];\n      const b = options.invertB ? 255 - buf[i + 2] : buf[i + 2];\n      const a = options.invertA ? 255 - buf[i + 3] : buf[i + 3];\n      Object(utils["g" /* fillBufferPixel */])(buf, i, r, g, b, a);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_invert = ({\n  name: "Invert",\n  func: invert_invert,\n  options: invert_defaults,\n  optionTypes: invert_optionTypes,\n  defaults: invert_defaults\n});\n// CONCATENATED MODULE: ./filters/ordered.js\nfunction ordered_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { ordered_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction ordered_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst ordered_BAYER_2X2 = "BAYER_2X2";\nconst ordered_BAYER_3X3 = "BAYER_3X3";\nconst ordered_BAYER_4X4 = "BAYER_4X4";\nconst ordered_BAYER_8X8 = "BAYER_8X8";\nconst ordered_BAYER_16X16 = "BAYER_16X16";\nconst ordered_SQUARE_5X5 = "SQUARE_5X5";\nconst ordered_CORNER_4X4 = "CORNER_4X4";\nconst ordered_BLOCK_VERTICAL_4X4 = "BLOCK_VERTICAL_4X4";\nconst ordered_BLOCK_HORIZONTAL_4X4 = "BLOCK_HORIZONTAL_4X4";\nconst ordered_HATCH_2X2 = "HATCH_2X2";\nconst ordered_HATCH_3X3 = "HATCH_3X3";\nconst ordered_HATCH_4X4 = "HATCH_4X4";\nconst ordered_ALTERNATE_3X3 = "ALTERNATE_3X3";\nconst ordered_DISPERSED_DOT_3X3 = "DISPERSED_DOT_3X3";\nconst ordered_PATTERN_5X5 = "PATTERN_5X5";\n// map[y][x]\nconst ordered_thresholdMaps = {\n  [ordered_BAYER_2X2]: {\n    width: 2,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 2], [3, 1]], 1 / 4)\n  },\n  [ordered_BAYER_3X3]: {\n    width: 3,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 7, 3], [6, 5, 2], [4, 1, 8]], 1 / 9)\n  },\n  [ordered_BAYER_4X4]: {\n    width: 4,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 8, 2, 10], [12, 4, 14, 6], [3, 11, 1, 9], [15, 7, 13, 5]], 1 / 16)\n  },\n  [ordered_BAYER_8X8]: {\n    width: 8,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 48, 12, 60, 3, 51, 15, 63], [32, 16, 44, 28, 35, 19, 47, 31], [8, 56, 4, 52, 11, 59, 7, 55], [40, 24, 36, 20, 43, 27, 39, 23], [2, 50, 14, 62, 1, 49, 13, 61], [34, 18, 46, 30, 33, 17, 45, 29], [10, 58, 6, 54, 9, 57, 5, 53], [42, 26, 38, 22, 41, 25, 37, 21]], 1 / 64)\n  },\n  [ordered_BAYER_16X16]: {\n    width: 16,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])( // prettier-ignore\n    [[0, 192, 48, 240, 12, 204, 60, 252, 3, 195, 51, 243, 15, 207, 63, 255], [128, 64, 176, 112, 140, 76, 188, 124, 131, 67, 179, 115, 143, 79, 191, 127], [32, 224, 16, 208, 44, 236, 28, 220, 35, 227, 19, 211, 47, 239, 31, 223], [160, 96, 144, 80, 172, 108, 156, 92, 163, 99, 147, 83, 175, 111, 159, 95], [8, 200, 56, 248, 4, 196, 52, 244, 11, 203, 59, 251, 7, 199, 55, 247], [136, 72, 184, 120, 132, 68, 180, 116, 139, 75, 187, 123, 135, 71, 183, 119], [40, 232, 24, 216, 36, 228, 20, 212, 43, 235, 27, 219, 39, 231, 23, 215], [168, 104, 152, 88, 164, 100, 148, 84, 171, 107, 155, 91, 167, 103, 151, 87], [2, 194, 50, 242, 14, 206, 62, 254, 1, 193, 49, 241, 13, 205, 61, 253], [130, 66, 178, 114, 142, 78, 190, 126, 129, 65, 177, 113, 141, 77, 189, 125], [34, 226, 18, 210, 46, 238, 30, 222, 33, 225, 17, 209, 45, 237, 29, 221], [162, 98, 146, 82, 174, 110, 158, 94, 161, 97, 145, 81, 173, 109, 157, 93], [10, 202, 58, 250, 6, 198, 54, 246, 9, 201, 57, 249, 5, 197, 53, 245], [138, 74, 186, 122, 134, 70, 182, 118, 137, 73, 185, 121, 133, 69, 181, 117], [42, 234, 26, 218, 38, 230, 22, 214, 41, 233, 25, 217, 37, 229, 21, 213], [170, 106, 154, 90, 166, 102, 150, 86, 169, 105, 153, 89, 165, 101, 149, 85]], 1 / 256)\n  },\n  [ordered_SQUARE_5X5]: {\n    width: 5,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[40, 60, 150, 90, 10], [80, 170, 240, 200, 110], [140, 210, 250, 220, 130], [120, 190, 230, 180, 70], [20, 100, 160, 50, 30]], 1 / 255)\n  },\n  [ordered_DISPERSED_DOT_3X3]: {\n    width: 3,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 6, 3], [4, 7, 2], [5, 1, 8]], 1 / 9)\n  },\n  [ordered_CORNER_4X4]: {\n    width: 4,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 2, 5, 9], [1, 4, 8, 12], [3, 7, 11, 14], [6, 10, 13, 15]], 1 / 16)\n  },\n  [ordered_BLOCK_VERTICAL_4X4]: {\n    width: 4,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 1, 2, 3], [0, 1, 2, 3], [0, 1, 2, 3], [0, 1, 2, 3]], 1 / 4),\n    levels: 4\n  },\n  [ordered_BLOCK_HORIZONTAL_4X4]: {\n    width: 4,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 0, 0, 0], [1, 1, 1, 1], [2, 2, 2, 2], [3, 3, 3, 3]], 1 / 4),\n    levels: 4\n  },\n  [ordered_HATCH_2X2]: {\n    width: 2,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 1], [1, 0]], 1 / 2),\n    levels: 2\n  },\n  [ordered_HATCH_3X3]: {\n    width: 3,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 1, 2], [1, 2, 1], [2, 1, 0]], 1 / 3),\n    levels: 3\n  },\n  [ordered_HATCH_4X4]: {\n    width: 4,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 1, 2, 3], [1, 2, 3, 2], [2, 3, 2, 1], [3, 2, 1, 0]], 1 / 4),\n    levels: 4\n  },\n  [ordered_ALTERNATE_3X3]: {\n    width: 3,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[0, 5, 1], [6, 2, 7], [3, 8, 4]], 1 / 9),\n    levels: 9\n  },\n  [ordered_PATTERN_5X5]: {\n    width: 5,\n    thresholdMap: Object(utils["q" /* scaleMatrix */])([[2, 4, 2, 4, 2], [4, 1, 3, 1, 4], [2, 3, 0, 3, 2], [4, 1, 3, 1, 4], [2, 4, 2, 4, 2]], 1 / 5),\n    levels: 5\n  }\n};\n\nconst ordered_scaleThresholdMap = (map, timesX, timesY) => {\n  if (timesX === 1 && timesY === 1) {\n    return map;\n  }\n\n  const out = [];\n\n  for (let i = 0; i < map.length; i += 1) {\n    for (let y = 0; y < timesY; y += 1) {\n      const row = [];\n\n      for (let j = 0; j < map[i].length; j += 1) {\n        for (let x = 0; x < timesX; x += 1) {\n          row.push(map[i][j]);\n        }\n      }\n\n      out.push(row);\n    }\n  }\n\n  return out;\n};\n\nconst ordered_getOrderedColor = (color, levels, tx, ty, threshold) => {\n  const thresholdValue = threshold[ty][tx];\n\n  if (thresholdValue == null) {\n    return Object(utils["m" /* rgba */])(255, 255, 0, 255); // error colour\n  }\n\n  const step = 255 / (levels - 1); // $FlowFixMe\n\n  return color.map((c, i) => {\n    if (i === 3) return c; // alpha channel\n\n    const newColor = c + step * (thresholdValue - 0.5);\n    const bucket = Math.round(newColor / step);\n    return Math.round(bucket * step);\n  });\n};\n\nconst ordered_optionTypes = {\n  thresholdMap: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "Bayer 2×2",\n      value: ordered_BAYER_2X2\n    }, {\n      name: "Bayer 3×3",\n      value: ordered_BAYER_3X3\n    }, {\n      name: "Bayer 4×4",\n      value: ordered_BAYER_4X4\n    }, {\n      name: "Bayer 8×8",\n      value: ordered_BAYER_8X8\n    }, {\n      name: "Bayer 16×16",\n      value: ordered_BAYER_16X16\n    }, {\n      name: "Dispersed Dot 3×3",\n      value: ordered_DISPERSED_DOT_3X3\n    }, {\n      name: "Digital Halftone 5×8",\n      value: ordered_SQUARE_5X5\n    }, {\n      name: "Corner 4×4",\n      value: ordered_CORNER_4X4\n    }, {\n      name: "Block Vertical 4×4",\n      value: ordered_BLOCK_VERTICAL_4X4\n    }, {\n      name: "Block Horizontal 4×4",\n      value: ordered_BLOCK_HORIZONTAL_4X4\n    }, {\n      name: "Hatch 2×2",\n      value: ordered_HATCH_2X2\n    }, {\n      name: "Hatch 3×3",\n      value: ordered_HATCH_3X3\n    }, {\n      name: "Hatch 4×4",\n      value: ordered_HATCH_4X4\n    }, {\n      name: "Alternate 3×3",\n      value: ordered_ALTERNATE_3X3\n    }, {\n      name: "Hatch 2×2 ×3",\n      value: ordered_PATTERN_5X5\n    }],\n    default: ordered_HATCH_2X2\n  },\n  thresholdMapScaleX: {\n    type: controlTypes["f" /* RANGE */],\n    range: [1, 5],\n    step: 1,\n    default: 1\n  },\n  thresholdMapScaleY: {\n    type: controlTypes["f" /* RANGE */],\n    range: [1, 5],\n    step: 1,\n    default: 1\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst ordered_defaults = {\n  thresholdMap: ordered_optionTypes.thresholdMap.default,\n  thresholdMapScaleX: ordered_optionTypes.thresholdMapScaleX.default,\n  thresholdMapScaleY: ordered_optionTypes.thresholdMapScaleY.default,\n  palette: ordered_objectSpread({}, ordered_optionTypes.palette.default, {\n    options: {\n      levels: 2\n    }\n  })\n};\n\nconst ordered_ordered = (input, options = ordered_defaults) => {\n  const {\n    palette,\n    thresholdMap,\n    thresholdMapScaleX,\n    thresholdMapScaleY\n  } = options;\n  const levels = thresholdMap.levels || thresholdMap.length > 0 ? thresholdMap.length * thresholdMap[0].length : 4;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const threshold = ordered_thresholdMaps[thresholdMap];\n  const thresholdMapScaled = ordered_scaleThresholdMap(threshold.thresholdMap, thresholdMapScaleX, thresholdMapScaleY);\n  const thresholdMapWidth = threshold.width * thresholdMapScaleX;\n  const thresholdMapHeight = threshold.width * thresholdMapScaleY;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const tix = x % thresholdMapWidth;\n      const tiy = y % thresholdMapHeight;\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width); // Ignore alpha channel when calculating error\n\n      const pixel = Object(utils["m" /* rgba */])(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]);\n      const orderedColor = ordered_getOrderedColor(pixel, levels, tix, tiy, thresholdMapScaled);\n      const color = palette.getColor(orderedColor, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], buf[i + 3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_ordered = ({\n  name: "Ordered",\n  func: ordered_ordered,\n  options: ordered_defaults,\n  optionTypes: ordered_optionTypes,\n  defaults: ordered_defaults\n});\n// CONCATENATED MODULE: ./filters/quantize.js\nfunction quantize_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { quantize_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction quantize_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst quantize_optionTypes = {\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst quantize_defaults = {\n  palette: quantize_objectSpread({}, quantize_optionTypes.palette.default, {\n    options: {\n      levels: 7\n    }\n  })\n};\n\nconst quantize_quantize = (input, options = quantize_defaults) => {\n  const {\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const pixel = Object(utils["m" /* rgba */])(buf[i], buf[i + 1], buf[i + 2], buf[i + 3]);\n      const color = palette.getColor(pixel, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], buf[i + 3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_quantize = ({\n  name: "Quantize",\n  func: quantize_quantize,\n  options: quantize_defaults,\n  optionTypes: quantize_optionTypes,\n  defaults: quantize_defaults\n});\n// EXTERNAL MODULE: ./constants/color.js\nvar constants_color = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./filters/random.js\n\n\n\n\nconst random_optionTypes = {\n  levels: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    default: 2\n  },\n  grayscale: {\n    type: controlTypes["a" /* BOOL */],\n    default: false\n  },\n  colorDistanceAlgorithm: controlTypes["c" /* COLOR_DISTANCE_ALGORITHM */]\n};\nconst random_defaults = {\n  levels: random_optionTypes.levels.default,\n  grayscale: random_optionTypes.grayscale.default,\n  colorDistanceAlgorithm: constants_color["d" /* RGB_NEAREST */]\n};\n\nconst random_random = (input, options = random_defaults) => {\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n\n      if (options.grayscale) {\n        const intensity = (buf[i] + buf[i + 1] + buf[2]) / 3;\n        const gray = Object(utils["l" /* quantizeValue */])(intensity + (Math.random() - 0.5) * 255, options.levels);\n        Object(utils["g" /* fillBufferPixel */])(buf, i, gray, gray, gray, buf[i + 3]);\n      } else {\n        const r = buf[i] + (Math.random() - 0.5) * 255;\n        const g = buf[i + 1] + (Math.random() - 0.5) * 255;\n        const b = buf[i + 2] + (Math.random() - 0.5) * 255;\n        const color = palettes["a" /* nearest */].getColor(Object(utils["m" /* rgba */])(r, g, b, buf[i + 3]), {\n          levels: options.levels,\n          colorDistanceAlgorithm: options.colorDistanceAlgorithm\n        });\n        Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], buf[i + 3]);\n      }\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_random = ({\n  name: "Random",\n  func: random_random,\n  options: random_defaults,\n  optionTypes: random_optionTypes,\n  defaults: random_defaults\n});\n// CONCATENATED MODULE: ./filters/scanline.js\n\n\n\nconst scanline_optionTypes = {\n  intensity: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 4],\n    step: 0.01,\n    default: 0.33\n  },\n  gap: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 1,\n    default: 3\n  },\n  height: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 255],\n    step: 1,\n    default: 1\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst scanline_defaults = {\n  intensity: scanline_optionTypes.intensity.default,\n  gap: scanline_optionTypes.gap.default,\n  height: scanline_optionTypes.height.default,\n  palette: scanline_optionTypes.palette.default\n};\n\nconst scanline_scanline = (input, options = scanline_defaults) => {\n  const {\n    intensity,\n    gap,\n    height,\n    palette\n  } = options;\n  const output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width);\n      const scale = y % gap < height ? intensity : 1;\n      const prePaletteColor = Object(utils["m" /* rgba */])(buf[i] * scale, buf[i + 1] * scale, buf[i + 2] * scale, buf[i + 3]);\n      const col = palette.getColor(prePaletteColor, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(buf, i, col[0], col[1], col[2], col[3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n  return output;\n};\n\n/* harmony default export */ var filters_scanline = ({\n  name: "Scanline",\n  func: scanline_scanline,\n  optionTypes: scanline_optionTypes,\n  options: scanline_defaults,\n  defaults: scanline_defaults\n});\n// CONCATENATED MODULE: ./filters/rgbstripe.js\nfunction rgbstripe_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { rgbstripe_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction rgbstripe_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nconst rgbstripe_VERTICAL = "VERTICAL";\nconst rgbstripe_STAGGERED = "STAGGERED";\nconst rgbstripe_LADDER = "LADDER";\nconst rgbstripe_TILED = "TILED";\nconst rgbstripe_HEX_GAP = "HEX_GAP";\nconst rgbstripe_masks = {\n  // R G B\n  [rgbstripe_VERTICAL]: e => [[[1, e, e, 1], [e, 1, e, 1], [e, e, 1, 1]]],\n  // R_G_B_\n  // _B_R_G\n  [rgbstripe_STAGGERED]: e => {\n    const r = [0.9, e, e, 1];\n    const r2 = [0.8, e, e, 1];\n    const g = [e, 1, e, 1];\n    const b = [e, e, 1, 1];\n    const k = [e, e, e, 1];\n    return [[r, k, g, k, b, k], [k, b, k, r2, k, g]];\n  },\n  // G B R\n  // B R G\n  // R G B\n  [rgbstripe_LADDER]: e => {\n    const r = [1, e, e, 1];\n    const g = [e, 1, e, 1];\n    const b = [e, e, 1, 1];\n    return [[r, g, b], [g, b, r], [b, r, g]];\n  },\n  // R G B R G B\n  // R G B _ _ _\n  // R G B R G B\n  // _ _ _ R G B\n  [rgbstripe_TILED]: e => {\n    const r = [1, e, e, 1];\n    const g = [e, 1, e, 1];\n    const b = [e, e, 1, 1];\n    const k = [e, e, e, 1];\n    return [[r, g, b, r, g, b], [r, g, b, k, k, k], [r, g, b, r, g, b], [k, k, k, r, g, b]];\n  },\n  // R G B _ R G B _\n  // B _ R G B _ R G\n  // R G B _ R G B _\n  [rgbstripe_HEX_GAP]: e => {\n    const r = [1, e, e, 1];\n    const g = [e, 1, e, 1];\n    const b = [e, e, 1, 1];\n    const k = [e, e, e, 1];\n    return [[r, g, b, k], [b, k, r, g]];\n  }\n};\nconst rgbstripe_optionTypes = {\n  contrast: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-40, 40],\n    step: 0.1,\n    default: 4\n  },\n  strength: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-1, 1],\n    step: 0.05,\n    default: 0.7\n  },\n  brightness: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-255, 255],\n    step: 1,\n    default: 40\n  },\n  exposure: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 4],\n    step: 0.05,\n    default: 1.5\n  },\n  gamma: {\n    type: controlTypes["f" /* RANGE */],\n    range: [0, 4],\n    step: 0.05,\n    default: 2.2\n  },\n  includeScanline: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  scanlineStrength: {\n    type: controlTypes["f" /* RANGE */],\n    range: [-2, 2],\n    step: 0.05,\n    default: 0.75\n  },\n  shadowMask: {\n    type: controlTypes["d" /* ENUM */],\n    options: [{\n      name: "Vertical",\n      value: rgbstripe_VERTICAL\n    }, {\n      name: "Staggered",\n      value: rgbstripe_STAGGERED\n    }, {\n      name: "Ladder",\n      value: rgbstripe_LADDER\n    }, {\n      name: "Tiled",\n      value: rgbstripe_TILED\n    }, {\n      name: "Hex",\n      value: rgbstripe_HEX_GAP\n    }],\n    default: rgbstripe_HEX_GAP\n  },\n  blur: {\n    type: controlTypes["a" /* BOOL */],\n    default: true\n  },\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst rgbstripe_defaults = {\n  strength: rgbstripe_optionTypes.strength.default,\n  contrast: rgbstripe_optionTypes.contrast.default,\n  brightness: rgbstripe_optionTypes.brightness.default,\n  exposure: rgbstripe_optionTypes.exposure.default,\n  gamma: rgbstripe_optionTypes.gamma.default,\n  includeScanline: rgbstripe_optionTypes.includeScanline.default,\n  scanlineStrength: rgbstripe_optionTypes.scanlineStrength.default,\n  shadowMask: rgbstripe_optionTypes.shadowMask.default,\n  blur: rgbstripe_optionTypes.blur.default,\n  palette: rgbstripe_optionTypes.palette.default\n};\n\nconst rgbstripe_rgbStripe = (input, options = rgbstripe_defaults) => {\n  const {\n    includeScanline,\n    scanlineStrength,\n    shadowMask,\n    brightness,\n    contrast,\n    exposure,\n    gamma,\n    strength,\n    blur,\n    palette\n  } = options;\n  let output = Object(utils["d" /* cloneCanvas */])(input, false);\n  const inputCtx = input.getContext("2d");\n  const outputCtx = output.getContext("2d");\n\n  if (!inputCtx || !outputCtx) {\n    return input;\n  }\n\n  const buf = inputCtx.getImageData(0, 0, input.width, input.height).data;\n  const outputBuf = new Uint8ClampedArray(buf);\n  const effect = 1 - strength;\n  const mask = rgbstripe_masks[shadowMask](effect);\n\n  for (let x = 0; x < input.width; x += 1) {\n    for (let y = 0; y < input.height; y += 1) {\n      const i = Object(utils["i" /* getBufferIndex */])(x, y, input.width); // Mask R/G/B alternating\n\n      const maskxIdx = x % mask[0].length;\n      const maskyIdx = y % mask.length;\n      const masked = Object(utils["m" /* rgba */])(buf[i] * mask[maskyIdx][maskxIdx][0], buf[i + 1] * mask[maskyIdx][maskxIdx][1], buf[i + 2] * mask[maskyIdx][maskxIdx][2], buf[i + 3]); // Bring up brightness as we\'ve masked off too much\n\n      const brightnessAdjusted = Object(utils["c" /* brightness */])(masked, brightness, exposure);\n      const contrastAdjusted = Object(utils["f" /* contrast */])(brightnessAdjusted, contrast);\n      const gammaAdjusted = Object(utils["h" /* gamma */])(contrastAdjusted, gamma); // Manually scanline if needed\n\n      const scanlineScale = includeScanline && y % 3 === 0 ? scanlineStrength : 1;\n      const scanlined = Object(utils["p" /* scale */])(gammaAdjusted, scanlineScale);\n      const color = palette.getColor(scanlined, palette.options);\n      Object(utils["g" /* fillBufferPixel */])(outputBuf, i, color[0], color[1], color[2], buf[i + 3]);\n    }\n  }\n\n  outputCtx.putImageData(new ImageData(outputBuf, output.width, output.height), 0, 0);\n\n  if (blur) {\n    output = filters_convolve.func(output, rgbstripe_objectSpread({}, convolve_defaults, {\n      kernel: convolve_GAUSSIAN_3X3_WEAK\n    }));\n  }\n\n  return output;\n};\n\n/* harmony default export */ var rgbstripe = ({\n  name: "rgbStripe",\n  func: rgbstripe_rgbStripe,\n  optionTypes: rgbstripe_optionTypes,\n  options: rgbstripe_defaults,\n  defaults: rgbstripe_defaults\n});\n// CONCATENATED MODULE: ./filters/errorDiffusingFilterFactory.js\n\n\n\nconst errorDiffusingFilterFactory_optionTypes = {\n  palette: {\n    type: controlTypes["e" /* PALETTE */],\n    default: palettes["a" /* nearest */]\n  }\n};\nconst errorDiffusingFilterFactory_defaults = {\n  palette: errorDiffusingFilterFactory_optionTypes.palette.default\n};\nconst errorDiffusingFilterFactory_errorDiffusingFilter = (name, errorMatrix, defaultOptions) => {\n  const filter = (input, options = defaultOptions) => {\n    const {\n      palette\n    } = options;\n    const output = Object(utils["d" /* cloneCanvas */])(input, true);\n    const outputCtx = output.getContext("2d");\n    if (!outputCtx) return input;\n    const buf = outputCtx.getImageData(0, 0, input.width, input.height).data;\n    if (!buf) return input; // Increase precision over u8 (from getImageData) for error diffusion\n\n    const errBuf = Array.from(buf);\n    if (!errBuf) return input;\n\n    for (let x = 0; x < output.width; x += 1) {\n      for (let y = 0; y < output.height; y += 1) {\n        const i = Object(utils["i" /* getBufferIndex */])(x, y, output.width); // Ignore alpha channel when calculating error\n\n        const pixel = Object(utils["m" /* rgba */])(errBuf[i], errBuf[i + 1], errBuf[i + 2], errBuf[i + 3]);\n        const color = palette.getColor(pixel, palette.options);\n        const error = Object(utils["r" /* sub */])(pixel, color); // Copy alpha value from input\n\n        Object(utils["g" /* fillBufferPixel */])(buf, i, color[0], color[1], color[2], buf[i + 3]);\n        const kernelWidth = errorMatrix.kernel[0].length;\n        const kernelHeight = errorMatrix.kernel.length;\n\n        for (let w = 0; w < kernelWidth; w += 1) {\n          for (let h = 0; h < kernelHeight; h += 1) {\n            const weight = errorMatrix.kernel[h][w];\n\n            if (weight != null) {\n              const targetIdx = Object(utils["i" /* getBufferIndex */])(x + w + errorMatrix.offset[0], y + h + errorMatrix.offset[1], output.width);\n              const toDiffuse = Object(utils["p" /* scale */])(error, weight);\n              Object(utils["b" /* addBufferPixel */])(errBuf, targetIdx, toDiffuse);\n            }\n          }\n        }\n      }\n    }\n\n    outputCtx.putImageData(new ImageData(buf, output.width, output.height), 0, 0);\n    return output;\n  };\n\n  return {\n    name,\n    func: filter,\n    optionTypes: errorDiffusingFilterFactory_optionTypes,\n    options: errorDiffusingFilterFactory_defaults,\n    defaults: defaultOptions\n  };\n};\n/* harmony default export */ var errorDiffusingFilterFactory = (errorDiffusingFilterFactory_errorDiffusingFilter);\n// CONCATENATED MODULE: ./filters/errorDiffusing.js\n\n // https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering\n// [_,    *,    7/16]\n// [3/16, 5/16, 1/16]\n\nconst errorDiffusing_fsKernel = {\n  offset: [-1, 0],\n  // x, y\n  kernel: [[null, null, 7 / 16], [3 / 16, 5 / 16, 1 / 16]]\n};\nconst errorDiffusing_floydSteinberg = errorDiffusingFilterFactory_errorDiffusingFilter("Floyd-Steinberg", errorDiffusing_fsKernel, errorDiffusingFilterFactory_defaults);\nconst errorDiffusing_falseFsKernel = {\n  offset: [0, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, 3], [3, 2]], 1 / 8)\n};\nconst errorDiffusing_falseFloydSteinberg = errorDiffusingFilterFactory_errorDiffusingFilter("False Floyd-Steinberg", errorDiffusing_falseFsKernel, errorDiffusingFilterFactory_defaults); // http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/\n//         *   5   3\n// 2   4   5   4   2\n//     2   3   2\n//       (1/32)\n\nconst errorDiffusing_sierra3kernel = {\n  offset: [-2, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, null, 5, 3], [2, 4, 5, 4, 2], [null, 2, 3, 2, null]], 1 / 32)\n};\nconst errorDiffusing_sierra = errorDiffusingFilterFactory_errorDiffusingFilter("Sierra", errorDiffusing_sierra3kernel, errorDiffusingFilterFactory_defaults); //         X   4   3\n// 1   2   3   2   1\n//       (1/16)\n\nconst errorDiffusing_sierra2kernel = {\n  offset: [-2, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, null, 4, 3], [1, 2, 3, 2, 1]], 1 / 16)\n};\nconst errorDiffusing_sierra2 = errorDiffusingFilterFactory_errorDiffusingFilter("Sierra 2-row", errorDiffusing_sierra2kernel, errorDiffusingFilterFactory_defaults); //     X   2\n// 1   1\n//   (1/4)\n\nconst errorDiffusing_sierraLiteKernel = {\n  offset: [-1, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, 2], [1, 1, null]], 1 / 4)\n};\nconst errorDiffusing_sierraLite = errorDiffusingFilterFactory_errorDiffusingFilter("Sierra lite", errorDiffusing_sierraLiteKernel, errorDiffusingFilterFactory_defaults); // http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/\n//     X   1   1\n// 1   1   1\n//     1\n//   (1/8)\n\nconst errorDiffusing_atkinsonKernel = {\n  offset: [-1, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, 1, 1], [1, 1, 1, null], [null, 1, null, null]], 1 / 8)\n};\nconst errorDiffusing_atkinson = errorDiffusingFilterFactory_errorDiffusingFilter("Atkinson", errorDiffusing_atkinsonKernel, errorDiffusingFilterFactory_defaults); // http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/\n//         X   7   5\n// 3   5   7   5   3\n// 1   3   5   3   1\n//       (1/48)\n\nconst errorDiffusing_jarvisKernel = {\n  offset: [-2, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, null, 7, 5], [3, 5, 7, 5, 3], [1, 3, 5, 3, 1]], 1 / 48)\n};\nconst errorDiffusing_jarvis = errorDiffusingFilterFactory_errorDiffusingFilter("Jarvis", errorDiffusing_jarvisKernel, errorDiffusingFilterFactory_defaults); //         *   8   4\n// 2   4   8   4   2\n// 1   2   4   2   1   (1/42)\n\nconst errorDiffusing_stuckiKernel = {\n  offset: [-2, 0],\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, null, 8, 4], [2, 4, 8, 4, 2], [1, 2, 4, 2, 1]], 1 / 42)\n};\nconst errorDiffusing_stucki = errorDiffusingFilterFactory_errorDiffusingFilter("Stucki", errorDiffusing_stuckiKernel, errorDiffusingFilterFactory_defaults); // *   8   4             The Burkes filter\n// 2   4   8   4   2   (1/32)\n\nconst errorDiffusing_burkesKernel = {\n  offset: [-2, 0],\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, null, null, 8, 4], [2, 4, 8, 4, 2]], 1 / 32)\n};\nconst errorDiffusing_burkes = errorDiffusingFilterFactory_errorDiffusingFilter("Burkes", errorDiffusing_burkesKernel, errorDiffusingFilterFactory_defaults); // Weird kernels\n//   X\n//   1\n//   X\n//   1\n//   (1/4)\n\nconst errorDiffusing_horizontalStripeKernel = {\n  offset: [0, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null], [1], [null], [1]], 1 / 4)\n};\nconst errorDiffusing_horizontalStripe = errorDiffusingFilterFactory_errorDiffusingFilter("Stripe (Horizontal)", errorDiffusing_horizontalStripeKernel, errorDiffusingFilterFactory_defaults);\nconst errorDiffusing_verticalStripeKernel = {\n  offset: [0, 0],\n  // x, y\n  kernel: Object(utils["q" /* scaleMatrix */])([[null, 1, null, 1]], 1 / 4)\n};\nconst errorDiffusing_verticalStripe = errorDiffusingFilterFactory_errorDiffusingFilter("Stripe (Vertical)", errorDiffusing_verticalStripeKernel, errorDiffusingFilterFactory_defaults);\n// CONCATENATED MODULE: ./filters/index.js\nfunction filters_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { filters_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction filters_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst filters_filterIndex = [filters_binarize, filters_channelSeparation, program["a" /* default */], filters_brightnessContrast, filters_convolve, filters_grayscale, pixelsort, filters_glitchblob, filters_halftone, filters_invert, jitter, filters_ordered, filters_quantize, filters_scanline, rgbstripe, errorDiffusing_atkinson, errorDiffusing_burkes, errorDiffusing_floydSteinberg, errorDiffusing_falseFloydSteinberg, errorDiffusing_sierra, errorDiffusing_sierra2, errorDiffusing_sierraLite, errorDiffusing_stucki, errorDiffusing_jarvis, errorDiffusing_horizontalStripe, errorDiffusing_verticalStripe, filters_vhs].reduce((acc, cur) => {\n  acc[cur.name] = cur;\n  return acc;\n}, {}); // Presets\n\nconst filters_filterList = [{\n  displayName: "Program",\n  filter: filters_objectSpread({}, program["a" /* default */], {\n    options: filters_objectSpread({}, program["a" /* default */].options, {\n      palette: filters_objectSpread({}, program["a" /* default */].options.palette, {\n        options: filters_objectSpread({}, program["a" /* default */].options.palette.options, {\n          levels: 256\n        })\n      })\n    })\n  })\n}, {\n  displayName: "Convolve",\n  filter: filters_convolve\n}, {\n  displayName: "Convolve (edge detection)",\n  filter: filters_objectSpread({}, filters_convolve, {\n    options: filters_objectSpread({}, filters_convolve.options, {\n      kernel: convolve_LAPLACIAN_3X3\n    })\n  })\n}, {\n  displayName: "Invert",\n  filter: filters_invert\n}, {\n  displayName: "Brightness/Contrast",\n  filter: filters_objectSpread({}, filters_brightnessContrast, {\n    options: filters_objectSpread({}, filters_brightnessContrast.options, {\n      palette: filters_objectSpread({}, filters_brightnessContrast.options.palette, {\n        options: filters_objectSpread({}, filters_brightnessContrast.options.palette.options, {\n          levels: 256\n        })\n      })\n    })\n  })\n}, {\n  displayName: "Scanline",\n  filter: filters_objectSpread({}, filters_scanline, {\n    options: filters_objectSpread({}, filters_scanline.options, {\n      palette: filters_objectSpread({}, filters_scanline.options.palette, {\n        options: filters_objectSpread({}, filters_scanline.options.palette.options, {\n          levels: 256\n        })\n      })\n    })\n  })\n}, {\n  displayName: "CRT emulation",\n  filter: filters_objectSpread({}, rgbstripe, {\n    options: filters_objectSpread({}, rgbstripe.options, {\n      palette: filters_objectSpread({}, rgbstripe.options.palette, {\n        options: filters_objectSpread({}, rgbstripe.options.palette.options, {\n          levels: 32\n        })\n      })\n    })\n  })\n}, {\n  displayName: "Glitch",\n  filter: filters_glitchblob\n}, {\n  displayName: "Pixelsort",\n  filter: filters_objectSpread({}, pixelsort, {\n    options: filters_objectSpread({}, pixelsort.options, {\n      palette: filters_objectSpread({}, pixelsort.options.palette, {\n        options: filters_objectSpread({}, pixelsort.options.palette.options, {\n          levels: 256\n        })\n      })\n    })\n  })\n}, {\n  displayName: "Pixelate",\n  filter: filters_pixelate\n}, {\n  displayName: "Channel separation",\n  filter: filters_channelSeparation\n}, {\n  displayName: "Jitter",\n  filter: jitter\n}, {\n  displayName: "VHS emulation",\n  filter: filters_vhs\n}, {\n  displayName: "Grayscale",\n  filter: filters_grayscale\n}, {\n  displayName: "Random",\n  filter: filters_random\n}, {\n  displayName: "Halftone",\n  filter: filters_halftone\n}, {\n  displayName: "Binarize",\n  filter: filters_binarize\n}, {\n  displayName: "Quantize (No dithering)",\n  filter: filters_quantize\n}, {\n  displayName: "Ordered",\n  filter: filters_ordered\n}, {\n  displayName: "Ordered (Windows 16-color)",\n  filter: filters_objectSpread({}, filters_ordered, {\n    options: filters_objectSpread({}, filters_ordered.options, {\n      thresholdMap: ordered_BAYER_4X4,\n      palette: filters_objectSpread({}, palettes["c" /* user */], {\n        options: {\n          colors: user["a" /* THEMES */].CGA\n        }\n      })\n    })\n  })\n}, {\n  displayName: "Ordered (Gameboy)",\n  filter: filters_objectSpread({}, filters_ordered, {\n    options: filters_objectSpread({}, filters_ordered.options, {\n      palette: filters_objectSpread({}, palettes["c" /* user */], {\n        options: {\n          colors: user["a" /* THEMES */].GAMEBOY\n        }\n      })\n    })\n  })\n}, {\n  displayName: "Floyd-Steinberg",\n  filter: errorDiffusing_floydSteinberg\n}, {\n  displayName: "Floyd-Steinberg (CGA test)",\n  filter: filters_objectSpread({}, errorDiffusing_floydSteinberg, {\n    options: {\n      palette: filters_objectSpread({}, palettes["c" /* user */], {\n        options: {\n          colors: user["a" /* THEMES */].CGA\n        }\n      })\n    }\n  })\n}, {\n  displayName: "Floyd-Steinberg (Vaporwave test)",\n  filter: filters_objectSpread({}, errorDiffusing_floydSteinberg, {\n    options: {\n      palette: filters_objectSpread({}, palettes["c" /* user */], {\n        options: {\n          colors: user["a" /* THEMES */].VAPORWAVE\n        }\n      })\n    }\n  })\n}, {\n  displayName: "False Floyd-Steinberg",\n  filter: errorDiffusing_falseFloydSteinberg\n}, {\n  displayName: "Jarvis",\n  filter: errorDiffusing_jarvis\n}, {\n  displayName: "Stucki",\n  filter: errorDiffusing_stucki\n}, {\n  displayName: "Burkes",\n  filter: errorDiffusing_burkes\n}, {\n  displayName: "Atkinson (Mac)",\n  filter: errorDiffusing_atkinson\n}, {\n  displayName: "Atkinson (Macintosh II color test)",\n  filter: filters_objectSpread({}, errorDiffusing_atkinson, {\n    options: {\n      palette: filters_objectSpread({}, palettes["c" /* user */], {\n        options: {\n          colors: user["a" /* THEMES */].MAC2\n        }\n      })\n    }\n  })\n}, {\n  displayName: "Sierra (full)",\n  filter: errorDiffusing_sierra\n}, {\n  displayName: "Sierra (two-row)",\n  filter: errorDiffusing_sierra2\n}, {\n  displayName: "Sierra (lite)",\n  filter: errorDiffusing_sierraLite\n}, {\n  displayName: "Stripe (horizontal)",\n  filter: errorDiffusing_horizontalStripe\n}, {\n  displayName: "Stripe (vertical)",\n  filter: errorDiffusing_verticalStripe\n}];\n// CONCATENATED MODULE: ./containers/App.js\n\n\n\n\n\nconst App_mapStateToProps = state => ({\n  inputImage: state.filters.inputImage,\n  outputImage: state.filters.outputImage,\n  availableFilters: filters_filterList,\n  selectedFilter: state.filters.selected,\n  convertGrayscale: state.filters.convertGrayscale,\n  scale: state.filters.scale,\n  outputScale: state.filters.outputScale,\n  scalingAlgorithm: state.filters.scalingAlgorithm,\n  time: state.filters.time,\n  inputVideo: state.filters.video,\n  inputVideoVolume: state.filters.videoVolume,\n  inputVideoPlaybackRate: state.filters.videoPlaybackRate,\n  realtimeFiltering: state.filters.realtimeFiltering\n});\n\nconst App_mapDispatchToProps = dispatch => ({\n  onLoadImage: (e, volume = 1, playbackRate = 1) => // $FlowFixMe\n  dispatch(actions_loadMediaAsync(e.target.files[0], volume, playbackRate)),\n  onFilterImage: (input, filter, convertGrayscale = false) => {\n    const filterFunc = convertGrayscale ? (i, o) => filter.func(filters_grayscale.func(i), o) : filter.func; // $FlowFixMe\n\n    dispatch(actions_filterImageAsync(input, filterFunc, filter.options));\n  },\n  onSelectFilter: (name, filter) => dispatch(actions_selectFilter(name, filter)),\n  onConvertGrayscale: val => dispatch(actions_setConvertGrayscale(val)),\n  onSetInput: image => dispatch(actions_loadImage(image)),\n  onSetScale: scale => dispatch(actions_setScale(scale)),\n  onSetOutputScale: scale => dispatch(actions_setOutputScale(scale)),\n  onSetRealTimeFiltering: enabled => dispatch(actions_setRealtimeFiltering(enabled)),\n  onSetInputCanvas: canvas => dispatch(actions_setInputCanvas(canvas)),\n  onSetInputVolume: volume => dispatch(actions_setInputVolume(volume)),\n  onSetInputPlaybackRate: rate => dispatch(actions_setInputPlaybackRate(rate)),\n  onImportState: json => dispatch(actions_importState(json)),\n  onSetScalingAlgorithm: (name, algorithm) => dispatch(actions_setScalingAlgorithm(algorithm))\n});\n\nconst App_ContainedApp = Object(react_redux_es["b" /* connect */])(App_mapStateToProps, App_mapDispatchToProps)(App_App);\n/* harmony default export */ var containers_App = (App_ContainedApp);\n// CONCATENATED MODULE: ./reducers/filters.js\nfunction reducers_filters_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { reducers_filters_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction reducers_filters_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nconst filters_initialState = {\n  selected: {\n    displayName: "Floyd-Steinberg",\n    filter: errorDiffusing_floydSteinberg\n  },\n  convertGrayscale: false,\n  scale: 1,\n  outputScale: 1,\n  inputCanvas: null,\n  inputImage: null,\n  outputImage: null,\n  realtimeFiltering: false,\n  time: null,\n  video: null,\n  videoVolume: 1,\n  videoPlaybackRate: 1,\n  scalingAlgorithm: constants_optionTypes["b" /* SCALING_ALGORITHM */].PIXELATED\n};\n/* harmony default export */ var reducers_filters = ((state = filters_initialState, action) => {\n  switch (action.type) {\n    case LOAD_STATE:\n      const localFilter = filters_filterIndex[action.data.selected.filter.name];\n\n      const deserializedFilter = reducers_filters_objectSpread({}, localFilter, {\n        options: action.data.selected.filter.options\n      });\n\n      if (deserializedFilter.options.palette != null) {\n        const localPalette = palettes["b" /* paletteList */].find(p => p.palette.name === deserializedFilter.options.palette.name);\n\n        if (localPalette) {\n          deserializedFilter.options.palette = reducers_filters_objectSpread({}, localPalette.palette, {\n            options: deserializedFilter.options.palette.options\n          });\n        }\n      }\n\n      return reducers_filters_objectSpread({}, state, {\n        selected: reducers_filters_objectSpread({}, action.data.selected, {\n          filter: deserializedFilter\n        }),\n        convertGrayscale: action.data.convertGrayscale\n      });\n\n    case SET_SCALING_ALGORITHM:\n      {\n        if (state.inputCanvas) {\n          const context = state.inputCanvas.getContext("2d");\n\n          if (context && state.inputImage) {\n            const smoothingEnabled = action.algorithm === constants_optionTypes["b" /* SCALING_ALGORITHM */].AUTO;\n            context.imageSmoothingEnabled = smoothingEnabled;\n            context.drawImage(state.inputImage, 0, 0, state.inputImage.width * (state.scale || 1), state.inputImage.height * (state.scale || 1));\n          }\n        }\n\n        return reducers_filters_objectSpread({}, state, {\n          scalingAlgorithm: action.algorithm\n        });\n      }\n\n    case SET_INPUT_CANVAS:\n      return reducers_filters_objectSpread({}, state, {\n        inputCanvas: action.canvas\n      });\n\n    case SET_INPUT_VOLUME:\n      if (state.video) {\n        state.video.volume = action.volume; // eslint-disable-line\n      }\n\n      return reducers_filters_objectSpread({}, state, {\n        videoVolume: action.volume\n      });\n\n    case SET_INPUT_PLAYBACK_RATE:\n      if (state.video) {\n        state.video.playbackRate = action.rate; // eslint-disable-line\n      }\n\n      return reducers_filters_objectSpread({}, state, {\n        videoPlaybackRate: action.rate\n      });\n\n    case LOAD_IMAGE:\n      // eslint-disable-line\n      // Image or new video\n      if (state.video != null && (!action.video || action.video !== state.video)) {\n        state.video.pause(); // $FlowFixMe\n\n        state.video.src = ""; // eslint-disable-line\n      }\n\n      const newState = reducers_filters_objectSpread({}, state, {\n        inputImage: action.image,\n        time: action.time || 0,\n        video: action.video || null,\n        realtimeFiltering: action.video && state.realtimeFiltering\n      });\n\n      if (state.realtimeFiltering && state.inputCanvas) {\n        const output = state.convertGrayscale ? state.selected.filter.func(filters_grayscale.func(state.inputCanvas), state.selected.filter.options, action.dispatch) : state.selected.filter.func(state.inputCanvas, state.selected.filter.options, action.dispatch);\n\n        if (output instanceof HTMLCanvasElement) {\n          newState.outputImage = output;\n        }\n      }\n\n      return newState;\n\n    case SET_GRAYSCALE:\n      return reducers_filters_objectSpread({}, state, {\n        convertGrayscale: action.value\n      });\n\n    case SET_REAL_TIME_FILTERING:\n      return reducers_filters_objectSpread({}, state, {\n        realtimeFiltering: action.enabled\n      });\n\n    case SET_SCALE:\n      return reducers_filters_objectSpread({}, state, {\n        scale: action.scale\n      });\n\n    case SET_OUTPUT_SCALE:\n      return reducers_filters_objectSpread({}, state, {\n        outputScale: action.scale\n      });\n\n    case SELECT_FILTER:\n      return reducers_filters_objectSpread({}, state, {\n        selected: {\n          name: action.name,\n          filter: action.filter.filter\n        }\n      });\n\n    case SET_FILTER_OPTION:\n      return reducers_filters_objectSpread({}, state, {\n        selected: reducers_filters_objectSpread({}, state.selected, {\n          filter: reducers_filters_objectSpread({}, state.selected.filter, {\n            options: reducers_filters_objectSpread({}, state.selected.filter.options, {\n              [action.optionName]: action.value\n            })\n          })\n        })\n      });\n\n    case SET_FILTER_PALETTE_OPTION:\n      if (!state.selected.filter.options || !state.selected.filter.options.palette) {\n        console.warn("Tried to set option on null palette", state); // eslint-disable-line\n\n        return state;\n      }\n\n      return reducers_filters_objectSpread({}, state, {\n        selected: reducers_filters_objectSpread({}, state.selected, {\n          filter: reducers_filters_objectSpread({}, state.selected.filter, {\n            options: reducers_filters_objectSpread({}, state.selected.filter.options, {\n              palette: reducers_filters_objectSpread({}, state.selected.filter.options.palette, {\n                options: reducers_filters_objectSpread({}, state.selected.filter.options.palette.options, {\n                  [action.optionName]: action.value\n                })\n              })\n            })\n          })\n        })\n      });\n\n    case ADD_PALETTE_COLOR:\n      if (!state.selected.filter.options || !state.selected.filter.options.palette) {\n        console.warn("Tried to add color to null palette", state); // eslint-disable-line\n\n        return state;\n      }\n\n      return reducers_filters_objectSpread({}, state, {\n        selected: reducers_filters_objectSpread({}, state.selected, {\n          filter: reducers_filters_objectSpread({}, state.selected.filter, {\n            options: reducers_filters_objectSpread({}, state.selected.filter.options, {\n              palette: reducers_filters_objectSpread({}, state.selected.filter.options.palette, {\n                options: reducers_filters_objectSpread({}, state.selected.filter.options.palette.options, {\n                  colors: [...state.selected.filter.options.palette.options.colors, action.color]\n                })\n              })\n            })\n          })\n        })\n      });\n\n    case FILTER_IMAGE:\n      return reducers_filters_objectSpread({}, state, {\n        outputImage: action.image\n      });\n\n    default:\n      return state;\n  }\n});\n// CONCATENATED MODULE: ./reducers/index.js\n\n/* harmony default export */ var reducers = ({\n  filters: reducers_filters\n});\n// EXTERNAL MODULE: ./styles/style.scss\nvar style = __webpack_require__(49);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// CONCATENATED MODULE: ./index.jsx\nfunction index_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { index_defineProperty(target, key, source[key]); }); } return target; }\n\nfunction index_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable no-underscore-dangle */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Redux devtools are still enabled in production!\n\nconst index_composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n  actionsBlacklist: []\n}) : es["d" /* compose */];\nconst index_appReducer = Object(es["c" /* combineReducers */])(index_objectSpread({}, reducers, {\n  router: react_router_redux_es["c" /* routerReducer */]\n}));\nconst index_history = createBrowserHistory_default()();\nconst index_middleware = [lib_default.a, Object(react_router_redux_es["b" /* routerMiddleware */])(index_history)];\nconst index_store = Object(es["e" /* createStore */])(index_appReducer, index_composeEnhancers(Object(es["a" /* applyMiddleware */])(...index_middleware))); // Load localStorage\n\nObject.values(localStorage).forEach(json => {\n  try {\n    if (typeof json !== "string") return;\n    const option = JSON.parse(json);\n    if (!option || !option.type) return;\n\n    if (option.type === constants_optionTypes["a" /* PALETTE */]) {\n      user["a" /* THEMES */][option.name] = option.colors;\n    }\n  } catch (e) {// console.log("Not an option", json); // eslint-disable-line\n  }\n}); // Check for params\n\nif (window.URLSearchParams && window.location.search) {\n  const params = new URLSearchParams(window.location.search); // Algorithm\n\n  const alg = params.get("alg");\n  const filters = filters_filterList;\n  const selectedFilterOption = filters.find(f => f && f.displayName && f.displayName === alg);\n  const selectedFilter = selectedFilterOption;\n\n  if (alg && selectedFilter != null) {\n    // $FlowFixMe\n    index_store.dispatch(actions_selectFilter(alg, selectedFilterOption));\n  }\n\n  const state = params.get("state");\n\n  try {\n    const decoded = window.atob(state);\n\n    if (state && decoded) {\n      index_store.dispatch(actions_importState(decoded));\n    }\n  } catch (e) {\n    console.warn("Invalid state:", e); // eslint-disable-line\n  }\n}\n\nconst index_root = document.getElementById("root");\n\nif (index_root != null) {\n  react_dom_default.a.render(react_default.a.createElement(react_redux_es["a" /* Provider */], {\n    store: index_store\n  }, react_default.a.createElement(react_router_redux_es["a" /* ConnectedRouter */], {\n    history: index_history\n  }, react_default.a.createElement("div", {\n    style: {\n      height: "100%"\n    }\n  }, react_default.a.createElement(react_router_dom_es["a" /* Route */], {\n    path: "/",\n    component: containers_App,\n    className: style_default.a.app\n  })))), index_root);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25zdGFudHMvYWN0aW9uVHlwZXMuanM/MzQzNyIsIndlYnBhY2s6Ly8vLi9hY3Rpb25zL2luZGV4LmpzP2YzMGEiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jb250cm9scy9FbnVtLmpzeD80ZmU2Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY29udHJvbHMvUGFsZXR0ZS5qc3g/MDFjZSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NvbnRyb2xzL0Jvb2wuanN4P2YxYzgiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jb250cm9scy9SYW5nZS5qc3g/YmYzZSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NvbnRyb2xzL1N0cmluZ2x5LmpzeD9iNzA4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY29udHJvbHMvVGV4dGx5LmpzeD9hNzQ0Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY29udHJvbHMvQ29sb3JBcnJheS5qc3g/Y2I2NSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NvbnRyb2xzL2luZGV4LmpzeD81ZTY3Iiwid2VicGFjazovLy8uL2NvbnRhaW5lcnMvQ29udHJvbHMuanM/MTNiYSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0FwcC9FeHBvcnRlci5qc3g/MzUyYiIsIndlYnBhY2s6Ly8vLi9jb250YWluZXJzL0V4cG9ydGVyLmpzPzNlYzYiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BcHAvaW5kZXguanN4P2I4OTAiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9iaW5hcml6ZS5qcz9kZGRjIiwid2VicGFjazovLy8uL2ZpbHRlcnMvY2hhbm5lbFNlcGFyYXRpb24uanM/N2Y3NiIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2ppdHRlci5qcz8wOTgzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvY29udm9sdmUuanM/MmIyZCIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2JyaWdodG5lc3NDb250cmFzdC5qcz82MDZjIiwid2VicGFjazovLy8uL2ZpbHRlcnMvdmhzLmpzPzhlMjkiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9ncmF5c2NhbGUuanM/NDFmZSIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3BpeGVsYXRlLmpzPzA5NmQiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9waXhlbHNvcnQuanM/NDI3NyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2dsaXRjaGJsb2IuanM/MWYxOSIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2hhbGZ0b25lLmpzPzIwMTIiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9pbnZlcnQuanM/ZTUwMSIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL29yZGVyZWQuanM/MzBkOCIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3F1YW50aXplLmpzPzM0ZjAiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9yYW5kb20uanM/OGUwNiIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3NjYW5saW5lLmpzP2ZmMDciLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9yZ2JzdHJpcGUuanM/YTQ4MiIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2Vycm9yRGlmZnVzaW5nRmlsdGVyRmFjdG9yeS5qcz8xM2U4Iiwid2VicGFjazovLy8uL2ZpbHRlcnMvZXJyb3JEaWZmdXNpbmcuanM/NzdlNCIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2luZGV4LmpzPzk3NTEiLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVycy9BcHAuanM/NzE5ZCIsIndlYnBhY2s6Ly8vLi9yZWR1Y2Vycy9maWx0ZXJzLmpzP2ZlZjEiLCJ3ZWJwYWNrOi8vLy4vcmVkdWNlcnMvaW5kZXguanM/NDAwOCIsIndlYnBhY2s6Ly8vLi9pbmRleC5qc3g/YjQ2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTE9BRF9JTUFHRSA9IFwiTE9BRF9JTUFHRVwiO1xuZXhwb3J0IGNvbnN0IExPQURfU1RBVEUgPSBcIkxPQURfU1RBVEVcIjtcbmV4cG9ydCBjb25zdCBGSUxURVJfSU1BR0UgPSBcIkZJTFRFUl9JTUFHRVwiO1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9GSUxURVIgPSBcIlNFTEVDVF9GSUxURVJcIjtcbmV4cG9ydCBjb25zdCBTRVRfRklMVEVSX09QVElPTiA9IFwiU0VUX0ZJTFRFUl9PUFRJT05cIjtcbmV4cG9ydCBjb25zdCBTRVRfRklMVEVSX1BBTEVUVEVfT1BUSU9OID0gXCJTRVRfRklMVEVSX1BBTEVUVEVfT1BUSU9OXCI7XG5leHBvcnQgY29uc3QgQUREX1BBTEVUVEVfQ09MT1IgPSBcIkFERF9QQUxFVFRFX0NPTE9SXCI7XG5leHBvcnQgY29uc3QgU0FWRV9DVVJSRU5UX0NPTE9SX1BBTEVUVEUgPSBcIlNBVkVfQ1VSUkVOVF9DT0xPUl9QQUxFVFRFXCI7XG5leHBvcnQgY29uc3QgREVMRVRFX0NVUlJFTlRfQ09MT1JfUEFMRVRURSA9IFwiREVMRVRFX0NVUlJFTlRfQ09MT1JfUEFMRVRURVwiO1xuZXhwb3J0IGNvbnN0IFNFVF9HUkFZU0NBTEUgPSBcIlNFVF9HUkFZU0NBTEVcIjtcbmV4cG9ydCBjb25zdCBTRVRfU0NBTEUgPSBcIlNFVF9TQ0FMRVwiO1xuZXhwb3J0IGNvbnN0IFNFVF9PVVRQVVRfU0NBTEUgPSBcIlNFVF9PVVRQVVRfU0NBTEVcIjtcbmV4cG9ydCBjb25zdCBTRVRfUkVBTF9USU1FX0ZJTFRFUklORyA9IFwiU0VUX1JFQUxfVElNRV9GSUxURVJJTkdcIjtcbmV4cG9ydCBjb25zdCBTRVRfSU5QVVRfQ0FOVkFTID0gXCJTRVRfSU5QVVRfQ0FOVkFTXCI7XG5leHBvcnQgY29uc3QgU0VUX0lOUFVUX1ZPTFVNRSA9IFwiU0VUX0lOUFVUX1ZPTFVNRVwiO1xuZXhwb3J0IGNvbnN0IFNFVF9JTlBVVF9QTEFZQkFDS19SQVRFID0gXCJTRVRfSU5QVVRfUExBWUJBQ0tfUkFURVwiO1xuZXhwb3J0IGNvbnN0IFNFVF9TQ0FMSU5HX0FMR09SSVRITSA9IFwiU0VUX1NDQUxJTkdfQUxHT1JJVEhNXCI7XG5leHBvcnQgY29uc3QgRVJST1IgPSBcIkVSUk9SXCI7XG5leHBvcnQgY29uc3QgQVNZTkNfRklMVEVSID0gXCJBU1lOQ19GSUxURVJcIjsiLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0ICovXG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tIFwiY29uc3RhbnRzL2FjdGlvblR5cGVzXCI7XG5pbXBvcnQgKiBhcyBvcHRpb25UeXBlcyBmcm9tIFwiY29uc3RhbnRzL29wdGlvblR5cGVzXCI7XG5pbXBvcnQgeyBwYWxldHRlTGlzdCB9IGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgVEhFTUVTIH0gZnJvbSBcInBhbGV0dGVzL3VzZXJcIjtcbmV4cG9ydCBjb25zdCBpbXBvcnRTdGF0ZSA9IGpzb24gPT4ge1xuICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBKU09OLnBhcnNlKGpzb24pO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGVzLkxPQURfU1RBVEUsXG4gICAgZGF0YTogZGVzZXJpYWxpemVkXG4gIH07XG59O1xuZXhwb3J0IGNvbnN0IHNldElucHV0Vm9sdW1lID0gdm9sdW1lID0+ICh7XG4gIHR5cGU6IHR5cGVzLlNFVF9JTlBVVF9WT0xVTUUsXG4gIHZvbHVtZVxufSk7XG5leHBvcnQgY29uc3Qgc2V0SW5wdXRQbGF5YmFja1JhdGUgPSByYXRlID0+ICh7XG4gIHR5cGU6IHR5cGVzLlNFVF9JTlBVVF9QTEFZQkFDS19SQVRFLFxuICByYXRlXG59KTtcbmV4cG9ydCBjb25zdCBzZXRJbnB1dENhbnZhcyA9IGNhbnZhcyA9PiAoe1xuICB0eXBlOiB0eXBlcy5TRVRfSU5QVVRfQ0FOVkFTLFxuICBjYW52YXNcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFNjYWxpbmdBbGdvcml0aG0gPSBhbGdvcml0aG0gPT4gKHtcbiAgdHlwZTogdHlwZXMuU0VUX1NDQUxJTkdfQUxHT1JJVEhNLFxuICBhbGdvcml0aG1cbn0pO1xuZXhwb3J0IGNvbnN0IGxvYWRJbWFnZSA9IChpbWFnZSwgdGltZSA9IDAsIHZpZGVvLCBkaXNwYXRjaCkgPT4gKHtcbiAgdHlwZTogdHlwZXMuTE9BRF9JTUFHRSxcbiAgaW1hZ2UsXG4gIHRpbWUsXG4gIHZpZGVvLFxuICBkaXNwYXRjaFxufSk7XG5leHBvcnQgY29uc3QgbG9hZEltYWdlQXN5bmMgPSBmaWxlID0+IGRpc3BhdGNoID0+IHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICByZWFkZXIub25sb2FkID0gZXZlbnQgPT4ge1xuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGRpc3BhdGNoKGxvYWRJbWFnZShpbWFnZSwgbnVsbCwgbnVsbCwgZGlzcGF0Y2gpKTtcbiAgICB9O1xuXG4gICAgaW1hZ2Uuc3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgfTtcblxuICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZFZpZGVvQXN5bmMgPSAoZmlsZSwgdm9sdW1lID0gMSwgcGxheWJhY2tSYXRlID0gMSkgPT4gZGlzcGF0Y2ggPT4ge1xuICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcblxuICByZWFkZXIub25sb2FkID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IGkgPSBuZXcgSW1hZ2UoKTtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBjb25zdCBsb2FkRnJhbWUgPSAoKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGkuc3JjKTtcblxuICAgICAgaWYgKCF2aWRlby5wYXVzZWQgJiYgdmlkZW8uc3JjICE9PSBcIlwiKSB7XG4gICAgICAgIGkud2lkdGggPSB2aWRlby52aWRlb1dpZHRoO1xuICAgICAgICBpLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xuICAgICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwKTtcbiAgICAgICAgY2FudmFzLnRvQmxvYihibG9iID0+IHtcbiAgICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgICAgaS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAgICAgICBpLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCF2aWRlby5wYXVzZWQgJiYgdmlkZW8uc3JjICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvYWRGcmFtZSk7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gobG9hZEltYWdlKGksIHZpZGVvLmN1cnJlbnRUaW1lLCB2aWRlbywgZGlzcGF0Y2gpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgZmlyc3RQbGF5ID0gdHJ1ZTtcblxuICAgIHZpZGVvLm9ucGxheWluZyA9ICgpID0+IHtcbiAgICAgIGlmIChmaXJzdFBsYXkpIHtcbiAgICAgICAgZmlyc3RQbGF5ID0gZmFsc2U7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvYWRGcmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZXZlbnQudGFyZ2V0LnJlc3VsdF0pO1xuICAgIHZpZGVvLnZvbHVtZSA9IHZvbHVtZTtcbiAgICB2aWRlby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHZpZGVvLnBsYXliYWNrUmF0ZSA9IHBsYXliYWNrUmF0ZTtcbiAgICB2aWRlby5sb29wID0gdHJ1ZTtcbiAgICB2aWRlby5hdXRvcGxheSA9IHRydWU7XG4gICAgdmlkZW8ucGxheSgpO1xuICB9O1xuXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZE1lZGlhQXN5bmMgPSAoZmlsZSwgdm9sdW1lID0gMSwgcGxheWJhY2tSYXRlID0gMSkgPT4ge1xuICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJ2aWRlby9cIikpIHtcbiAgICByZXR1cm4gbG9hZFZpZGVvQXN5bmMoZmlsZSwgdm9sdW1lLCBwbGF5YmFja1JhdGUpO1xuICB9XG5cbiAgcmV0dXJuIGxvYWRJbWFnZUFzeW5jKGZpbGUpO1xufTtcbmV4cG9ydCBjb25zdCBzZXRDb252ZXJ0R3JheXNjYWxlID0gdmFsdWUgPT4gKHtcbiAgdHlwZTogdHlwZXMuU0VUX0dSQVlTQ0FMRSxcbiAgdmFsdWVcbn0pO1xuZXhwb3J0IGNvbnN0IHNlbGVjdEZpbHRlciA9IChuYW1lLCBmaWx0ZXIpID0+ICh7XG4gIHR5cGU6IHR5cGVzLlNFTEVDVF9GSUxURVIsXG4gIG5hbWUsXG4gIGZpbHRlclxufSk7XG5leHBvcnQgY29uc3QgZmlsdGVySW1hZ2UgPSBpbWFnZSA9PiAoe1xuICB0eXBlOiB0eXBlcy5GSUxURVJfSU1BR0UsXG4gIGltYWdlXG59KTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJJbWFnZUFzeW5jID0gKGlucHV0LCBmaWx0ZXIsIG9wdGlvbnMpID0+IGRpc3BhdGNoID0+IHtcbiAgY29uc3Qgb3V0cHV0ID0gZmlsdGVyKGlucHV0LCBvcHRpb25zLCBkaXNwYXRjaCk7XG4gIGlmICghb3V0cHV0KSByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGVzLkVSUk9SLFxuICAgIG1lc3NhZ2U6IFwiRXJyb3IgZmlsdGVyaW5nXCJcbiAgfTtcblxuICBpZiAob3V0cHV0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICBjb25zdCBvdXRwdXRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIG91dHB1dEltYWdlLnNyYyA9IG91dHB1dC50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG5cbiAgICBvdXRwdXRJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBkaXNwYXRjaChmaWx0ZXJJbWFnZShvdXRwdXRJbWFnZSkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnQgY29uc3QgYWRkUGFsZXR0ZUNvbG9yID0gY29sb3IgPT4gKHtcbiAgdHlwZTogdHlwZXMuQUREX1BBTEVUVEVfQ09MT1IsXG4gIGNvbG9yXG59KTsgLy8gRklYTUU6IFdoeSBpcyBpdCBmaW5kaW5nIGJ5IG5hbWUgaGVyZT8gRmlzaHksIHBvdGVudGlhbCBwcm9ibGVtIHdoZW4gdmFsdWUgaXMgYSB2YWxpZCBwYWxldHRlIG5hbWVcblxuZXhwb3J0IGNvbnN0IHNldEZpbHRlck9wdGlvbiA9IChvcHRpb25OYW1lLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBwYWxldHRlT2JqZWN0ID0gcGFsZXR0ZUxpc3QuZmluZChwID0+IHAubmFtZSA9PT0gdmFsdWUpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGVzLlNFVF9GSUxURVJfT1BUSU9OLFxuICAgIG9wdGlvbk5hbWUsXG4gICAgdmFsdWU6IHBhbGV0dGVPYmplY3QgPyBwYWxldHRlT2JqZWN0LnBhbGV0dGUgOiB2YWx1ZVxuICB9O1xufTtcbmV4cG9ydCBjb25zdCBzZXRGaWx0ZXJQYWxldHRlT3B0aW9uID0gKG9wdGlvbk5hbWUsIHZhbHVlKSA9PiAoe1xuICB0eXBlOiB0eXBlcy5TRVRfRklMVEVSX1BBTEVUVEVfT1BUSU9OLFxuICBvcHRpb25OYW1lLFxuICB2YWx1ZVxufSk7XG5leHBvcnQgY29uc3Qgc2V0U2NhbGUgPSBzY2FsZSA9PiAoe1xuICB0eXBlOiB0eXBlcy5TRVRfU0NBTEUsXG4gIHNjYWxlXG59KTtcbmV4cG9ydCBjb25zdCBzZXRPdXRwdXRTY2FsZSA9IHNjYWxlID0+ICh7XG4gIHR5cGU6IHR5cGVzLlNFVF9PVVRQVVRfU0NBTEUsXG4gIHNjYWxlXG59KTtcbmV4cG9ydCBjb25zdCBzZXRSZWFsdGltZUZpbHRlcmluZyA9IGVuYWJsZWQgPT4gKHtcbiAgdHlwZTogdHlwZXMuU0VUX1JFQUxfVElNRV9GSUxURVJJTkcsXG4gIGVuYWJsZWRcbn0pO1xuZXhwb3J0IGNvbnN0IHNhdmVDdXJyZW50Q29sb3JQYWxldHRlID0gKG5hbWUsIGNvbG9ycykgPT4ge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYF9wYWxldHRlXyR7bmFtZS5yZXBsYWNlKFwiIFwiLCBcIlwiKX1gLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgdHlwZTogb3B0aW9uVHlwZXMuUEFMRVRURSxcbiAgICBuYW1lLFxuICAgIGNvbG9yc1xuICB9KSk7XG4gIFRIRU1FU1tuYW1lXSA9IGNvbG9ycztcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlcy5TQVZFX0NVUlJFTlRfQ09MT1JfUEFMRVRURSxcbiAgICBuYW1lXG4gIH07XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUN1cnJlbnRDb2xvclBhbGV0dGUgPSBuYW1lID0+IHtcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBfcGFsZXR0ZV8ke25hbWUucmVwbGFjZShcIiBcIiwgXCJcIil9YCk7XG4gIGRlbGV0ZSBUSEVNRVNbbmFtZV07XG4gIHJldHVybiB7XG4gICAgdHlwZTogdHlwZXMuREVMRVRFX0NVUlJFTlRfQ09MT1JfUEFMRVRURSxcbiAgICBuYW1lXG4gIH07XG59OyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XG5cbmNvbnN0IEVudW0gPSBwcm9wcyA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IHMubGFiZWxcbn0sIHByb3BzLm5hbWUpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHtcbiAgY2xhc3NOYW1lOiBzLmVudW0sXG4gIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgb25DaGFuZ2U6IGUgPT4gcHJvcHMub25TZXRGaWx0ZXJPcHRpb24ocHJvcHMubmFtZSwgZS50YXJnZXQudmFsdWUpXG59LCBwcm9wcy50eXBlcy5vcHRpb25zLm1hcChwID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwge1xuICBrZXk6IHAudmFsdWUsXG4gIG5hbWU6IHAudmFsdWVcbn0sIHAudmFsdWUpKSkpO1xuXG5leHBvcnQgZGVmYXVsdCBFbnVtOyIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzICovXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcImNvbXBvbmVudHMvY29udHJvbHNcIjtcbmltcG9ydCB7IHBhbGV0dGVMaXN0IH0gZnJvbSBcInBhbGV0dGVzXCI7XG5pbXBvcnQgcyBmcm9tIFwiLi9zdHlsZXMuc2Nzc1wiO1xuXG5jb25zdCBQYWxldHRlID0gcHJvcHMgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogcy5ncm91cFxufSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICBjbGFzc05hbWU6IHMubmFtZVxufSwgcHJvcHMubmFtZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xuICBjbGFzc05hbWU6IHMuZW51bSxcbiAgdmFsdWU6IHByb3BzLnZhbHVlLm5hbWUsXG4gIG9uQ2hhbmdlOiBlID0+IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uKHByb3BzLm5hbWUsIGUudGFyZ2V0LnZhbHVlKVxufSwgcGFsZXR0ZUxpc3QubWFwKHAgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gIGtleTogcC5uYW1lLFxuICBuYW1lOiBwLm5hbWVcbn0sIHAubmFtZSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9scywge1xuICBpbnB1dENhbnZhczogcHJvcHMuaW5wdXRDYW52YXMsXG4gIG9wdGlvblR5cGVzOiBwcm9wcy52YWx1ZS5vcHRpb25UeXBlcyxcbiAgb3B0aW9uczogcHJvcHMucGFsZXR0ZU9wdGlvbnMsXG4gIG9uQWRkUGFsZXR0ZUNvbG9yOiBwcm9wcy5vbkFkZFBhbGV0dGVDb2xvcixcbiAgb25TZXRQYWxldHRlT3B0aW9uOiBwcm9wcy5vblNldFBhbGV0dGVPcHRpb24sXG4gIG9uU2V0RmlsdGVyT3B0aW9uOiBwcm9wcy5vblNldFBhbGV0dGVPcHRpb24sXG4gIG9uU2F2ZUNvbG9yUGFsZXR0ZTogcHJvcHMub25TYXZlQ29sb3JQYWxldHRlLFxuICBvbkRlbGV0ZUNvbG9yUGFsZXR0ZTogcHJvcHMub25EZWxldGVDb2xvclBhbGV0dGVcbn0pKTtcblxuZXhwb3J0IGRlZmF1bHQgUGFsZXR0ZTsiLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHMgZnJvbSBcIi4vc3R5bGVzLnNjc3NcIjtcblxuY29uc3QgQm9vbCA9IHByb3BzID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IHMuY2hlY2tib3hcbn0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgY2hlY2tlZDogcHJvcHMudmFsdWUsXG4gIG9uQ2hhbmdlOiBlID0+IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uKHByb3BzLm5hbWUsIGUudGFyZ2V0LmNoZWNrZWQpXG59KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICBjbGFzc05hbWU6IHMubGFiZWwsXG4gIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gIG9uQ2xpY2s6ICgpID0+IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uKHByb3BzLm5hbWUsICFwcm9wcy52YWx1ZSlcbn0sIHByb3BzLm5hbWUpKTtcblxuZXhwb3J0IGRlZmF1bHQgQm9vbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgcyBmcm9tIFwiLi9zdHlsZXMuc2Nzc1wiO1xuXG5jb25zdCBvbk1hbnVhbFZhbHVlID0gcHJvcHMgPT4ge1xuICBjb25zdCBuZXdWYWx1ZSA9IHdpbmRvdy5wcm9tcHQoXCJWYWx1ZVwiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlRmxvYXQobmV3VmFsdWUpO1xuXG4gIGlmIChwYXJzZWQgfHwgcGFyc2VkID09PSAwKSB7XG4gICAgcHJvcHMub25TZXRGaWx0ZXJPcHRpb24ocHJvcHMubmFtZSwgcGFyc2VkKTtcbiAgfVxufTtcblxuY29uc3QgUmFuZ2UgPSBwcm9wcyA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBzLnJhbmdlXG59LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBzLmxhYmVsXG59LCBwcm9wcy5uYW1lKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogcy5yYW5nZUdyb3VwXG59LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICB0eXBlOiBcInJhbmdlXCIsXG4gIG1pbjogcHJvcHMudHlwZXMucmFuZ2VbMF0sXG4gIG1heDogcHJvcHMudHlwZXMucmFuZ2VbMV0sXG4gIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgc3RlcDogcHJvcHMuc3RlcCB8fCAxLFxuICBvbkNoYW5nZTogZSA9PiBwcm9wcy5vblNldEZpbHRlck9wdGlvbihwcm9wcy5uYW1lLCBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSlcbn0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gIHJvbGU6IFwiYnV0dG9uXCIsXG4gIHRhYkluZGV4OiBcIjBcIixcbiAgY2xhc3NOYW1lOiBbcy52YWx1ZSwgcy5jbGlja2FibGVdLmpvaW4oXCIgXCIpLFxuICBvbkNsaWNrOiAoKSA9PiBvbk1hbnVhbFZhbHVlKHByb3BzKSxcbiAgb25LZXlQcmVzczogZSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIG9uTWFudWFsVmFsdWUocHJvcHMpO1xuICAgIH1cbiAgfVxufSwgcHJvcHMudmFsdWUpKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XG5cbmNvbnN0IFN0cmluZ2x5ID0gcHJvcHMgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBzLmxhYmVsXG59LCBwcm9wcy5uYW1lKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgdHlwZTogXCJ0ZXh0XCIsXG4gIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgb25DaGFuZ2U6IGUgPT4gcHJvcHMub25TZXRGaWx0ZXJPcHRpb24ocHJvcHMubmFtZSwgZS50YXJnZXQudmFsdWUpXG59KSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZ2x5OyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XG5cbmNvbnN0IFRleHRseSA9IHByb3BzID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogcy5sYWJlbFxufSwgcHJvcHMubmFtZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7XG4gIHR5cGU6IFwidGV4dFwiLFxuICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gIHdyYXA6IFwib2ZmXCIsXG4gIHNwZWxsQ2hlY2s6IFwiZmFsc2VcIixcbiAgb25DaGFuZ2U6IGUgPT4gcHJvcHMub25TZXRGaWx0ZXJPcHRpb24ocHJvcHMubmFtZSwgZS50YXJnZXQudmFsdWUpXG59KSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRseTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1hbGVydCwgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXMsIHJlYWN0L3Byb3AtdHlwZXMsIGpzeC1hMTF5L2FjY2Vzc2libGUtZW1vamkgKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRIRU1FUyB9IGZyb20gXCJwYWxldHRlcy91c2VyXCI7XG5pbXBvcnQgeyByZ2JhLCB1bmlxdWVDb2xvcnMsIG1lZGlhbkN1dFBhbGV0dGUgfSBmcm9tIFwidXRpbHNcIjtcbmltcG9ydCBFbnVtIGZyb20gXCIuL0VudW1cIjtcbmltcG9ydCBzIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XG5leHBvcnQgY29uc3QgVE9QID0gXCJUT1BcIjtcbmV4cG9ydCBjb25zdCBSR0JfQURBUFRfTUlEID0gXCJSR0JfQURBUFRfTUlEXCI7XG5leHBvcnQgY29uc3QgUkdCX0FEQVBUX0FWRVJBR0UgPSBcIlJHQl9BREFQVF9BVkVSQUdFXCI7XG5leHBvcnQgY29uc3QgUkdCX0FEQVBUX0ZJUlNUID0gXCJSR0JfQURBUFRfRklSU1RcIjtcbmV4cG9ydCBjb25zdCBMQUJfQURBUFRfTUlEID0gXCJMQUJfQURBUFRfTUlEXCI7XG5leHBvcnQgY29uc3QgTEFCX0FEQVBUX0FWRVJBR0UgPSBcIkxBQl9BREFQVF9BVkVSQUdFXCI7XG5leHBvcnQgY29uc3QgTEFCX0FEQVBUX0ZJUlNUID0gXCJMQUJfQURBUFRfRklSU1RcIjtcbmV4cG9ydCBjb25zdCBtb2RlTWFwID0ge1xuICBbUkdCX0FEQVBUX01JRF06IHtcbiAgICBjb2xvck1vZGU6IFwiUkdCXCIsXG4gICAgYWRhcHRNb2RlOiBcIk1JRFwiXG4gIH0sXG4gIFtSR0JfQURBUFRfQVZFUkFHRV06IHtcbiAgICBjb2xvck1vZGU6IFwiUkdCXCIsXG4gICAgYWRhcHRNb2RlOiBcIkFWRVJBR0VcIlxuICB9LFxuICBbUkdCX0FEQVBUX0ZJUlNUXToge1xuICAgIGNvbG9yTW9kZTogXCJSR0JcIixcbiAgICBhZGFwdE1vZGU6IFwiRklSU1RcIlxuICB9LFxuICBbTEFCX0FEQVBUX01JRF06IHtcbiAgICBjb2xvck1vZGU6IFwiTEFCXCIsXG4gICAgYWRhcHRNb2RlOiBcIk1JRFwiXG4gIH0sXG4gIFtMQUJfQURBUFRfQVZFUkFHRV06IHtcbiAgICBjb2xvck1vZGU6IFwiTEFCXCIsXG4gICAgYWRhcHRNb2RlOiBcIkFWRVJBR0VcIlxuICB9LFxuICBbTEFCX0FEQVBUX0ZJUlNUXToge1xuICAgIGNvbG9yTW9kZTogXCJMQUJcIixcbiAgICBhZGFwdE1vZGU6IFwiRklSU1RcIlxuICB9XG59O1xuXG5jb25zdCBjb252ZXJ0Q3N2VG9Db2xvciA9IGNzdiA9PiB7XG4gIGNvbnN0IHRva2VucyA9IGNzdi5zcGxpdChcIixcIik7XG5cbiAgaWYgKHRva2Vucy5sZW5ndGggIT09IDQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNoYW5uZWxzID0gdG9rZW5zLm1hcCh0ID0+IHBhcnNlSW50KHQsIDEwKSk7XG5cbiAgaWYgKCFjaGFubmVscy5ldmVyeSh2YWwgPT4gdmFsID49IDAgJiYgdmFsIDw9IDI1NSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiByZ2JhKGNoYW5uZWxzWzBdLCBjaGFubmVsc1sxXSwgY2hhbm5lbHNbMl0sIGNoYW5uZWxzWzNdKTtcbn07XG5cbmNvbnN0IG9uRGVsZXRlQ29sb3IgPSAoZSwgcHJvcHMpID0+IHtcbiAgcHJvcHMub25TZXRQYWxldHRlT3B0aW9uKFwiY29sb3JzXCIsIHByb3BzLnZhbHVlLmZpbHRlcigoXywgaWR4KSA9PiBpZHggIT09IHBhcnNlSW50KGUudGFyZ2V0LmRhdGFzZXQuaWR4LCAxMCkgLSAxKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xvckFycmF5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXh0cmFjdE1vZGU6IFRPUFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY3VycmVudFRoZW1lID0gT2JqZWN0LmVudHJpZXMoVEhFTUVTKS5maW5kKGUgPT4gZVsxXSA9PT0gdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgY29uc3QgY3VzdG9tVGhlbWVOYW1lID0gXCJDdXN0b21cIjtcbiAgICBjb25zdCBjdXJyZW50VGhlbWVOYW1lID0gY3VycmVudFRoZW1lID8gY3VycmVudFRoZW1lWzBdIDogY3VzdG9tVGhlbWVOYW1lO1xuICAgIGNvbnN0IHRoZW1lUGlja2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMuZW51bSxcbiAgICAgIHZhbHVlOiBjdXJyZW50VGhlbWVOYW1lLFxuICAgICAgb25DaGFuZ2U6IGUgPT4gdGhpcy5wcm9wcy5vblNldFBhbGV0dGVPcHRpb24oXCJjb2xvcnNcIiwgVEhFTUVTW2UudGFyZ2V0LnZhbHVlXSlcbiAgICB9LCBPYmplY3QuZW50cmllcyhUSEVNRVMpLm1hcChlID0+IHtcbiAgICAgIGNvbnN0IFtrZXksIHZhbF0gPSBlO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICBcImRhdGEtY29sb3JzXCI6IHZhbFxuICAgICAgfSwga2V5KTtcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICBrZXk6IGN1c3RvbVRoZW1lTmFtZSxcbiAgICAgIG5hbWU6IGN1c3RvbVRoZW1lTmFtZSxcbiAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgfSwgXCJDdXN0b21cIikpO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBjb2xvclN3YXRjaCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLmNvbG9yQXJyYXlcbiAgICB9LCB0aGlzLnByb3BzLnZhbHVlLm1hcChjID0+IHtcbiAgICAgIGNvbnN0IGNvbG9yID0gYHJnYmEoJHtjWzBdfSwgJHtjWzFdfSwgJHtjWzJdfSwgJHtjWzNdfSlgO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBrZXk6IGAke2N9LSR7aSsrfWAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAsXG4gICAgICAgIGNsYXNzTmFtZTogcy5jb2xvcixcbiAgICAgICAgXCJkYXRhLWlkeFwiOiBpLFxuICAgICAgICB0aXRsZTogYCR7Y29sb3J9IC0gY2xpY2sgdG8gcmVtb3ZlYCxcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IFwiMFwiLFxuICAgICAgICBvbktleVByZXNzOiBlID0+IHtcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgb25EZWxldGVDb2xvcihlLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgIG9uRGVsZXRlQ29sb3IoZSwgdGhpcy5wcm9wcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvclxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgY29uc3Qgb25BZGRDb2xvckJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2xvclN0cmluZyA9IHByb21wdCgnQWRkIGEgY29sb3I6IFwicixnLGIsYVwiICgwLTI1NSBmb3IgZWFjaCwgZWcuIDI1NSwwLDAsMjU1IGZvciByZWQpJyk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gY29udmVydENzdlRvQ29sb3IoY29sb3JTdHJpbmcpO1xuXG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgIHRoaXMucHJvcHMub25BZGRQYWxldHRlQ29sb3IoY29sb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgXCJcXHVEODNEXFx1REQ4QyBBZGQgY29sb3JcIik7XG4gICAgY29uc3QgZXh0cmFjdFRvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLnByb3BzLmlucHV0Q2FudmFzICYmIHRoaXMucHJvcHMuaW5wdXRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICBjb25zdCB0b3BOID0gcGFyc2VJbnQocHJvbXB0KFwiVGFrZSB0aGUgdG9wIG4gY29sb3JzXCIsIDY0KSwgMTApO1xuICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IHVuaXF1ZUNvbG9ycyhjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMucHJvcHMuaW5wdXRDYW52YXMgJiYgdGhpcy5wcm9wcy5pbnB1dENhbnZhcy53aWR0aCB8fCAwLCB0aGlzLnByb3BzLmlucHV0Q2FudmFzICYmIHRoaXMucHJvcHMuaW5wdXRDYW52YXMuaGVpZ2h0IHx8IDApLmRhdGEsIHRvcE4pO1xuICAgICAgICAgIHRoaXMucHJvcHMub25TZXRQYWxldHRlT3B0aW9uKFwiY29sb3JzXCIsIGNvbG9ycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBcIlxcdUQ4M0RcXHVEREJDXFx1RkUwRiBFeHRyYWN0IFRPUFwiKTtcblxuICAgIGNvbnN0IGV4dHJhY3RBZGFwdGl2ZUJ1dHRvbiA9IChuYW1lLCBpZ25vcmVBbHBoYSwgY29sb3JNb2RlLCBhZGFwdE1vZGUpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLnByb3BzLmlucHV0Q2FudmFzICYmIHRoaXMucHJvcHMuaW5wdXRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICBjb25zdCB0b3BOID0gcGFyc2VJbnQocHJvbXB0KFwiVGFrZSB0aGUgdG9wIDJebiBjb2xvcnNcIiwgNCksIDEwKTtcbiAgICAgICAgICBjb25zdCBjb2xvcnMgPSBtZWRpYW5DdXRQYWxldHRlKGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5wcm9wcy5pbnB1dENhbnZhcyAmJiB0aGlzLnByb3BzLmlucHV0Q2FudmFzLndpZHRoIHx8IDAsIHRoaXMucHJvcHMuaW5wdXRDYW52YXMgJiYgdGhpcy5wcm9wcy5pbnB1dENhbnZhcy5oZWlnaHQgfHwgMCkuZGF0YSwgdG9wTiwgaWdub3JlQWxwaGEsIGFkYXB0TW9kZSwgY29sb3JNb2RlKTtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uU2V0UGFsZXR0ZU9wdGlvbihcImNvbG9yc1wiLCBjb2xvcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgXCJcXHVEODNEXFx1RERCQ1xcdUZFMEYgXCIsIGBFeHRyYWN0ICR7bmFtZX1gKTtcblxuICAgIGNvbnN0IGV4dHJhY3RPcHRpb25zID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvLyAkRmxvd0ZpeE1lXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChFbnVtLCB7XG4gICAgICBuYW1lOiBcIkFsZ29yaXRobVwiLFxuICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZXh0cmFjdE1vZGUsXG4gICAgICB0eXBlczoge1xuICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgIG5hbWU6IFwiVG9wXCIsXG4gICAgICAgICAgdmFsdWU6IFRPUFxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogXCJSR0IgQWRhcHRpdmUgKG1pZClcIixcbiAgICAgICAgICB2YWx1ZTogUkdCX0FEQVBUX01JRFxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogXCJSR0IgQWRhcHRpdmUgKGF2ZXJhZ2UpXCIsXG4gICAgICAgICAgdmFsdWU6IFJHQl9BREFQVF9BVkVSQUdFXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBuYW1lOiBcIlJHQiBBZGFwdGl2ZSAoZmlyc3QpXCIsXG4gICAgICAgICAgdmFsdWU6IFJHQl9BREFQVF9GSVJTVFxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogXCJMQUIgQWRhcHRpdmUgKG1pZClcIixcbiAgICAgICAgICB2YWx1ZTogTEFCX0FEQVBUX01JRFxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogXCJMQUIgQWRhcHRpdmUgKGF2ZXJhZ2UpXCIsXG4gICAgICAgICAgdmFsdWU6IExBQl9BREFQVF9BVkVSQUdFXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBuYW1lOiBcIkxBQiBBZGFwdGl2ZSAoZmlyc3QpXCIsXG4gICAgICAgICAgdmFsdWU6IExBQl9BREFQVF9GSVJTVFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIG9uU2V0RmlsdGVyT3B0aW9uOiAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXh0cmFjdE1vZGU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLCB0aGlzLnN0YXRlLmV4dHJhY3RNb2RlID09PSBUT1AgPyBleHRyYWN0VG9wQnV0dG9uIDogZXh0cmFjdEFkYXB0aXZlQnV0dG9uKHRoaXMuc3RhdGUuZXh0cmFjdE1vZGUsIHRydWUsIG1vZGVNYXBbdGhpcy5zdGF0ZS5leHRyYWN0TW9kZV0uY29sb3JNb2RlLCBtb2RlTWFwW3RoaXMuc3RhdGUuZXh0cmFjdE1vZGVdLmFkYXB0TW9kZSkpO1xuICAgIGNvbnN0IHNhdmVQYWxldHRlQnV0dG9uID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBwcm9tcHQoXCJTYXZlIGN1cnJlbnQgcGFsZXR0ZSBhc1wiKTtcbiAgICAgICAgY29uc3Qgc2F2ZWROYW1lID0gYPCfjqggJHtuYW1lfWA7XG5cbiAgICAgICAgaWYgKCFuYW1lIHx8IFRIRU1FU1tzYXZlZE5hbWVdKSB7XG4gICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3Qgc2F2ZTogbmFtZSB0YWtlbiBvciBpbnZhbGlkLiBVc2UgYSBkaWZmZXJlbnQgbmFtZS4gXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICB0aGlzLnByb3BzLm9uU2F2ZUNvbG9yUGFsZXR0ZShzYXZlZE5hbWUsIHRoaXMucHJvcHMudmFsdWUpO1xuICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFwiXFx1RDgzQ1xcdURGQTggU2F2ZSBsb2NhbGx5XCIpO1xuICAgIGNvbnN0IGV4cG9ydFBhbGV0dGVCdXR0b24gPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgdyA9IHdpbmRvdy5vcGVuKFwiXCIpO1xuICAgICAgICB3LmRvY3VtZW50LndyaXRlKGBDb3B5IHRoaXM6XG4gICAgICAgICAgICA8dGV4dGFyZWE+JHtKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BzLnZhbHVlKX08L3RleHRhcmVhPlxuICAgICAgICAgICAgPGhyPlxuICAgICAgICAgICAgRGV2OlxuICAgICAgICAgICAgPHRleHRhcmVhPiR7dGhpcy5wcm9wcy52YWx1ZS5tYXAoYyA9PiBgcmdiYSgke2NbMF19LCAke2NbMV19LCAke2NbMl19LCAke2NbM119KWApLmpvaW4oXCIsXFxuXCIpfTwvdGV4dGFyZWE+YCk7XG4gICAgICB9XG4gICAgfSwgXCJcXHVEODNDXFx1REZBOCBFeHBvcnRcIik7XG4gICAgY29uc3QgaW1wb3J0UGFsZXR0ZUJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uID0gd2luZG93LnByb21wdChcIlBhc3RlIHRoZW1lIEpTT05cIik7XG4gICAgICAgIGNvbnN0IGltcG9ydGVkID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNldFBhbGV0dGVPcHRpb24oXCJjb2xvcnNcIiwgaW1wb3J0ZWQpO1xuICAgICAgfVxuICAgIH0sIFwiXFx1RDgzQ1xcdURGQTggSW1wb3J0IHBhbGV0dGVcIik7XG4gICAgY29uc3QgZGVsZXRlUGFsZXR0ZUJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRUaGVtZSB8fCAhY3VycmVudFRoZW1lWzBdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5vbkRlbGV0ZUNvbG9yUGFsZXR0ZShjdXJyZW50VGhlbWVbMF0pO1xuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSwgXCJcXHVEODNDXFx1REZBOCBEZWxldGVcIik7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMubGFiZWxcbiAgICB9LCBcIlRoZW1lXCIpLCB0aGVtZVBpY2tlciwgY29sb3JTd2F0Y2gsIG9uQWRkQ29sb3JCdXR0b24sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLmdyb3VwXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLm5hbWVcbiAgICB9LCBcIkV4dHJhY3QgZnJvbSBpbnB1dFwiKSwgZXh0cmFjdE9wdGlvbnMpLCAhY3VycmVudFRoZW1lID8gc2F2ZVBhbGV0dGVCdXR0b24gOiBudWxsLCBpbXBvcnRQYWxldHRlQnV0dG9uLCAhY3VycmVudFRoZW1lID8gZXhwb3J0UGFsZXR0ZUJ1dHRvbiA6IG51bGwsIGN1cnJlbnRUaGVtZSAmJiBjdXJyZW50VGhlbWVbMF0gJiYgY3VycmVudFRoZW1lWzBdLmluY2x1ZGVzKFwi8J+OqCBcIikgLy8gSGFjayFcbiAgICA/IGRlbGV0ZVBhbGV0dGVCdXR0b24gOiBudWxsKTtcbiAgfVxuXG59IiwiLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJPT0wsIFJBTkdFLCBFTlVNLCBDT0xPUl9BUlJBWSwgU1RSSU5HLCBURVhULCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCBFbnVtIGZyb20gXCIuL0VudW1cIjtcbmltcG9ydCBQYWxldHRlIGZyb20gXCIuL1BhbGV0dGVcIjtcbmltcG9ydCBCb29sIGZyb20gXCIuL0Jvb2xcIjtcbmltcG9ydCBSYW5nZSBmcm9tIFwiLi9SYW5nZVwiO1xuaW1wb3J0IFN0cmluZ2x5IGZyb20gXCIuL1N0cmluZ2x5XCI7XG5pbXBvcnQgVGV4dGx5IGZyb20gXCIuL1RleHRseVwiO1xuaW1wb3J0IENvbG9yQXJyYXkgZnJvbSBcIi4vQ29sb3JBcnJheVwiO1xuaW1wb3J0IHMgZnJvbSBcIi4vc3R5bGVzLnNjc3NcIjtcblxuY29uc3QgQ29udHJvbHMgPSBwcm9wcyA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBzLmNvbnRyb2xzXG59LCBPYmplY3QuZW50cmllcyhwcm9wcy5vcHRpb25UeXBlcykubWFwKGUgPT4ge1xuICBjb25zdCBbbmFtZSwgb1R5cGVdID0gZTsgLy8gJEZsb3dGaXhNZVxuXG4gIHN3aXRjaCAob1R5cGUudHlwZSkge1xuICAgIGNhc2UgUkFOR0U6XG4gICAgICByZXR1cm4gKC8vICRGbG93Rml4TWVcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSYW5nZSwge1xuICAgICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHR5cGVzOiBvVHlwZSxcbiAgICAgICAgICB2YWx1ZTogcHJvcHMub3B0aW9uc1tuYW1lXSAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgLFxuICAgICAgICAgIHN0ZXA6IG9UeXBlICYmIG9UeXBlLnN0ZXAsXG4gICAgICAgICAgb25TZXRGaWx0ZXJPcHRpb246IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgY2FzZSBQQUxFVFRFOlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFsZXR0ZSwge1xuICAgICAgICBrZXk6IG5hbWUsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHR5cGVzOiBvVHlwZSxcbiAgICAgICAgdmFsdWU6IHByb3BzLm9wdGlvbnNbbmFtZV0sXG4gICAgICAgIHBhbGV0dGVPcHRpb25zOiBwcm9wcy5vcHRpb25zW25hbWVdLm9wdGlvbnMsXG4gICAgICAgIG9uQWRkUGFsZXR0ZUNvbG9yOiBwcm9wcy5vbkFkZFBhbGV0dGVDb2xvcixcbiAgICAgICAgb25TZXRGaWx0ZXJPcHRpb246IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uLFxuICAgICAgICBvblNldFBhbGV0dGVPcHRpb246IHByb3BzLm9uU2V0UGFsZXR0ZU9wdGlvbixcbiAgICAgICAgb25TYXZlQ29sb3JQYWxldHRlOiBwcm9wcy5vblNhdmVDb2xvclBhbGV0dGUsXG4gICAgICAgIG9uRGVsZXRlQ29sb3JQYWxldHRlOiBwcm9wcy5vbkRlbGV0ZUNvbG9yUGFsZXR0ZSxcbiAgICAgICAgaW5wdXRDYW52YXM6IHByb3BzLmlucHV0Q2FudmFzXG4gICAgICB9KTtcblxuICAgIGNhc2UgQ09MT1JfQVJSQVk6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvckFycmF5LCB7XG4gICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWU6IHByb3BzLm9wdGlvbnMuY29sb3JzLFxuICAgICAgICBvbkFkZFBhbGV0dGVDb2xvcjogcHJvcHMub25BZGRQYWxldHRlQ29sb3IsXG4gICAgICAgIG9uU2V0RmlsdGVyT3B0aW9uOiBwcm9wcy5vblNldEZpbHRlck9wdGlvbixcbiAgICAgICAgb25TZXRQYWxldHRlT3B0aW9uOiBwcm9wcy5vblNldFBhbGV0dGVPcHRpb24sXG4gICAgICAgIG9uU2F2ZUNvbG9yUGFsZXR0ZTogcHJvcHMub25TYXZlQ29sb3JQYWxldHRlLFxuICAgICAgICBvbkRlbGV0ZUNvbG9yUGFsZXR0ZTogcHJvcHMub25EZWxldGVDb2xvclBhbGV0dGUsXG4gICAgICAgIGlucHV0Q2FudmFzOiBwcm9wcy5pbnB1dENhbnZhc1xuICAgICAgfSk7XG5cbiAgICBjYXNlIFNUUklORzpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFN0cmluZ2x5LCB7XG4gICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdHlwZXM6IG9UeXBlLFxuICAgICAgICB2YWx1ZTogcHJvcHMub3B0aW9uc1tuYW1lXSxcbiAgICAgICAgb25TZXRGaWx0ZXJPcHRpb246IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uXG4gICAgICB9KTtcblxuICAgIGNhc2UgVEVYVDpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRseSwge1xuICAgICAgICBrZXk6IG5hbWUsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHR5cGVzOiBvVHlwZSxcbiAgICAgICAgdmFsdWU6IHByb3BzLm9wdGlvbnNbbmFtZV0sXG4gICAgICAgIG9uU2V0RmlsdGVyT3B0aW9uOiBwcm9wcy5vblNldEZpbHRlck9wdGlvblxuICAgICAgfSk7XG5cbiAgICBjYXNlIEJPT0w6XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCb29sLCB7XG4gICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdHlwZXM6IG9UeXBlLFxuICAgICAgICB2YWx1ZTogcHJvcHMub3B0aW9uc1tuYW1lXSxcbiAgICAgICAgb25TZXRGaWx0ZXJPcHRpb246IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uXG4gICAgICB9KTtcblxuICAgIGNhc2UgRU5VTTpcbiAgICAgIHJldHVybiAoLy8gJEZsb3dGaXhNZVxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEVudW0sIHtcbiAgICAgICAgICBrZXk6IG5hbWUsXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB0eXBlczogb1R5cGUsXG4gICAgICAgICAgdmFsdWU6IHByb3BzLm9wdGlvbnNbbmFtZV0sXG4gICAgICAgICAgb25TZXRGaWx0ZXJPcHRpb246IHByb3BzLm9uU2V0RmlsdGVyT3B0aW9uXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFwiVW5rbm93biBzZXR0aW5nIHR5cGVcIik7XG4gIH1cbn0pKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbHM7IiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWRkUGFsZXR0ZUNvbG9yLCBzZXRGaWx0ZXJPcHRpb24sIHNldEZpbHRlclBhbGV0dGVPcHRpb24sIHNhdmVDdXJyZW50Q29sb3JQYWxldHRlLCBkZWxldGVDdXJyZW50Q29sb3JQYWxldHRlIH0gZnJvbSBcImFjdGlvbnNcIjtcbmltcG9ydCBDb250cm9scyBmcm9tIFwiY29tcG9uZW50cy9jb250cm9sc1wiO1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUsIG93blByb3BzKSA9PiAoe1xuICBvcHRpb25UeXBlczogc3RhdGUuZmlsdGVycy5zZWxlY3RlZC5maWx0ZXIub3B0aW9uVHlwZXMsXG4gIG9wdGlvbnM6IHN0YXRlLmZpbHRlcnMuc2VsZWN0ZWQuZmlsdGVyLm9wdGlvbnMsXG4gIGlucHV0Q2FudmFzOiBvd25Qcm9wcy5pbnB1dENhbnZhc1xufSk7XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+ICh7XG4gIG9uU2V0RmlsdGVyT3B0aW9uOiAobmFtZSwgdmFsdWUpID0+IGRpc3BhdGNoKHNldEZpbHRlck9wdGlvbihuYW1lLCB2YWx1ZSkpLFxuICBvblNldFBhbGV0dGVPcHRpb246IChuYW1lLCB2YWx1ZSkgPT4gZGlzcGF0Y2goc2V0RmlsdGVyUGFsZXR0ZU9wdGlvbihuYW1lLCB2YWx1ZSkpLFxuICBvbkFkZFBhbGV0dGVDb2xvcjogY29sb3IgPT4gZGlzcGF0Y2goYWRkUGFsZXR0ZUNvbG9yKGNvbG9yKSksXG4gIG9uU2F2ZUNvbG9yUGFsZXR0ZTogKG5hbWUsIGNvbG9ycykgPT4gZGlzcGF0Y2goc2F2ZUN1cnJlbnRDb2xvclBhbGV0dGUobmFtZSwgY29sb3JzKSksXG4gIG9uRGVsZXRlQ29sb3JQYWxldHRlOiBuYW1lID0+IGRpc3BhdGNoKGRlbGV0ZUN1cnJlbnRDb2xvclBhbGV0dGUobmFtZSkpXG59KTtcblxuY29uc3QgQ29udGFpbmVkQ29udHJvbHMgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDb250cm9scyk7XG5leHBvcnQgZGVmYXVsdCBDb250YWluZWRDb250cm9sczsiLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uLCByZWFjdC9mb3JiaWQtcHJvcC10eXBlcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwb3J0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25FeHBvcnRTdGF0ZSh0aGlzLnByb3BzLnN0YXRlLCBcInVyaVwiKTtcbiAgICAgIH1cbiAgICB9LCBcIlxcdTIxRTcgVVJMXCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkV4cG9ydFN0YXRlKHRoaXMucHJvcHMuc3RhdGUsIFwianNvblwiKTtcbiAgICAgIH1cbiAgICB9LCBcIlxcdTIxRTcgSlNPTlwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBwcm9tcHQoXCJQYXN0ZSBKU09OXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgICAgdGhpcy5wcm9wcy5vbkltcG9ydFN0YXRlKGpzb24pO1xuICAgICAgfVxuICAgIH0sIFwiSW1wb3J0XCIpKTtcbiAgfVxuXG59XG5FeHBvcnRlci5wcm9wVHlwZXMgPSB7XG4gIHN0YXRlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBvbkltcG9ydFN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25FeHBvcnRTdGF0ZTogUHJvcFR5cGVzLmZ1bmNcbn07XG5FeHBvcnRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0YXRlOiB7fSxcbiAgb25JbXBvcnRTdGF0ZTogKCkgPT4ge30sXG4gIG9uRXhwb3J0U3RhdGU6ICgpID0+IHt9XG59OyIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGltcG9ydFN0YXRlIH0gZnJvbSBcImFjdGlvbnNcIjtcbmltcG9ydCBFeHBvcnRlciBmcm9tIFwiY29tcG9uZW50cy9BcHAvRXhwb3J0ZXJcIjtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHtcbiAgc3RhdGU6IHN0YXRlLmZpbHRlcnNcbn0pO1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoe1xuICBvbkV4cG9ydFN0YXRlOiAoc3RhdGUsIGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQsXG4gICAgICBjb252ZXJ0R3JheXNjYWxlOiBzdGF0ZS5jb252ZXJ0R3JheXNjYWxlXG4gICAgfSwgKGssIHYpID0+IHtcbiAgICAgIGlmIChrID09PSBcImRlZmF1bHRzXCIgfHwgayA9PT0gXCJvcHRpb25UeXBlc1wiIHx8IHR5cGVvZiB2ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHY7XG4gICAgfSk7XG5cbiAgICBpZiAoZm9ybWF0ID09PSBcImpzb25cIikge1xuICAgICAgd2luZG93Lm9wZW4oYGRhdGE6YXBwbGljYXRpb24vanNvbiwke2VuY29kZVVSSShqc29uKX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmFzZSA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9YDtcbiAgICAgIHByb21wdChcIlVSTFwiLCBgJHtiYXNlfT9zdGF0ZT0ke2VuY29kZVVSSShidG9hKGpzb24pKX1gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgfSxcbiAgb25JbXBvcnRTdGF0ZToganNvbiA9PiBkaXNwYXRjaChpbXBvcnRTdGF0ZShqc29uKSlcbn0pO1xuXG5jb25zdCBDb250YWluZWRFeHBvcnRlciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKEV4cG9ydGVyKTtcbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lZEV4cG9ydGVyOyIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3ByZWZlci1zdGF0ZWxlc3MtZnVuY3Rpb24sIHJlYWN0L2ZvcmJpZC1wcm9wLXR5cGVzICovXG5pbXBvcnQgeyBTQ0FMSU5HX0FMR09SSVRITSB9IGZyb20gXCJjb25zdGFudHMvb3B0aW9uVHlwZXNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSBcInJlYWN0LWRyYWdnYWJsZVwiO1xuaW1wb3J0IENvbnRyb2xzIGZyb20gXCJjb250YWluZXJzL0NvbnRyb2xzXCI7XG5pbXBvcnQgRXhwb3J0ZXIgZnJvbSBcImNvbnRhaW5lcnMvRXhwb3J0ZXJcIjtcbmltcG9ydCBSYW5nZSBmcm9tIFwiY29tcG9uZW50cy9jb250cm9scy9SYW5nZVwiO1xuaW1wb3J0IEVudW0gZnJvbSBcImNvbXBvbmVudHMvY29udHJvbHMvRW51bVwiO1xuaW1wb3J0IHsgU0NBTElOR19BTEdPUklUSE1fT1BUSU9OUyB9IGZyb20gXCJjb25zdGFudHMvY29udHJvbFR5cGVzXCI7XG5pbXBvcnQgY29udHJvbHMgZnJvbSBcImNvbXBvbmVudHMvY29udHJvbHMvc3R5bGVzLnNjc3NcIjtcbmltcG9ydCBzIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmlucHV0Q2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm91dHB1dENhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBudWxsO1xuICAgIHRoaXMuY2FwdHVyZVZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuICAgIHRoaXMuY2FwdHVyZVZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcbiAgICB0aGlzLmNhcHR1cmVWaWRlby5hdXRvcGxheSA9IHRydWU7XG4gICAgdGhpcy5jYXB0dXJlVmlkZW8ubG9vcCA9IHRydWU7XG4gICAgdGhpcy56SW5kZXggPSAwO1xuICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZHJvcHBpbmc6IGZhbHNlLFxuICAgICAgY2FwdHVyaW5nOiBmYWxzZSxcbiAgICAgIGhhc0NhcHR1cmU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMub25TZXRJbnB1dENhbnZhcyh0aGlzLmlucHV0Q2FudmFzKTtcblxuICAgIGlmIChkb2N1bWVudC5ib2R5ICYmIHRoaXMuY2FwdHVyZVZpZGVvKSB7XG4gICAgICBjb25zdCBjYXB0dXJlT3V0cHV0Q29udGFpbmVyID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiI2NhcHR1cmVPdXRwdXRcIik7XG5cbiAgICAgIGlmIChjYXB0dXJlT3V0cHV0Q29udGFpbmVyKSB7XG4gICAgICAgIGNhcHR1cmVPdXRwdXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYXB0dXJlVmlkZW8pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgY29uc3QgZHJhd1RvQ2FudmFzID0gKGNhbnZhcywgaW1hZ2UsIHNjYWxlKSA9PiB7XG4gICAgICBjb25zdCBmaW5hbFdpZHRoID0gaW1hZ2Uud2lkdGggKiBzY2FsZTtcbiAgICAgIGNvbnN0IGZpbmFsSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogc2NhbGU7XG4gICAgICBjYW52YXMud2lkdGggPSBmaW5hbFdpZHRoOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBmaW5hbEhlaWdodDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IG5leHRQcm9wcy5zY2FsaW5nQWxnb3JpdGhtID09PSBTQ0FMSU5HX0FMR09SSVRITS5BVVRPO1xuXG4gICAgICBpZiAoY3R4KSB7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGZpbmFsV2lkdGgsIGZpbmFsSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbmV3SW5wdXQgPSBuZXh0UHJvcHMuaW5wdXRJbWFnZSAhPT0gdGhpcy5wcm9wcy5pbnB1dEltYWdlO1xuICAgIGNvbnN0IG5ld1NjYWxlID0gbmV4dFByb3BzLnNjYWxlICE9PSB0aGlzLnByb3BzLnNjYWxlO1xuICAgIGNvbnN0IG5ld1RpbWUgPSBuZXh0UHJvcHMudGltZSAhPT0gdGhpcy5wcm9wcy50aW1lO1xuXG4gICAgaWYgKHRoaXMuaW5wdXRDYW52YXMgJiYgbmV4dFByb3BzLmlucHV0SW1hZ2UgJiYgKG5ld1RpbWUgfHwgbmV3SW5wdXQgfHwgbmV3U2NhbGUpKSB7XG4gICAgICBkcmF3VG9DYW52YXModGhpcy5pbnB1dENhbnZhcywgbmV4dFByb3BzLmlucHV0SW1hZ2UsIG5leHRQcm9wcy5zY2FsZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3V0cHV0Q2FudmFzICYmIG5leHRQcm9wcy5vdXRwdXRJbWFnZSAmJiBuZXh0UHJvcHMub3V0cHV0SW1hZ2UgIT09IHRoaXMucHJvcHMub3V0cHV0SW1hZ2UpIHtcbiAgICAgIGRyYXdUb0NhbnZhcyh0aGlzLm91dHB1dENhbnZhcywgbmV4dFByb3BzLm91dHB1dEltYWdlLCBuZXh0UHJvcHMub3V0cHV0U2NhbGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBicmluZ1RvVG9wID0gZSA9PiB7XG4gICAgICB0aGlzLnpJbmRleCArPSAxO1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnpJbmRleCA9IGAke3RoaXMuekluZGV4fWA7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWRJbWFnZVNlY3Rpb24gPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBudWxsLCBcIkxvYWQgaW1hZ2Ugb3IgdmlkZW9cIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICBjbGFzc05hbWU6IFtjb250cm9scy5maWxlLCB0aGlzLnN0YXRlLmRyb3BwaW5nID8gY29udHJvbHMuZHJvcHBpbmcgOiBudWxsXS5qb2luKFwiIFwiKSxcbiAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgaWQ6IFwiaW1hZ2VMb2FkZXJcIixcbiAgICAgIG5hbWU6IFwiaW1hZ2VMb2FkZXJcIixcbiAgICAgIG9uQ2hhbmdlOiBlID0+IHRoaXMucHJvcHMub25Mb2FkSW1hZ2UoZSwgdGhpcy5wcm9wcy5pbnB1dFZpZGVvVm9sdW1lLCB0aGlzLnByb3BzLmlucHV0VmlkZW9QbGF5YmFja1JhdGUpLFxuICAgICAgb25EcmFnTGVhdmU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZHJvcHBpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRHJhZ092ZXI6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZHJvcHBpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25EcmFnRW50ZXI6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZHJvcHBpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25Ecm9wOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRyb3BwaW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChSYW5nZSwge1xuICAgICAgbmFtZTogXCJJbnB1dCBTY2FsZVwiLFxuICAgICAgdHlwZXM6IHtcbiAgICAgICAgcmFuZ2U6IFswLjEsIDRdXG4gICAgICB9LFxuICAgICAgc3RlcDogMC4xLFxuICAgICAgb25TZXRGaWx0ZXJPcHRpb246IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2V0U2NhbGUodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnNjYWxlXG4gICAgfSkpO1xuICAgIGNvbnN0IGZpbHRlck9wdGlvbnNTZWN0aW9uID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMuc2VjdGlvblxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBudWxsLCBcIkFsZ29yaXRobVwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFtcImZpbHRlck9wdGlvbnNcIiwgcy5maWx0ZXJPcHRpb25zXS5qb2luKFwiIFwiKVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjb250cm9scy5lbnVtLFxuICAgICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IHRoaXMucHJvcHMuYXZhaWxhYmxlRmlsdGVycy5maW5kKGYgPT4gZiAmJiBmLmRpc3BsYXlOYW1lID09PSBuYW1lKTtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdEZpbHRlcihuYW1lLCBmaWx0ZXIpO1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnNlbGVjdGVkRmlsdGVyICYmICh0aGlzLnByb3BzLnNlbGVjdGVkRmlsdGVyLmRpc3BsYXlOYW1lIHx8IHRoaXMucHJvcHMuc2VsZWN0ZWRGaWx0ZXIubmFtZSlcbiAgICB9LCB0aGlzLnByb3BzLmF2YWlsYWJsZUZpbHRlcnMubWFwKGYgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgICBrZXk6IGYgJiYgZi5kaXNwbGF5TmFtZSxcbiAgICAgIHZhbHVlOiBmICYmIGYuZGlzcGxheU5hbWVcbiAgICB9LCBmICYmIGYuZGlzcGxheU5hbWUpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjb250cm9scy5ncm91cFxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY29udHJvbHMubmFtZVxuICAgIH0sIFwiT3B0aW9uc1wiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9scywge1xuICAgICAgaW5wdXRDYW52YXM6IHRoaXMuaW5wdXRDYW52YXNcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNvbnRyb2xzLmNoZWNrYm94XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIG5hbWU6IFwiY29udmVydEdyYXlzY2FsZVwiLFxuICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgY2hlY2tlZDogdGhpcy5wcm9wcy5jb252ZXJ0R3JheXNjYWxlLFxuICAgICAgb25DaGFuZ2U6IGUgPT4gdGhpcy5wcm9wcy5vbkNvbnZlcnRHcmF5c2NhbGUoZS50YXJnZXQuY2hlY2tlZClcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJvcHMub25Db252ZXJ0R3JheXNjYWxlKCF0aGlzLnByb3BzLmNvbnZlcnRHcmF5c2NhbGUpLFxuICAgICAgY2xhc3NOYW1lOiBjb250cm9scy5sYWJlbFxuICAgIH0sIFwiUHJlLWNvbnZlcnQgdG8gZ3JheXNjYWxlXCIpKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwb3J0ZXIsIG51bGwpKSk7XG4gICAgY29uc3QgZmlsdGVyQnV0dG9uU2VjdGlvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLnNlY3Rpb25cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCJGaWx0ZXJcIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgY2xhc3NOYW1lOiBbcy5maWx0ZXJCdXR0b24sIHMud2FpdEJ1dHRvbl0uam9pbihcIiBcIiksXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25GaWx0ZXJJbWFnZSh0aGlzLmlucHV0Q2FudmFzLCB0aGlzLnByb3BzLnNlbGVjdGVkRmlsdGVyLmZpbHRlciwgdGhpcy5wcm9wcy5jb252ZXJ0R3JheXNjYWxlKTtcbiAgICAgIH1cbiAgICB9LCBcIkZpbHRlclwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIlxuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogcy5jb3B5QnV0dG9uLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRDYW52YXMpIHtcbiAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGltYWdlLnNyYyA9IHRoaXMub3V0cHV0Q2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcblxuICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZXRJbnB1dChpbWFnZSk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uU2V0U2NhbGUoMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFwiPDwgQ29weSBvdXRwdXQgdG8gaW5wdXRcIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLnNlY3Rpb25cbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCJWaWRlb1wiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjb250cm9scy5sYWJlbCxcbiAgICAgIGh0bWxGb3I6IFwibXV0ZVwiXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIGlkOiBcIm11dGVcIixcbiAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgIGNoZWNrZWQ6IHRoaXMucHJvcHMuaW5wdXRWaWRlb1ZvbHVtZSA9PT0gMCxcbiAgICAgIG9uQ2hhbmdlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25TZXRJbnB1dFZvbHVtZSh0aGlzLnByb3BzLmlucHV0VmlkZW9Wb2x1bWUgPiAwID8gMCA6IDEpO1xuICAgICAgfVxuICAgIH0pLCBcIk11dGUgdmlkZW9cIikpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNvbnRyb2xzLmxhYmVsLFxuICAgICAgaHRtbEZvcjogXCJyZWFsdGltZUZpbHRlcmluZ1wiXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgIGlkOiBcInJlYWx0aW1lRmlsdGVyaW5nXCIsXG4gICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25TZXRSZWFsVGltZUZpbHRlcmluZyhlLnRhcmdldC5jaGVja2VkKTtcbiAgICAgIH0sXG4gICAgICBjaGVja2VkOiB0aGlzLnByb3BzLnJlYWx0aW1lRmlsdGVyaW5nXG4gICAgfSksIFwiUmVhbHRpbWUgZmlsdGVyaW5nICh2aWRlb3MpXCIpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJhbmdlLCB7XG4gICAgICBuYW1lOiBcIlZpZGVvIFBsYXliYWNrIFJhdGVcIixcbiAgICAgIHR5cGVzOiB7XG4gICAgICAgIHJhbmdlOiBbMCwgMl1cbiAgICAgIH0sXG4gICAgICBzdGVwOiAwLjA1LFxuICAgICAgb25TZXRGaWx0ZXJPcHRpb246IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2V0SW5wdXRQbGF5YmFja1JhdGUodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLmlucHV0VmlkZW9QbGF5YmFja1JhdGVcbiAgICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLmNhcHR1cmVTZWN0aW9uXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBpZDogXCJjYXB0dXJlQnV0dG9uXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXJnaW46IFwiNXB4IDBcIlxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiAhdGhpcy5wcm9wcy5yZWFsdGltZUZpbHRlcmluZyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhcHR1cmluZyAmJiB0aGlzLm91dHB1dENhbnZhcykge1xuICAgICAgICAgIHRoaXMuc3RyZWFtID0gdGhpcy5vdXRwdXRDYW52YXMuY2FwdHVyZVN0cmVhbSgyNSk7IC8vIE11eCBhdWRpbyArIHZpZGVvIHRyYWNrcyB0b2dldGhlclxuXG4gICAgICAgICAgaWYgKHRoaXMuc3RyZWFtICYmIHRoaXMucHJvcHMuaW5wdXRWaWRlbykge1xuICAgICAgICAgICAgY29uc3QgdmlkID0gdGhpcy5wcm9wcy5pbnB1dFZpZGVvO1xuICAgICAgICAgICAgbGV0IHN0cmVhbXM7IC8vIEF1ZGlvIGNhcHR1cmUgZG9lc24ndCB3b3JrIG9uIEZpcmVmb3ggNTdcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L2NhcHR1cmVTdHJlYW1cbiAgICAgICAgICAgIC8vIGlmICh2aWQubW96Q2FwdHVyZVN0cmVhbSkge1xuICAgICAgICAgICAgLy8gICBzdHJlYW1zID0gdmlkLm1vekNhcHR1cmVTdHJlYW0oMjUpO1xuICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh2aWQuY2FwdHVyZVN0cmVhbSkge1xuICAgICAgICAgICAgLy8gICBzdHJlYW1zID0gdmlkLmNhcHR1cmVTdHJlYW0oMjUpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBpZiAodmlkLmNhcHR1cmVTdHJlYW0pIHtcbiAgICAgICAgICAgICAgc3RyZWFtcyA9IHZpZC5jYXB0dXJlU3RyZWFtKDI1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0cmVhbXMgJiYgdGhpcy5zdHJlYW0gJiYgdGhpcy5wcm9wcy5pbnB1dFZpZGVvVm9sdW1lID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrcyA9IHN0cmVhbXMuZ2V0QXVkaW9UcmFja3MoKTtcbiAgICAgICAgICAgICAgYXVkaW9UcmFja3MuZm9yRWFjaCh0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uYWRkVHJhY2sodC5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jYXB0dXJlVmlkZW8uc3JjT2JqZWN0ID0gdGhpcy5zdHJlYW07IC8vICRGbG93Rml4TWVcblxuICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHRoaXMuc3RyZWFtKTtcbiAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoKTsgLy8gJEZsb3dGaXhNZVxuXG4gICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaChlLmRhdGEpO1xuICAgICAgICAgIH07IC8vICRGbG93Rml4TWVcblxuXG4gICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uc3RvcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYih0aGlzLmNodW5rcywge1xuICAgICAgICAgICAgICB0eXBlOiBcInZpZGVvL3dlYm1cIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZGF0YVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICB0aGlzLmNhcHR1cmVWaWRlby5zcmNPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYXB0dXJlVmlkZW8uc3JjID0gZGF0YVVybDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjYXB0dXJpbmc6IHRydWUsXG4gICAgICAgICAgICBoYXNDYXB0dXJlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgdGhpcy5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpOyAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2FwdHVyaW5nOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgdGhpcy5zdGF0ZS5jYXB0dXJpbmcgPyBcIlN0b3AgY2FwdHVyZVwiIDogXCJDYXB0dXJlIG91dHB1dCB2aWRlb1wiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNvbnRyb2xzLnVuc2VsZWN0YWJsZVxuICAgIH0sIFwiQXVkaW8gY2FwdHVyZSByZXF1aXJlcyBDaHJvbWVcIikpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogcy5zZWN0aW9uXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwiT3RoZXJzXCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEVudW0sIHtcbiAgICAgIG5hbWU6IFwiU2NhbGluZyBhbGdvcml0aG1cIixcbiAgICAgIG9uU2V0RmlsdGVyT3B0aW9uOiB0aGlzLnByb3BzLm9uU2V0U2NhbGluZ0FsZ29yaXRobSxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnNjYWxpbmdBbGdvcml0aG0sXG4gICAgICB0eXBlczogU0NBTElOR19BTEdPUklUSE1fT1BUSU9OU1xuICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJhbmdlLCB7XG4gICAgICBuYW1lOiBcIk91dHB1dCBTY2FsZVwiLFxuICAgICAgdHlwZXM6IHtcbiAgICAgICAgcmFuZ2U6IFswLjEsIDRdXG4gICAgICB9LFxuICAgICAgc3RlcDogMC4xLFxuICAgICAgb25TZXRGaWx0ZXJPcHRpb246IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2V0T3V0cHV0U2NhbGUodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLm91dHB1dFNjYWxlXG4gICAgfSkpKSk7XG4gICAgY29uc3QgY2FudmFzZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogcy5jYW52YXNlc1xuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJhZ2dhYmxlLCB7XG4gICAgICBib3VuZHM6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgb25Nb3VzZURvd25DYXB0dXJlOiBicmluZ1RvVG9wXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNvbnRyb2xzLndpbmRvd1xuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBbXCJoYW5kbGVcIiwgY29udHJvbHMudGl0bGVCYXJdLmpvaW4oXCIgXCIpXG4gICAgfSwgXCJJbnB1dFwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLCB7XG4gICAgICBjbGFzc05hbWU6IFtzLmNhbnZhcywgc1t0aGlzLnByb3BzLnNjYWxpbmdBbGdvcml0aG1dXS5qb2luKFwiIFwiKSxcbiAgICAgIHJlZjogYyA9PiB7XG4gICAgICAgIHRoaXMuaW5wdXRDYW52YXMgPSBjO1xuICAgICAgfVxuICAgIH0pKSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KERyYWdnYWJsZSwge1xuICAgICAgYm91bmRzOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogdGhpcy5pbnB1dENhbnZhcyAmJiAtdGhpcy5pbnB1dENhbnZhcy53aWR0aCB8fCAtMzAwXG4gICAgICB9XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgb25Nb3VzZURvd25DYXB0dXJlOiBicmluZ1RvVG9wXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNvbnRyb2xzLndpbmRvd1xuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBbXCJoYW5kbGVcIiwgY29udHJvbHMudGl0bGVCYXJdLmpvaW4oXCIgXCIpXG4gICAgfSwgXCJPdXRwdXRcIiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiwge1xuICAgICAgY2xhc3NOYW1lOiBzLmNhbnZhcyxcbiAgICAgIHJlZjogYyA9PiB7XG4gICAgICAgIHRoaXMub3V0cHV0Q2FudmFzID0gYztcbiAgICAgIH1cbiAgICB9KSkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChEcmFnZ2FibGUsIHtcbiAgICAgIGJvdW5kczoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6ICh0aGlzLmlucHV0Q2FudmFzICYmIC10aGlzLmlucHV0Q2FudmFzLndpZHRoIHx8IC0zMDApICogMlxuICAgICAgfVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIG9uTW91c2VEb3duQ2FwdHVyZTogYnJpbmdUb1RvcCxcbiAgICAgIGlkOiBcImNhcHR1cmVXaW5kb3dcIixcbiAgICAgIGNsYXNzTmFtZTogdGhpcy5zdGF0ZS5oYXNDYXB0dXJlID8gXCJcIiA6IHMuaGlkZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjb250cm9scy53aW5kb3dcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogW1wiaGFuZGxlXCIsIGNvbnRyb2xzLnRpdGxlQmFyXS5qb2luKFwiIFwiKVxuICAgIH0sIFwiQ2FwdHVyZVwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBpZDogXCJjYXB0dXJlT3V0cHV0XCJcbiAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFtzLnJlYywgIXRoaXMuc3RhdGUuY2FwdHVyaW5nID8gcy5oaWRlIDogXCJcIl0uam9pbihcIiBcIilcbiAgICB9LCBcIlxcdTI1Q0YgUkVDXCIpKSkpKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMuYXBwXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMuY2hyb21lXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIFwiXFx1RkYyNFxcdUZGMjlcXHVGRjM0XFx1RkYyOFxcdUZGMjVcXHVGRjMyXFx1RkYyNVxcdUZGMzIgXFx1MjU5M1xcdTI1OTJcXHUyNTkxXCIpLCBsb2FkSW1hZ2VTZWN0aW9uLCBmaWx0ZXJPcHRpb25zU2VjdGlvbiwgZmlsdGVyQnV0dG9uU2VjdGlvbiwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IHMuZ2l0aHViXG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vZ3luZy9kaXRoZXJlci9cIlxuICAgIH0sIFwiR2l0SHViXCIpKSksIGNhbnZhc2VzKTtcbiAgfVxuXG59XG5BcHAucHJvcFR5cGVzID0ge1xuICBhdmFpbGFibGVGaWx0ZXJzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb252ZXJ0R3JheXNjYWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW5wdXRJbWFnZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgaW5wdXRWaWRlbzogUHJvcFR5cGVzLm9iamVjdCxcbiAgaW5wdXRWaWRlb1ZvbHVtZTogUHJvcFR5cGVzLm51bWJlcixcbiAgaW5wdXRWaWRlb1BsYXliYWNrUmF0ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgbWF0Y2g6IFByb3BUeXBlcy5vYmplY3QsXG4gIG9uQ29udmVydEdyYXlzY2FsZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRmlsdGVySW1hZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbkxvYWRJbWFnZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2VsZWN0RmlsdGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25TZXRJbnB1dDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2V0SW5wdXRWb2x1bWU6IFByb3BUeXBlcy5mdW5jLFxuICBvblNldElucHV0UGxheWJhY2tSYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25TZXRJbnB1dENhbnZhczogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2V0UmVhbFRpbWVGaWx0ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuICBvblNldFNjYWxlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25TZXRPdXRwdXRTY2FsZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2V0U2NhbGluZ0FsZ29yaXRobTogUHJvcFR5cGVzLmZ1bmMsXG4gIG91dHB1dEltYWdlOiBQcm9wVHlwZXMub2JqZWN0LFxuICByZWFsdGltZUZpbHRlcmluZzogUHJvcFR5cGVzLmJvb2wsXG4gIHNjYWxlOiBQcm9wVHlwZXMubnVtYmVyLFxuICBvdXRwdXRTY2FsZTogUHJvcFR5cGVzLm51bWJlcixcbiAgc2NhbGluZ0FsZ29yaXRobTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2VsZWN0ZWRGaWx0ZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gIHRpbWU6IFByb3BUeXBlcy5udW1iZXJcbn07XG5BcHAuZGVmYXVsdFByb3BzID0ge1xuICBhdmFpbGFibGVGaWx0ZXJzOiBbXSxcbiAgY2xhc3NOYW1lOiBzLmFwcCxcbiAgY29udmVydEdyYXlzY2FsZTogZmFsc2UsXG4gIGlucHV0SW1hZ2U6IG51bGwsXG4gIGlucHV0VmlkZW86IG51bGwsXG4gIGlucHV0VmlkZW9QbGF5YmFja1JhdGU6IDEsXG4gIGlucHV0VmlkZW9Wb2x1bWU6IDEsXG4gIG1hdGNoOiB7XG4gICAgdXJsOiBcInVua25vd25cIlxuICB9LFxuICBvbkNvbnZlcnRHcmF5c2NhbGU6ICgpID0+IHt9LFxuICBvbkZpbHRlckltYWdlOiAoKSA9PiB7fSxcbiAgb25Mb2FkSW1hZ2U6ICgpID0+IHt9LFxuICBvblNlbGVjdEZpbHRlcjogKCkgPT4ge30sXG4gIG9uU2V0SW5wdXQ6ICgpID0+IHt9LFxuICBvblNldElucHV0UGxheWJhY2tSYXRlOiAoKSA9PiB7fSxcbiAgb25TZXRJbnB1dFZvbHVtZTogKCkgPT4ge30sXG4gIG9uU2V0SW5wdXRDYW52YXM6ICgpID0+IHt9LFxuICBvblNldFJlYWxUaW1lRmlsdGVyaW5nOiAoKSA9PiB7fSxcbiAgb25TZXRTY2FsZTogKCkgPT4ge30sXG4gIG9uU2V0T3V0cHV0U2NhbGU6ICgpID0+IHt9LFxuICBvblNldFNjYWxpbmdBbGdvcml0aG06ICgpID0+IHt9LFxuICBvdXRwdXRJbWFnZTogbnVsbCxcbiAgcmVhbHRpbWVGaWx0ZXJpbmc6IGZhbHNlLFxuICBzY2FsZTogMSxcbiAgb3V0cHV0U2NhbGU6IDEsXG4gIHNjYWxpbmdBbGdvcml0aG06IFNDQUxJTkdfQUxHT1JJVEhNLkFVVE8sXG4gIHNlbGVjdGVkRmlsdGVyOiBudWxsLFxuICB0aW1lOiBudWxsXG59OyIsImltcG9ydCB7IFJBTkdFLCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBvcHRpb25UeXBlcyA9IHtcbiAgdGhyZXNob2xkUjoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMjU1XSxcbiAgICBzdGVwOiAwLjUsXG4gICAgZGVmYXVsdDogMTI3LjVcbiAgfSxcbiAgdGhyZXNob2xkRzoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMjU1XSxcbiAgICBzdGVwOiAwLjUsXG4gICAgZGVmYXVsdDogMTI3LjVcbiAgfSxcbiAgdGhyZXNob2xkQjoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMjU1XSxcbiAgICBzdGVwOiAwLjUsXG4gICAgZGVmYXVsdDogMTI3LjVcbiAgfSxcbiAgdGhyZXNob2xkQToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMjU1XSxcbiAgICBzdGVwOiAwLjUsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBwYWxldHRlOiB7XG4gICAgdHlwZTogUEFMRVRURSxcbiAgICBkZWZhdWx0OiBwYWxldHRlcy5uZWFyZXN0XG4gIH1cbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gIHRocmVzaG9sZFI6IG9wdGlvblR5cGVzLnRocmVzaG9sZFIuZGVmYXVsdCxcbiAgdGhyZXNob2xkRzogb3B0aW9uVHlwZXMudGhyZXNob2xkRy5kZWZhdWx0LFxuICB0aHJlc2hvbGRCOiBvcHRpb25UeXBlcy50aHJlc2hvbGRCLmRlZmF1bHQsXG4gIHRocmVzaG9sZEE6IG9wdGlvblR5cGVzLnRocmVzaG9sZEEuZGVmYXVsdCxcbiAgcGFsZXR0ZTogb3B0aW9uVHlwZXMucGFsZXR0ZS5kZWZhdWx0XG59O1xuXG5jb25zdCBiaW5hcml6ZSA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IGdldENvbG9yID0gKHZhbCwgdGhyZXNob2xkKSA9PiB2YWwgPiB0aHJlc2hvbGQgPyAyNTUgOiAwO1xuXG4gIGNvbnN0IHtcbiAgICB0aHJlc2hvbGRSLFxuICAgIHRocmVzaG9sZEcsXG4gICAgdGhyZXNob2xkQixcbiAgICB0aHJlc2hvbGRBLFxuICAgIHBhbGV0dGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuXG4gIGZvciAobGV0IHggPSAwOyB4IDwgaW5wdXQud2lkdGg7IHggKz0gMSkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaW5wdXQuaGVpZ2h0OyB5ICs9IDEpIHtcbiAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCBpbnB1dC53aWR0aCk7XG4gICAgICBjb25zdCBwcmVQYWxldHRlQ29sID0gcmdiYShnZXRDb2xvcihidWZbaV0sIHRocmVzaG9sZFIpLCBnZXRDb2xvcihidWZbaSArIDFdLCB0aHJlc2hvbGRHKSwgZ2V0Q29sb3IoYnVmW2kgKyAyXSwgdGhyZXNob2xkQiksIGdldENvbG9yKGJ1ZltpICsgM10sIHRocmVzaG9sZEEpKTtcbiAgICAgIGNvbnN0IGNvbCA9IHBhbGV0dGUuZ2V0Q29sb3IocHJlUGFsZXR0ZUNvbCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGZpbGxCdWZmZXJQaXhlbChidWYsIGksIGNvbFswXSwgY29sWzFdLCBjb2xbMl0sIGNvbFszXSk7XG4gICAgfVxuICB9XG5cbiAgb3V0cHV0Q3R4LnB1dEltYWdlRGF0YShuZXcgSW1hZ2VEYXRhKGJ1Ziwgb3V0cHV0LndpZHRoLCBvdXRwdXQuaGVpZ2h0KSwgMCwgMCk7XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6IFwiQmluYXJpemVcIixcbiAgZnVuYzogYmluYXJpemUsXG4gIG9wdGlvblR5cGVzLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgZGVmYXVsdHNcbn07IiwiZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBSQU5HRSwgUEFMRVRURSB9IGZyb20gXCJjb25zdGFudHMvY29udHJvbFR5cGVzXCI7XG5pbXBvcnQgeyBuZWFyZXN0IH0gZnJvbSBcInBhbGV0dGVzXCI7XG5pbXBvcnQgeyBjbG9uZUNhbnZhcywgZmlsbEJ1ZmZlclBpeGVsLCBnZXRCdWZmZXJJbmRleCwgcmdiYSB9IGZyb20gXCJ1dGlsc1wiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICByT2Zmc2V0WDoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMTAwXSxcbiAgICBkZWZhdWx0OiAxMFxuICB9LFxuICByT2Zmc2V0WToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMTAwXSxcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIHJPcGFjaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjA1LFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcbiAgZ09mZnNldFg6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDEwMF0sXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBnT2Zmc2V0WToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMTAwXSxcbiAgICBkZWZhdWx0OiA1XG4gIH0sXG4gIGdPcGFjaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjA1LFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcbiAgYk9mZnNldFg6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDEwMF0sXG4gICAgZGVmYXVsdDogOFxuICB9LFxuICBiT2Zmc2V0WToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMTAwXSxcbiAgICBkZWZhdWx0OiA0XG4gIH0sXG4gIGJPcGFjaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjA1LFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcbiAgYU9mZnNldFg6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDEwMF0sXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBhT2Zmc2V0WToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMTAwXSxcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIGFPcGFjaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjA1LFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcbiAgcGFsZXR0ZToge1xuICAgIHR5cGU6IFBBTEVUVEUsXG4gICAgZGVmYXVsdDogbmVhcmVzdFxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICByT2Zmc2V0WDogb3B0aW9uVHlwZXMuck9mZnNldFguZGVmYXVsdCxcbiAgck9mZnNldFk6IG9wdGlvblR5cGVzLnJPZmZzZXRZLmRlZmF1bHQsXG4gIHJPcGFjaXR5OiBvcHRpb25UeXBlcy5yT3BhY2l0eS5kZWZhdWx0LFxuICBnT2Zmc2V0WDogb3B0aW9uVHlwZXMuZ09mZnNldFguZGVmYXVsdCxcbiAgZ09mZnNldFk6IG9wdGlvblR5cGVzLmdPZmZzZXRZLmRlZmF1bHQsXG4gIGdPcGFjaXR5OiBvcHRpb25UeXBlcy5nT3BhY2l0eS5kZWZhdWx0LFxuICBiT2Zmc2V0WDogb3B0aW9uVHlwZXMuYk9mZnNldFguZGVmYXVsdCxcbiAgYk9mZnNldFk6IG9wdGlvblR5cGVzLmJPZmZzZXRZLmRlZmF1bHQsXG4gIGJPcGFjaXR5OiBvcHRpb25UeXBlcy5iT3BhY2l0eS5kZWZhdWx0LFxuICBhT2Zmc2V0WDogb3B0aW9uVHlwZXMuYU9mZnNldFguZGVmYXVsdCxcbiAgYU9mZnNldFk6IG9wdGlvblR5cGVzLmFPZmZzZXRZLmRlZmF1bHQsXG4gIGFPcGFjaXR5OiBvcHRpb25UeXBlcy5hT3BhY2l0eS5kZWZhdWx0LFxuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDI1NlxuICAgIH1cbiAgfSlcbn07XG5cbmNvbnN0IGNoYW5uZWxTZXBhcmF0aW9uID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHJPZmZzZXRYLFxuICAgIHJPZmZzZXRZLFxuICAgIHJPcGFjaXR5LFxuICAgIGdPZmZzZXRYLFxuICAgIGdPZmZzZXRZLFxuICAgIGdPcGFjaXR5LFxuICAgIGJPZmZzZXRYLFxuICAgIGJPZmZzZXRZLFxuICAgIGJPcGFjaXR5LFxuICAgIGFPZmZzZXRYLFxuICAgIGFPZmZzZXRZLFxuICAgIGFPcGFjaXR5LFxuICAgIHBhbGV0dGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuXG4gIGZvciAobGV0IHggPSAwOyB4IDwgaW5wdXQud2lkdGg7IHggKz0gMSkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaW5wdXQuaGVpZ2h0OyB5ICs9IDEpIHtcbiAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCBpbnB1dC53aWR0aCk7XG4gICAgICBjb25zdCByWCA9IHJPZmZzZXRYICsgeDtcbiAgICAgIGNvbnN0IHJZID0gck9mZnNldFkgKyB5O1xuICAgICAgY29uc3QgckkgPSBnZXRCdWZmZXJJbmRleChyWCwgclksIGlucHV0LndpZHRoKTtcbiAgICAgIGNvbnN0IGdYID0gZ09mZnNldFggKyB4O1xuICAgICAgY29uc3QgZ1kgPSBnT2Zmc2V0WSArIHk7XG4gICAgICBjb25zdCBnSSA9IGdldEJ1ZmZlckluZGV4KGdYLCBnWSwgaW5wdXQud2lkdGgpO1xuICAgICAgY29uc3QgYlggPSBiT2Zmc2V0WCArIHg7XG4gICAgICBjb25zdCBiWSA9IGJPZmZzZXRZICsgeTtcbiAgICAgIGNvbnN0IGJJID0gZ2V0QnVmZmVySW5kZXgoYlgsIGJZLCBpbnB1dC53aWR0aCk7XG4gICAgICBjb25zdCBhWCA9IGFPZmZzZXRYICsgeDtcbiAgICAgIGNvbnN0IGFZID0gYU9mZnNldFkgKyB5O1xuICAgICAgY29uc3QgYUkgPSBnZXRCdWZmZXJJbmRleChhWCwgYVksIGlucHV0LndpZHRoKTtcbiAgICAgIGNvbnN0IHBpeGVsID0gcmdiYShidWZbckldLCBidWZbZ0kgKyAxXSwgYnVmW2JJICsgMl0sIGJ1ZlthSSArIDNdKTtcbiAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5nZXRDb2xvcihwaXhlbCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGZpbGxCdWZmZXJQaXhlbChidWYsIGksIGNvbG9yWzBdICogck9wYWNpdHksIGNvbG9yWzFdICogZ09wYWNpdHksIGNvbG9yWzJdICogYk9wYWNpdHksIGNvbG9yWzNdICogYU9wYWNpdHkpO1xuICAgIH1cbiAgfVxuXG4gIG91dHB1dEN0eC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YShidWYsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCksIDAsIDApO1xuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcIkNoYW5uZWwgc2VwYXJhdGlvblwiLFxuICBmdW5jOiBjaGFubmVsU2VwYXJhdGlvbixcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIG9wdGlvblR5cGVzLFxuICBkZWZhdWx0c1xufTsiLCJmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IFJBTkdFLCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCB7IG5lYXJlc3QgfSBmcm9tIFwicGFsZXR0ZXNcIjtcbmltcG9ydCB7IGNsb25lQ2FudmFzLCBmaWxsQnVmZmVyUGl4ZWwsIGdldEJ1ZmZlckluZGV4LCByZ2JhIH0gZnJvbSBcInV0aWxzXCI7XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIGppdHRlclg6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDEwMF0sXG4gICAgZGVmYXVsdDogNFxuICB9LFxuICBqaXR0ZXJYU3ByZWFkOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCA1XSxcbiAgICBkZWZhdWx0OiAwLjUsXG4gICAgc3RlcDogMC4xXG4gIH0sXG4gIGppdHRlclk6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDEwMF0sXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBqaXR0ZXJZU3ByZWFkOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCA1XSxcbiAgICBkZWZhdWx0OiAwLjUsXG4gICAgc3RlcDogMC4xXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IG5lYXJlc3RcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAgaml0dGVyWDogb3B0aW9uVHlwZXMuaml0dGVyWC5kZWZhdWx0LFxuICBqaXR0ZXJYU3ByZWFkOiBvcHRpb25UeXBlcy5qaXR0ZXJYU3ByZWFkLmRlZmF1bHQsXG4gIGppdHRlclk6IG9wdGlvblR5cGVzLmppdHRlclkuZGVmYXVsdCxcbiAgaml0dGVyWVNwcmVhZDogb3B0aW9uVHlwZXMuaml0dGVyWVNwcmVhZC5kZWZhdWx0LFxuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDI1NlxuICAgIH1cbiAgfSlcbn07XG5cbmNvbnN0IGppdHR0ZXIgPSAoaW5wdXQsIG9wdGlvbnMgPSBkZWZhdWx0cykgPT4ge1xuICBjb25zdCB7XG4gICAgaml0dGVyWCxcbiAgICBqaXR0ZXJYU3ByZWFkLFxuICAgIGppdHRlclksXG4gICAgaml0dGVyWVNwcmVhZCxcbiAgICBwYWxldHRlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcbiAgY29uc3Qgaml0dGVyWU1hcCA9IFtdO1xuICBjb25zdCBqaXR0ZXJYTWFwID0gW107XG4gIGxldCBqaXR0ZXJGYWN0b3IgPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQud2lkdGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGppdHRlciA9IE1hdGgucmFuZG9tKCkgKiBqaXR0ZXJZO1xuICAgIGppdHRlckZhY3RvciArPSBqaXR0ZXI7XG4gICAgaml0dGVyWU1hcC5wdXNoKE1hdGgucm91bmQoaml0dGVyRmFjdG9yKSk7XG4gICAgaml0dGVyRmFjdG9yICo9IGppdHRlcllTcHJlYWQ7XG4gIH1cblxuICBqaXR0ZXJGYWN0b3IgPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQud2lkdGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGppdHRlciA9IE1hdGgucmFuZG9tKCkgKiBqaXR0ZXJYO1xuICAgIGppdHRlckZhY3RvciArPSBqaXR0ZXI7XG4gICAgaml0dGVyWE1hcC5wdXNoKE1hdGgucm91bmQoaml0dGVyRmFjdG9yKSk7XG4gICAgaml0dGVyRmFjdG9yICo9IGppdHRlclhTcHJlYWQ7XG4gIH1cblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpO1xuICAgICAgY29uc3QgakkgPSBnZXRCdWZmZXJJbmRleCgoeCArIGppdHRlcllNYXBbeF0pICUgaW5wdXQud2lkdGgsICh5ICsgaml0dGVyWE1hcFt5XSkgJSBpbnB1dC5oZWlnaHQsIGlucHV0LndpZHRoKTtcbiAgICAgIGNvbnN0IHBpeGVsID0gcmdiYShidWZbakldLCBidWZbakkgKyAxXSwgYnVmW2pJICsgMl0sIGJ1ZltqSSArIDNdKTtcbiAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5nZXRDb2xvcihwaXhlbCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGZpbGxCdWZmZXJQaXhlbChidWYsIGksIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGNvbG9yWzNdKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJKaXR0ZXJcIixcbiAgZnVuYzogaml0dHRlcixcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIG9wdGlvblR5cGVzLFxuICBkZWZhdWx0c1xufTsiLCJpbXBvcnQgeyBFTlVNLCBSQU5HRSB9IGZyb20gXCJjb25zdGFudHMvY29udHJvbFR5cGVzXCI7XG5pbXBvcnQgeyBjbG9uZUNhbnZhcywgZmlsbEJ1ZmZlclBpeGVsLCBnZXRCdWZmZXJJbmRleCwgcmdiYSwgYWRkLCBzY2FsZSwgc2NhbGVNYXRyaXggfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBTSEFSUEVOXzNYMyA9IFwiU0hBUlBFTl8zWDNcIjtcbmV4cG9ydCBjb25zdCBVTlNIQVJQXzVYNSA9IFwiVU5TSEFSUF81WDVcIjtcbmV4cG9ydCBjb25zdCBHQVVTU0lBTl8zWDMgPSBcIkdBVVNTSUFOXzNYM1wiO1xuZXhwb3J0IGNvbnN0IEdBVVNTSUFOXzNYM19XRUFLID0gXCJHQVVTU0lBTl8zWDNfV0VBS1wiO1xuZXhwb3J0IGNvbnN0IEdBVVNTSUFOXzVYNSA9IFwiR0FVU1NJQU5fNVg1XCI7XG5leHBvcnQgY29uc3QgRU1CT1NTXzNYMyA9IFwiRU1CT1NTXzNYM1wiO1xuZXhwb3J0IGNvbnN0IExBUExBQ0lBTl8zWDMgPSBcIkxBUExBQ0lBTl8zWDNcIjtcbmV4cG9ydCBjb25zdCBMQVBMQUNJQU5fNVg1ID0gXCJMQVBMQUNJQU5fNVg1XCI7XG5leHBvcnQgY29uc3QgQlJJR0hURU5fMF81WCA9IFwiQlJJR0hURU5fMF81WFwiO1xuZXhwb3J0IGNvbnN0IEJSSUdIVEVOXzJYID0gXCJCUklHSFRFTl8yWFwiO1xuZXhwb3J0IGNvbnN0IFNPQkVMX0hPUklaT05UQUwgPSBcIlNPQkVMX0hPUklaT05UQUxcIjtcbmV4cG9ydCBjb25zdCBTT0JFTF9WRVJUSUNBTCA9IFwiU09CRUxfVkVSVElDQUxcIjtcbmV4cG9ydCBjb25zdCBPVVRMSU5FXzNYMyA9IFwiT1VUTElORV8zWDNcIjtcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0tlcm5lbF8oaW1hZ2VfcHJvY2Vzc2luZylcbmV4cG9ydCBjb25zdCBrZXJuZWxzID0ge1xuICBbU0hBUlBFTl8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgbWF0cml4OiBbWzAsIC0xLCAwXSwgWy0xLCA1LCAtMV0sIFswLCAtMSwgMF1dXG4gIH0sXG4gIFtVTlNIQVJQXzVYNV06IHtcbiAgICB3aWR0aDogNSxcbiAgICBtYXRyaXg6IHNjYWxlTWF0cml4KFtbMSwgNCwgNiwgNCwgMV0sIFs0LCAxNiwgMjQsIDE2LCA0XSwgWzYsIDI0LCAtNDc2LCAyNCwgNl0sIFs0LCAxNiwgMjQsIDE2LCA0XSwgWzEsIDQsIDYsIDQsIDFdXSwgLTEgLyAyNTYpXG4gIH0sXG4gIFtHQVVTU0lBTl8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgbWF0cml4OiBzY2FsZU1hdHJpeChbWzEsIDIsIDFdLCBbMiwgNCwgMl0sIFsxLCAyLCAxXV0sIDEgLyAxNilcbiAgfSxcbiAgW0dBVVNTSUFOXzNYM19XRUFLXToge1xuICAgIHdpZHRoOiAzLFxuICAgIG1hdHJpeDogc2NhbGVNYXRyaXgoW1swLjUsIDEsIDAuNV0sIFsxLCAxMCwgMV0sIFswLjUsIDEsIDAuNV1dLCAxIC8gMTYpXG4gIH0sXG4gIFtHQVVTU0lBTl81WDVdOiB7XG4gICAgd2lkdGg6IDUsXG4gICAgbWF0cml4OiBzY2FsZU1hdHJpeChbWzEsIDQsIDYsIDQsIDFdLCBbNCwgMTYsIDI0LCAxNiwgNF0sIFs2LCAyNCwgMzYsIDI0LCA2XSwgWzQsIDE2LCAyNCwgMTYsIDRdLCBbMSwgNCwgNiwgNCwgMV1dLCAxIC8gMjU2KVxuICB9LFxuICBbQlJJR0hURU5fMlhdOiB7XG4gICAgd2lkdGg6IDEsXG4gICAgbWF0cml4OiBbWzJdXVxuICB9LFxuICBbQlJJR0hURU5fMF81WF06IHtcbiAgICB3aWR0aDogMSxcbiAgICBtYXRyaXg6IFtbMC41XV1cbiAgfSxcbiAgW0VNQk9TU18zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgbWF0cml4OiBbWy0yLCAtMSwgMF0sIFstMSwgMSwgMV0sIFswLCAxLCAyXV1cbiAgfSxcbiAgW0xBUExBQ0lBTl8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgbWF0cml4OiBbWzEsIDEsIDFdLCBbMSwgLTgsIDFdLCBbMSwgMSwgMV1dXG4gIH0sXG4gIFtMQVBMQUNJQU5fNVg1XToge1xuICAgIHdpZHRoOiA1LFxuICAgIG1hdHJpeDogW1sxLCAxLCAxLCAxLCAxXSwgWzEsIDEsIDEsIDEsIDFdLCBbMSwgMSwgLTI0LCAxLCAxXSwgWzEsIDEsIDEsIDEsIDFdLCBbMSwgMSwgMSwgMSwgMV1dXG4gIH0sXG4gIFtTT0JFTF9IT1JJWk9OVEFMXToge1xuICAgIHdpZHRoOiAzLFxuICAgIG1hdHJpeDogW1stMSwgLTIsIC0xXSwgWzAsIDAsIDBdLCBbMSwgMiwgMV1dXG4gIH0sXG4gIFtTT0JFTF9WRVJUSUNBTF06IHtcbiAgICB3aWR0aDogMyxcbiAgICBtYXRyaXg6IFtbLTEsIDAsIDFdLCBbLTIsIDAsIDJdLCBbLTEsIDAsIDFdXVxuICB9LFxuICBbT1VUTElORV8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgbWF0cml4OiBbWy0xLCAtMSwgLTFdLCBbLTEsIDgsIC0xXSwgWy0xLCAtMSwgLTFdXVxuICB9XG59O1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBrZXJuZWw6IHtcbiAgICB0eXBlOiBFTlVNLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICBuYW1lOiBcIlNoYXJwZW5cIixcbiAgICAgIHZhbHVlOiBTSEFSUEVOXzNYM1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiVW5zaGFycCBtYXNrIDXDlzVcIixcbiAgICAgIHZhbHVlOiBVTlNIQVJQXzVYNVxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiQnJpZ2h0ZW4gMC41eFwiLFxuICAgICAgdmFsdWU6IEJSSUdIVEVOXzBfNVhcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJyaWdodGVuIDJ4XCIsXG4gICAgICB2YWx1ZTogQlJJR0hURU5fMlhcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkVkZ2UgZGV0ZWN0aW9uIChMYXBsYWNpYW4gM8OXMylcIixcbiAgICAgIHZhbHVlOiBMQVBMQUNJQU5fM1gzXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJFZGdlIGRldGVjdGlvbiAoTGFwbGFjaWFuIDXDlzUpXCIsXG4gICAgICB2YWx1ZTogTEFQTEFDSUFOXzVYNVxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiU29iZWwgKGhvcml6b250YWwpXCIsXG4gICAgICB2YWx1ZTogU09CRUxfSE9SSVpPTlRBTFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiU29iZWwgKHZlcnRpY2FsKVwiLFxuICAgICAgdmFsdWU6IFNPQkVMX1ZFUlRJQ0FMXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJHYXVzc2lhbiBibHVyIDPDlzNcIixcbiAgICAgIHZhbHVlOiBHQVVTU0lBTl8zWDNcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkdhdXNzaWFuIGJsdXIgM8OXMyAod2VhaylcIixcbiAgICAgIHZhbHVlOiBHQVVTU0lBTl8zWDNfV0VBS1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiR2F1c3NpYW4gYmx1ciA1w5c1XCIsXG4gICAgICB2YWx1ZTogR0FVU1NJQU5fNVg1XG4gICAgfSwge1xuICAgICAgbmFtZTogXCJFbWJvc3MgM8OXM1wiLFxuICAgICAgdmFsdWU6IEVNQk9TU18zWDNcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIk91dGxpbmVcIixcbiAgICAgIHZhbHVlOiBPVVRMSU5FXzNYM1xuICAgIH1dLFxuICAgIGRlZmF1bHQ6IEdBVVNTSUFOXzNYM1xuICB9LFxuICBzdHJlbmd0aDoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbLTEwLCAxMF0sXG4gICAgc3RlcDogMC4xLFxuICAgIGRlZmF1bHQ6IDFcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAga2VybmVsOiBvcHRpb25UeXBlcy5rZXJuZWwuZGVmYXVsdCxcbiAgc3RyZW5ndGg6IG9wdGlvblR5cGVzLnN0cmVuZ3RoLmRlZmF1bHRcbn07XG5cbmNvbnN0IGNvbnZvbHZlID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdHMpID0+IHtcbiAgY29uc3Qga2VybmVsID0ga2VybmVsc1tvcHRpb25zLmtlcm5lbF07XG4gIGNvbnN0IG1hdHJpeCA9IHNjYWxlTWF0cml4KGtlcm5lbC5tYXRyaXgsIG9wdGlvbnMuc3RyZW5ndGgpO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcbiAgY29uc3Qgb3V0cHV0QXJyYXkgPSBBcnJheS5mcm9tKGJ1Zik7XG5cbiAgZm9yIChsZXQgeCA9IDA7IHggPCBpbnB1dC53aWR0aDsgeCArPSAxKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBpbnB1dC5oZWlnaHQ7IHkgKz0gMSkge1xuICAgICAgbGV0IGNvbG9yID0gcmdiYSgwLCAwLCAwLCAwKTtcblxuICAgICAgZm9yIChsZXQga3ggPSAwOyBreCA8IGtlcm5lbC53aWR0aDsga3ggKz0gMSkge1xuICAgICAgICBmb3IgKGxldCBreSA9IDA7IGt5IDwga2VybmVsLndpZHRoOyBreSArPSAxKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5mbG9vcihrZXJuZWwud2lkdGggLyAyKTtcbiAgICAgICAgICBjb25zdCBraSA9IGdldEJ1ZmZlckluZGV4KE1hdGgubWF4KDAsIHggKyBreCAtIG9mZnNldCksIE1hdGgubWF4KDAsIHkgKyBreSAtIG9mZnNldCksIGlucHV0LndpZHRoKTtcbiAgICAgICAgICBjb25zdCBrcHggPSByZ2JhKGJ1ZltraV0gfHwgMCwgYnVmW2tpICsgMV0gfHwgMCwgYnVmW2tpICsgMl0gfHwgMCwgYnVmW2tpICsgM10gfHwgMCk7XG4gICAgICAgICAgY29uc3Qga2ZhY3RvciA9IG1hdHJpeFtreV1ba3hdO1xuICAgICAgICAgIGNvbG9yID0gYWRkKGNvbG9yLCBzY2FsZShrcHgsIGtmYWN0b3IgfHwgMCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCBpbnB1dC53aWR0aCk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwob3V0cHV0QXJyYXksIGksIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGJ1ZltpICsgM10pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG91dHB1dEJ1ZiA9IG5ldyBVaW50OENsYW1wZWRBcnJheShvdXRwdXRBcnJheSk7XG4gIG91dHB1dEN0eC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YShvdXRwdXRCdWYsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCksIDAsIDApO1xuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcIkNvbnZvbHZlXCIsXG4gIGZ1bmM6IGNvbnZvbHZlLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImltcG9ydCB7IFJBTkdFLCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEsIGNvbnRyYXN0IGFzIGNvbnRyYXN0RnVuYywgYnJpZ2h0bmVzcyBhcyBicmlnaHRuZXNzRnVuYywgZ2FtbWEgYXMgZ2FtbWFGdW5jIH0gZnJvbSBcInV0aWxzXCI7XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIGJyaWdodG5lc3M6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWy0yNTUsIDI1NV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIGNvbnRyYXN0OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFstNDAsIDQwXSxcbiAgICBzdGVwOiAwLjEsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBleHBvc3VyZToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbLTQsIDRdLFxuICAgIHN0ZXA6IDAuMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIGdhbW1hOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFstMS41LCA3LjVdLFxuICAgIHN0ZXA6IDAuMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IHBhbGV0dGVzLm5lYXJlc3RcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAgYnJpZ2h0bmVzczogb3B0aW9uVHlwZXMuYnJpZ2h0bmVzcy5kZWZhdWx0LFxuICBjb250cmFzdDogb3B0aW9uVHlwZXMuY29udHJhc3QuZGVmYXVsdCxcbiAgZXhwb3N1cmU6IG9wdGlvblR5cGVzLmV4cG9zdXJlLmRlZmF1bHQsXG4gIGdhbW1hOiBvcHRpb25UeXBlcy5nYW1tYS5kZWZhdWx0LFxuICBwYWxldHRlOiBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHRcbn07XG5cbmNvbnN0IGJyaWdodG5lc3NDb250cmFzdCA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBicmlnaHRuZXNzLFxuICAgIGNvbnRyYXN0LFxuICAgIGV4cG9zdXJlLFxuICAgIGdhbW1hLFxuICAgIHBhbGV0dGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuICBjb25zdCBvdXRwdXRCdWYgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmKTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpO1xuICAgICAgY29uc3QgbmV3Q29sb3IgPSBnYW1tYUZ1bmMoY29udHJhc3RGdW5jKGJyaWdodG5lc3NGdW5jKHJnYmEoYnVmW2ldLCBidWZbaSArIDFdLCBidWZbaSArIDJdLCBidWZbaSArIDNdKSwgYnJpZ2h0bmVzcywgZXhwb3N1cmUpLCBjb250cmFzdCksIGdhbW1hKTtcbiAgICAgIGNvbnN0IGNvbCA9IHBhbGV0dGUuZ2V0Q29sb3IobmV3Q29sb3IsIHBhbGV0dGUub3B0aW9ucyk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwob3V0cHV0QnVmLCBpLCBjb2xbMF0sIGNvbFsxXSwgY29sWzJdLCBjb2xbM10pO1xuICAgIH1cbiAgfVxuXG4gIG91dHB1dEN0eC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YShvdXRwdXRCdWYsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCksIDAsIDApO1xuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcIkJyaWdodG5lc3MvQ29udHJhc3RcIixcbiAgZnVuYzogYnJpZ2h0bmVzc0NvbnRyYXN0LFxuICBvcHRpb25UeXBlcyxcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIGRlZmF1bHRzXG59OyIsImZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgbmVhcmVzdCB9IGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMgfSBmcm9tIFwidXRpbHNcIjtcbmltcG9ydCBjb252b2x2ZSwgeyBHQVVTU0lBTl8zWDNfV0VBSywgZGVmYXVsdHMgYXMgY29udm9sdmVEZWZhdWx0cyB9IGZyb20gXCIuL2NvbnZvbHZlXCI7XG5pbXBvcnQgaml0dGVyLCB7IGRlZmF1bHRzIGFzIGppdHRlckRlZmF1bHRzLCBvcHRpb25UeXBlcyBhcyBqaXR0ZXJPcHRpb25UeXBlcyB9IGZyb20gXCIuL2ppdHRlclwiO1xuaW1wb3J0IGJyaWdodG5lc3NDb250cmFzdCwgeyBkZWZhdWx0cyBhcyBicmlnaHRuZXNzQ29udHJhc3REZWZhdWx0cyB9IGZyb20gXCIuL2JyaWdodG5lc3NDb250cmFzdFwiO1xuaW1wb3J0IGNoYW5uZWxTZXBhcmF0aW9uLCB7IGRlZmF1bHRzIGFzIGNoYW5uZWxTZXBhcmF0aW9uRGVmYXVsdHMgfSBmcm9tIFwiLi9jaGFubmVsU2VwYXJhdGlvblwiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBqaXR0ZXJYOiBqaXR0ZXJPcHRpb25UeXBlcy5qaXR0ZXJYLFxuICBqaXR0ZXJYU3ByZWFkOiBqaXR0ZXJPcHRpb25UeXBlcy5qaXR0ZXJYU3ByZWFkXG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICBqaXR0ZXJYOiAxLFxuICBqaXR0ZXJYU3ByZWFkOiBqaXR0ZXJEZWZhdWx0cy5qaXR0ZXJYU3ByZWFkXG59O1xuXG5jb25zdCB2aHMgPSAoaW5wdXQsIG9wdGlvbnMgPSBkZWZhdWx0cykgPT4ge1xuICBjb25zdCB7XG4gICAgaml0dGVyWCxcbiAgICBqaXR0ZXJYU3ByZWFkXG4gIH0gPSBvcHRpb25zO1xuICBsZXQgb3V0cHV0ID0gY2xvbmVDYW52YXMoaW5wdXQsIGZhbHNlKTtcbiAgY29uc3QgaW5wdXRDdHggPSBpbnB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNvbnN0IG91dHB1dEN0eCA9IG91dHB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgaWYgKCFpbnB1dEN0eCB8fCAhb3V0cHV0Q3R4KSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgb3V0cHV0ID0gaml0dGVyLmZ1bmMoaW5wdXQsIF9vYmplY3RTcHJlYWQoe30sIGppdHRlckRlZmF1bHRzLCB7XG4gICAgaml0dGVyWCxcbiAgICBqaXR0ZXJYU3ByZWFkXG4gIH0pKTtcbiAgb3V0cHV0ID0gYnJpZ2h0bmVzc0NvbnRyYXN0LmZ1bmMob3V0cHV0LCBfb2JqZWN0U3ByZWFkKHt9LCBicmlnaHRuZXNzQ29udHJhc3REZWZhdWx0cywge1xuICAgIGJyaWdodG5lc3M6IDYwLFxuICAgIGNvbnRyYXN0OiAtMC4yLFxuICAgIGV4cG9zdXJlOiAwLjcsXG4gICAgZ2FtbWE6IDAuNixcbiAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBuZWFyZXN0LCB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGxldmVsczogMjU1XG4gICAgICB9XG4gICAgfSlcbiAgfSkpO1xuICBvdXRwdXQgPSBjaGFubmVsU2VwYXJhdGlvbi5mdW5jKG91dHB1dCwgX29iamVjdFNwcmVhZCh7fSwgY2hhbm5lbFNlcGFyYXRpb25EZWZhdWx0cywge1xuICAgIHJPZmZzZXRYOiAyLFxuICAgIHJPZmZzZXRZOiAyLFxuICAgIGdPZmZzZXRYOiAyLFxuICAgIGdPZmZzZXRZOiAxLFxuICAgIGJPZmZzZXRYOiAyLFxuICAgIGJPZmZzZXRZOiAxXG4gIH0pKTtcbiAgb3V0cHV0ID0gY29udm9sdmUuZnVuYyhvdXRwdXQsIF9vYmplY3RTcHJlYWQoe30sIGNvbnZvbHZlRGVmYXVsdHMsIHtcbiAgICBrZXJuZWw6IEdBVVNTSUFOXzNYM19XRUFLXG4gIH0pKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJWSFMgZW11bGF0aW9uXCIsXG4gIGZ1bmM6IHZocyxcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIG9wdGlvblR5cGVzLFxuICBkZWZhdWx0c1xufTsiLCJpbXBvcnQgeyBjbG9uZUNhbnZhcywgZmlsbEJ1ZmZlclBpeGVsLCBnZXRCdWZmZXJJbmRleCB9IGZyb20gXCJ1dGlsc1wiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge307XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7fTtcblxuY29uc3QgZ3JheXNjYWxlID0gaW5wdXQgPT4ge1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgaWYgKCFpbnB1dEN0eCB8fCAhb3V0cHV0Q3R4KSByZXR1cm4gaW5wdXQ7XG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuXG4gIGZvciAobGV0IHggPSAwOyB4IDwgaW5wdXQud2lkdGg7IHggKz0gMSkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaW5wdXQuaGVpZ2h0OyB5ICs9IDEpIHtcbiAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCBpbnB1dC53aWR0aCk7XG4gICAgICBjb25zdCBncmV5ID0gTWF0aC5yb3VuZCgoYnVmW2ldICsgYnVmW2kgKyAxXSArIGJ1ZltpICsgMl0pIC8gMyk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCBncmV5LCBncmV5LCBncmV5LCBidWZbaSArIDNdKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJHcmF5c2NhbGVcIixcbiAgZnVuYzogZ3JheXNjYWxlLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgUkFOR0UsIFBBTEVUVEUgfSBmcm9tIFwiY29uc3RhbnRzL2NvbnRyb2xUeXBlc1wiO1xuaW1wb3J0IHsgbmVhcmVzdCB9IGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBvcHRpb25UeXBlcyA9IHtcbiAgc2NhbGU6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAuMDEsIDFdLFxuICAgIHN0ZXA6IDAuMDEsXG4gICAgZGVmYXVsdDogMC4yNVxuICB9LFxuICBzY2FsZVhPdmVycmlkZToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgMV0sXG4gICAgc3RlcDogMC4wMSxcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIHNjYWxlWU92ZXJyaWRlOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjAxLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgcGFsZXR0ZToge1xuICAgIHR5cGU6IFBBTEVUVEUsXG4gICAgZGVmYXVsdDogbmVhcmVzdFxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICBzY2FsZTogb3B0aW9uVHlwZXMuc2NhbGUuZGVmYXVsdCxcbiAgc2NhbGVYT3ZlcnJpZGU6IG9wdGlvblR5cGVzLnNjYWxlWE92ZXJyaWRlLmRlZmF1bHQsXG4gIHNjYWxlWU92ZXJyaWRlOiBvcHRpb25UeXBlcy5zY2FsZVlPdmVycmlkZS5kZWZhdWx0LFxuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDI1NlxuICAgIH1cbiAgfSlcbn07XG5cbmNvbnN0IHBpeGVsYXRlID0gKGlucHV0LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzY2FsZSxcbiAgICBzY2FsZVhPdmVycmlkZSxcbiAgICBzY2FsZVlPdmVycmlkZSxcbiAgICBwYWxldHRlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgaWYgKCFpbnB1dEN0eCB8fCAhb3V0cHV0Q3R4KSByZXR1cm4gaW5wdXQ7XG4gIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICB0ZW1wLndpZHRoID0gaW5wdXQud2lkdGggKiAoc2NhbGVYT3ZlcnJpZGUgfHwgc2NhbGUpO1xuICB0ZW1wLmhlaWdodCA9IGlucHV0LmhlaWdodCAqIChzY2FsZVlPdmVycmlkZSB8fCBzY2FsZSk7XG4gIGNvbnN0IHRlbXBDdHggPSB0ZW1wLmdldENvbnRleHQoXCIyZFwiKTtcbiAgdGVtcEN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgdGVtcEN0eC5kcmF3SW1hZ2UoaW5wdXQsIDAsIDAsIGlucHV0LndpZHRoICogKHNjYWxlWE92ZXJyaWRlIHx8IHNjYWxlKSwgaW5wdXQuaGVpZ2h0ICogKHNjYWxlWU92ZXJyaWRlIHx8IHNjYWxlKSk7XG4gIGNvbnN0IGJ1ZiA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXAud2lkdGgsIHRlbXAuaGVpZ2h0KS5kYXRhO1xuXG4gIGZvciAobGV0IHggPSAwOyB4IDwgdGVtcC53aWR0aDsgeCArPSAxKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0ZW1wLmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgdGVtcC53aWR0aCk7XG4gICAgICBjb25zdCBwaXhlbCA9IHJnYmEoYnVmW2ldLCBidWZbaSArIDFdLCBidWZbaSArIDJdLCBidWZbaSArIDNdKTtcbiAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5nZXRDb2xvcihwaXhlbCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGZpbGxCdWZmZXJQaXhlbChidWYsIGksIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGJ1ZltpICsgM10pO1xuICAgIH1cbiAgfVxuXG4gIHRlbXBDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCB0ZW1wLndpZHRoLCB0ZW1wLmhlaWdodCksIDAsIDApO1xuICBvdXRwdXRDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIG91dHB1dEN0eC5kcmF3SW1hZ2UodGVtcCwgMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCk7XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6IFwiUGl4ZWxhdGVcIixcbiAgZnVuYzogcGl4ZWxhdGUsXG4gIG9wdGlvbnM6IGRlZmF1bHRzLFxuICBvcHRpb25UeXBlcyxcbiAgZGVmYXVsdHNcbn07IiwiaW1wb3J0IHsgRU5VTSwgUkFOR0UsIFBBTEVUVEUgfSBmcm9tIFwiY29uc3RhbnRzL2NvbnRyb2xUeXBlc1wiO1xuaW1wb3J0ICogYXMgcGFsZXR0ZXMgZnJvbSBcInBhbGV0dGVzXCI7XG5pbXBvcnQgeyBjbG9uZUNhbnZhcywgZmlsbEJ1ZmZlclBpeGVsLCBnZXRCdWZmZXJJbmRleCwgcmdiYSwgcmdiYTJoc3ZhLCByZ2JhMmxhYmEsIGx1bWluYW5jZSB9IGZyb20gXCJ1dGlsc1wiO1xuZXhwb3J0IGNvbnN0IERJUkVDVElPTiA9IHtcbiAgQ09MVU1OOiBcIkNPTFVNTlwiLFxuICBST1c6IFwiUk9XXCIsXG4gIFNQSVJBTDogXCJTUElSQUxcIixcbiAgU1BJUkFMX0NVVDogXCJTUElSQUxfQ1VUXCIsXG4gIERJQUdPTkFMX1RPUF9SSUdIVDogXCJESUFHT05BTF9UT1BfUklHSFRcIlxufTtcbmV4cG9ydCBjb25zdCBTT1JUX0RJUkVDVElPTiA9IHtcbiAgQVNDRU5ESU5HOiBcIkFTQ0VORElOR1wiLFxuICBERVNDRU5ESU5HOiBcIkRFU0NFTkRJTkdcIlxufTtcbmV4cG9ydCBjb25zdCBDT01QQVJBVE9SID0ge1xuICBMVU1JTkFOQ0U6IFwiTFVNSU5BTkNFXCIsXG4gIFJHQkE6IFwiUkdCQVwiLFxuICBHQlJBOiBcIkdCUkFcIixcbiAgQkdSQTogXCJCR1JBXCIsXG4gIEhTVkE6IFwiSFNWQVwiLFxuICBWU0hBOiBcIlZTSEFcIixcbiAgU1ZIQTogXCJTVkhBXCIsXG4gIExBQkE6IFwiTEFCQVwiLFxuICBBQkxBOiBcIkFCTEFcIixcbiAgQkFMQTogXCJCQUxBXCJcbn07XG5cbmNvbnN0IGNvbXBhcmVRdWFkbGV0ID0gKGEsIGIsIGRpcikgPT4ge1xuICBjb25zdCBkaXJNdWwgPSBkaXIgPT09IFNPUlRfRElSRUNUSU9OLkFTQ0VORElORyA/IDEgOiAtMTtcbiAgY29uc3QgcmQgPSAoYVswXSAtIGJbMF0pICogZGlyTXVsO1xuXG4gIGlmIChyZCAhPT0gMCkge1xuICAgIHJldHVybiByZDtcbiAgfVxuXG4gIGNvbnN0IGdkID0gKGFbMV0gLSBiWzFdKSAqIGRpck11bDtcblxuICBpZiAoZ2QgIT09IDApIHtcbiAgICByZXR1cm4gZ2Q7XG4gIH1cblxuICBjb25zdCBiZCA9IChhWzJdIC0gYlsyXSkgKiBkaXJNdWw7XG5cbiAgaWYgKGJkICE9PSAwKSB7XG4gICAgcmV0dXJuIGJkO1xuICB9XG5cbiAgY29uc3QgYWQgPSAoYVszXSAtIGJbM10pICogZGlyTXVsO1xuICByZXR1cm4gYWQ7XG59O1xuXG5leHBvcnQgY29uc3QgU09SVFMgPSB7XG4gIFtDT01QQVJBVE9SLlJHQkFdOiBjb21wYXJlUXVhZGxldCxcbiAgW0NPTVBBUkFUT1IuR0JSQV06IChhLCBiLCBkaXIpID0+IHtcbiAgICBjb25zdCBhcCA9IFthWzFdLCBhWzJdLCBhWzBdLCBhWzNdXTtcbiAgICBjb25zdCBicCA9IFtiWzFdLCBiWzJdLCBiWzBdLCBiWzNdXTtcbiAgICByZXR1cm4gY29tcGFyZVF1YWRsZXQoYXAsIGJwLCBkaXIpO1xuICB9LFxuICBbQ09NUEFSQVRPUi5CR1JBXTogKGEsIGIsIGRpcikgPT4ge1xuICAgIGNvbnN0IGFwID0gW2FbMl0sIGFbMV0sIGFbMF0sIGFbM11dO1xuICAgIGNvbnN0IGJwID0gW2JbMl0sIGJbMV0sIGJbMF0sIGJbM11dO1xuICAgIHJldHVybiBjb21wYXJlUXVhZGxldChhcCwgYnAsIGRpcik7XG4gIH0sXG4gIFtDT01QQVJBVE9SLkhTVkFdOiAoYVJnYmEsIGJSZ2JhLCBkaXIpID0+IHtcbiAgICBjb25zdCBhID0gcmdiYTJoc3ZhKGFSZ2JhKTtcbiAgICBjb25zdCBiID0gcmdiYTJoc3ZhKGJSZ2JhKTtcbiAgICByZXR1cm4gY29tcGFyZVF1YWRsZXQoYSwgYiwgZGlyKTtcbiAgfSxcbiAgW0NPTVBBUkFUT1IuSFNWQV06IChhUmdiYSwgYlJnYmEsIGRpcikgPT4ge1xuICAgIGNvbnN0IGEgPSByZ2JhMmhzdmEoYVJnYmEpO1xuICAgIGNvbnN0IGIgPSByZ2JhMmhzdmEoYlJnYmEpO1xuICAgIHJldHVybiBjb21wYXJlUXVhZGxldChhLCBiLCBkaXIpO1xuICB9LFxuICBbQ09NUEFSQVRPUi5TVkhBXTogKGFSZ2JhLCBiUmdiYSwgZGlyKSA9PiB7XG4gICAgY29uc3QgYSA9IHJnYmEyaHN2YShhUmdiYSk7XG4gICAgY29uc3QgYiA9IHJnYmEyaHN2YShiUmdiYSk7XG4gICAgY29uc3QgYXAgPSBbYVsxXSwgYVsyXSwgYVswXSwgYVszXV07XG4gICAgY29uc3QgYnAgPSBbYlsxXSwgYlsyXSwgYlswXSwgYlszXV07XG4gICAgcmV0dXJuIGNvbXBhcmVRdWFkbGV0KGFwLCBicCwgZGlyKTtcbiAgfSxcbiAgW0NPTVBBUkFUT1IuVlNIQV06IChhUmdiYSwgYlJnYmEsIGRpcikgPT4ge1xuICAgIGNvbnN0IGEgPSByZ2JhMmhzdmEoYVJnYmEpO1xuICAgIGNvbnN0IGIgPSByZ2JhMmhzdmEoYlJnYmEpO1xuICAgIGNvbnN0IGFwID0gW2FbMl0sIGFbMV0sIGFbMF0sIGFbM11dO1xuICAgIGNvbnN0IGJwID0gW2JbMl0sIGJbMV0sIGJbMF0sIGJbM11dO1xuICAgIHJldHVybiBjb21wYXJlUXVhZGxldChhcCwgYnAsIGRpcik7XG4gIH0sXG4gIFtDT01QQVJBVE9SLkxBQkFdOiAoYVJnYmEsIGJSZ2JhLCBkaXIpID0+IHtcbiAgICBjb25zdCBhID0gcmdiYTJsYWJhKGFSZ2JhKTtcbiAgICBjb25zdCBiID0gcmdiYTJsYWJhKGJSZ2JhKTtcbiAgICByZXR1cm4gY29tcGFyZVF1YWRsZXQoYSwgYiwgZGlyKTtcbiAgfSxcbiAgW0NPTVBBUkFUT1IuQUJMQV06IChhUmdiYSwgYlJnYmEsIGRpcikgPT4ge1xuICAgIGNvbnN0IGEgPSByZ2JhMmxhYmEoYVJnYmEpO1xuICAgIGNvbnN0IGIgPSByZ2JhMmxhYmEoYlJnYmEpO1xuICAgIGNvbnN0IGFwID0gW2FbMV0sIGFbMl0sIGFbMF0sIGFbM11dO1xuICAgIGNvbnN0IGJwID0gW2JbMV0sIGJbMl0sIGJbMF0sIGJbM11dO1xuICAgIHJldHVybiBjb21wYXJlUXVhZGxldChhcCwgYnAsIGRpcik7XG4gIH0sXG4gIFtDT01QQVJBVE9SLkJBTEFdOiAoYVJnYmEsIGJSZ2JhLCBkaXIpID0+IHtcbiAgICBjb25zdCBhID0gcmdiYTJsYWJhKGFSZ2JhKTtcbiAgICBjb25zdCBiID0gcmdiYTJsYWJhKGJSZ2JhKTtcbiAgICBjb25zdCBhcCA9IFthWzJdLCBhWzFdLCBhWzBdLCBhWzNdXTtcbiAgICBjb25zdCBicCA9IFtiWzJdLCBiWzFdLCBiWzBdLCBiWzNdXTtcbiAgICByZXR1cm4gY29tcGFyZVF1YWRsZXQoYXAsIGJwLCBkaXIpO1xuICB9LFxuICBbQ09NUEFSQVRPUi5MVU1JTkFOQ0VdOiAoYSwgYiwgZGlyKSA9PiB7XG4gICAgY29uc3QgZGlyTXVsID0gZGlyID09PSBTT1JUX0RJUkVDVElPTi5BU0NFTkRJTkcgPyAxIDogLTE7XG4gICAgY29uc3QgbHVtQSA9IGx1bWluYW5jZShhKTtcbiAgICBjb25zdCBsdW1CID0gbHVtaW5hbmNlKGIpO1xuICAgIHJldHVybiAobHVtQSAtIGx1bUIpICogZGlyTXVsO1xuICB9XG59O1xuXG5jb25zdCBzcGlyYWxJdGVyYXRvciA9IGVuZEludGVydmFsT25UdXJuID0+IGluaXQgPT4ge1xuICBsZXQge1xuICAgIHgsXG4gICAgeSxcbiAgICBpXG4gIH0gPSBpbml0O1xuICBjb25zdCB7XG4gICAgdyxcbiAgICBoXG4gIH0gPSBpbml0O1xuICB4ICs9IE1hdGguZmxvb3IodyAvIDIpO1xuICB5ICs9IE1hdGguZmxvb3IoaCAvIDIpO1xuICBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgdyk7XG4gIGxldCBlbmQgPSBmYWxzZTtcbiAgbGV0IGVuZEludGVydmFsID0gZmFsc2U7XG4gIGNvbnN0IERJUiA9IHtcbiAgICBOOiBcIk5cIixcbiAgICBTOiBcIlNcIixcbiAgICBFOiBcIkVcIixcbiAgICBXOiBcIldcIlxuICB9O1xuICBsZXQgZGlyID0gRElSLlM7XG4gIGNvbnN0IGxlbmd0aHMgPSB7XG4gICAgW0RJUi5OXToge1xuICAgICAgY3VyOiAwLFxuICAgICAgbWF4OiAyXG4gICAgfSxcbiAgICBbRElSLlNdOiB7XG4gICAgICBjdXI6IDAsXG4gICAgICBtYXg6IDFcbiAgICB9LFxuICAgIFtESVIuRV06IHtcbiAgICAgIGN1cjogMCxcbiAgICAgIG1heDogMVxuICAgIH0sXG4gICAgW0RJUi5XXToge1xuICAgICAgY3VyOiAwLFxuICAgICAgbWF4OiAyXG4gICAgfVxuICB9O1xuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIGRlYnVnZ2VyO1xuICAgIGlmIChlbmQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRSZXN1bHQgPSB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIHdyYXBYOiBmYWxzZSxcbiAgICAgIHdyYXBZOiBmYWxzZSxcbiAgICAgIGVuZEludGVydmFsXG4gICAgfTsgLy8gQWxsb3cgZmFsbHRocm91Z2ggbG9naWMhXG5cbiAgICBzd2l0Y2ggKGRpcikge1xuICAgICAgY2FzZSBESVIuTjpcbiAgICAgICAgaWYgKGxlbmd0aHNbZGlyXS5jdXIgPj0gbGVuZ3Roc1tkaXJdLm1heCB8fCB5ID09PSAwICYmIHggPiAwKSB7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLmN1ciA9IDA7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLm1heCArPSAyO1xuICAgICAgICAgIGRpciA9IERJUi5XO1xuICAgICAgICAgIGVuZEludGVydmFsID0gZW5kSW50ZXJ2YWxPblR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLmN1ciArPSAxO1xuICAgICAgICAgIHkgLT0gMTtcbiAgICAgICAgICBlbmRJbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgRElSLlc6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgaWYgKGxlbmd0aHNbZGlyXS5jdXIgPj0gbGVuZ3Roc1tkaXJdLm1heCB8fCB4ID09PSAwICYmIHkgPCBoKSB7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLmN1ciA9IDA7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLm1heCArPSAyO1xuICAgICAgICAgIGRpciA9IERJUi5TO1xuICAgICAgICAgIGVuZEludGVydmFsID0gZW5kSW50ZXJ2YWxPblR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVuZ3Roc1tkaXJdLmN1ciArPSAxO1xuICAgICAgICAgIHggLT0gMTtcbiAgICAgICAgICBlbmRJbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgRElSLlM6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgaWYgKGxlbmd0aHNbZGlyXS5jdXIgPj0gbGVuZ3Roc1tkaXJdLm1heCB8fCB5ID09PSBoIC0gMSAmJiB4IDwgaCkge1xuICAgICAgICAgIGxlbmd0aHNbZGlyXS5jdXIgPSAwO1xuICAgICAgICAgIGxlbmd0aHNbZGlyXS5tYXggKz0gMjtcbiAgICAgICAgICBkaXIgPSBESVIuRTtcbiAgICAgICAgICBlbmRJbnRlcnZhbCA9IGVuZEludGVydmFsT25UdXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxlbmd0aHNbZGlyXS5jdXIgKz0gMTtcbiAgICAgICAgICB5ICs9IDE7XG4gICAgICAgICAgZW5kSW50ZXJ2YWwgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIERJUi5FOlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgIGlmIChsZW5ndGhzW2Rpcl0uY3VyID49IGxlbmd0aHNbZGlyXS5tYXggfHwgeCA9PT0gdyAtIDEgJiYgeSA+IDApIHtcbiAgICAgICAgICBsZW5ndGhzW2Rpcl0uY3VyID0gMDtcbiAgICAgICAgICBsZW5ndGhzW2Rpcl0ubWF4ICs9IDI7XG4gICAgICAgICAgZGlyID0gRElSLk47XG4gICAgICAgICAgZW5kSW50ZXJ2YWwgPSBlbmRJbnRlcnZhbE9uVHVybjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZW5ndGhzW2Rpcl0uY3VyICs9IDE7XG4gICAgICAgICAgeCArPSAxO1xuICAgICAgICAgIGVuZEludGVydmFsID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gbGFzdCBwaXhlbFxuICAgICAgICBlbmQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgdyk7XG4gICAgZW5kID0gZW5kIHx8IGkgPj0gdyAqIGggKiA0OyAvLyBvciBvb2IsIHNvbWVob3dcbiAgICAvLyBGSVhNRTogU2hvdWxkbid0IGVuZCBhdCAoMCwgMCkgYnV0IGF0IGNvcnJlY3QgY29ybmVyXG5cbiAgICBpZiAoeCA9PT0gMCAmJiB5ID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgfTtcbn07IC8vIFJldHVybnMgYnVmZmVyIGluZGljZXNcblxuXG5leHBvcnQgY29uc3QgSVRFUkFUT1JTID0ge1xuICBbRElSRUNUSU9OLlJPV106IGluaXQgPT4ge1xuICAgIGxldCB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGlcbiAgICB9ID0gaW5pdDtcbiAgICBjb25zdCB7XG4gICAgICB3LFxuICAgICAgaFxuICAgIH0gPSBpbml0O1xuICAgIGxldCBlbmQgPSBmYWxzZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGVuZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd3JhcFggPSB4ID09PSB3O1xuICAgICAgY29uc3QgZW5kSW50ZXJ2YWwgPSB3cmFwWDsgLy8gVGVybWluYXRlIGludGVydmFscyBhdCBlbmRcblxuICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgaSxcbiAgICAgICAgdyxcbiAgICAgICAgaCxcbiAgICAgICAgd3JhcFgsXG4gICAgICAgIHdyYXBZOiBmYWxzZSxcbiAgICAgICAgZW5kSW50ZXJ2YWxcbiAgICAgIH07XG4gICAgICBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgdykgKyA0O1xuICAgICAgZW5kID0gaSA+PSB3ICogaCAqIDQ7XG4gICAgICB4ID0geCA9PT0gdyA/IDAgOiB4ICsgMTtcbiAgICAgIHkgPSB4ID09PSB3ID8geSArIDEgOiB5O1xuICAgICAgZW5kID0geSA+PSBoO1xuICAgICAgcmV0dXJuIG5leHRSZXN1bHQ7XG4gICAgfTtcbiAgfSxcbiAgW0RJUkVDVElPTi5DT0xVTU5dOiBpbml0ID0+IHtcbiAgICBsZXQge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBpXG4gICAgfSA9IGluaXQ7XG4gICAgY29uc3Qge1xuICAgICAgdyxcbiAgICAgIGhcbiAgICB9ID0gaW5pdDtcbiAgICBsZXQgZW5kID0gZmFsc2U7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHdyYXBZID0geSA9PT0gaDtcbiAgICAgIGNvbnN0IGVuZEludGVydmFsID0gd3JhcFk7IC8vIFRlcm1pbmF0ZSBpbnRlcnZhbHMgYXQgZW5kXG5cbiAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGksXG4gICAgICAgIHcsXG4gICAgICAgIGgsXG4gICAgICAgIHdyYXBYOiBmYWxzZSxcbiAgICAgICAgd3JhcFksXG4gICAgICAgIGVuZEludGVydmFsXG4gICAgICB9O1xuICAgICAgaSA9IGdldEJ1ZmZlckluZGV4KHgsIHksIHcpICsgNDtcbiAgICAgIGVuZCA9IGkgPj0gdyAqIGggKiA0O1xuICAgICAgeCA9IHkgPT09IGggPyB4ICsgMSA6IHg7XG4gICAgICB5ID0geSA9PT0gaCA/IDAgOiB5ICsgMTtcbiAgICAgIGVuZCA9IHggPj0gdztcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH07XG4gIH0sXG4gIFtESVJFQ1RJT04uU1BJUkFMX0NVVF06IHNwaXJhbEl0ZXJhdG9yKHRydWUpLFxuICBbRElSRUNUSU9OLlNQSVJBTF06IHNwaXJhbEl0ZXJhdG9yKGZhbHNlKSxcbiAgW0RJUkVDVElPTi5ESUFHT05BTF9UT1BfUklHSFRdOiBpbml0ID0+IHtcbiAgICBsZXQge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBpXG4gICAgfSA9IGluaXQ7XG4gICAgY29uc3Qge1xuICAgICAgdyxcbiAgICAgIGhcbiAgICB9ID0gaW5pdDtcbiAgICBsZXQgZW5kID0gZmFsc2U7XG4gICAgbGV0IHN0YXJ0WCA9IHg7XG4gICAgbGV0IHN0YXJ0WSA9IHk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHdyYXBZID0geSA9PT0gMDtcbiAgICAgIGNvbnN0IHdyYXBYID0geCA9PT0gdyAtIDE7XG4gICAgICBjb25zdCBlbmRJbnRlcnZhbCA9IHdyYXBZIHx8IHdyYXBYO1xuICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgaSxcbiAgICAgICAgdyxcbiAgICAgICAgaCxcbiAgICAgICAgd3JhcFgsXG4gICAgICAgIHdyYXBZLFxuICAgICAgICBlbmRJbnRlcnZhbFxuICAgICAgfTtcblxuICAgICAgaWYgKHggPT09IHcgLSAxIHx8IHkgPT09IDApIHtcbiAgICAgICAgaWYgKHN0YXJ0WSA+PSBoIC0gMSkge1xuICAgICAgICAgIHN0YXJ0WCArPSAxO1xuICAgICAgICAgIHggPSBzdGFydFg7XG4gICAgICAgICAgeSA9IGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXJ0WSArPSAxO1xuICAgICAgICAgIHkgPSBzdGFydFk7XG4gICAgICAgICAgeCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggKz0gMTtcbiAgICAgICAgeSAtPSAxO1xuICAgICAgfVxuXG4gICAgICBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgdyk7XG4gICAgICBlbmQgPSB4ID09PSB3IC0gMSAmJiB5ID09PSBoIC0gMTtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH07XG4gIH1cbn07XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIGRpcmVjdGlvbjoge1xuICAgIHR5cGU6IEVOVU0sXG4gICAgb3B0aW9uczogW3tcbiAgICAgIG5hbWU6IFwiUm93XCIsXG4gICAgICB2YWx1ZTogRElSRUNUSU9OLlJPV1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiQ29sdW1uXCIsXG4gICAgICB2YWx1ZTogRElSRUNUSU9OLkNPTFVNTlxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiU3BpcmFsXCIsXG4gICAgICB2YWx1ZTogRElSRUNUSU9OLlNQSVJBTFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiU3BpcmFsIChub24tY29udGludW91cylcIixcbiAgICAgIHZhbHVlOiBESVJFQ1RJT04uU1BJUkFMX0NVVFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiRGlhZ29uYWwgKHRvcC1yaWdodClcIixcbiAgICAgIHZhbHVlOiBESVJFQ1RJT04uRElBR09OQUxfVE9QX1JJR0hUXG4gICAgfV0sXG4gICAgZGVmYXVsdDogRElSRUNUSU9OLkNPTFVNTlxuICB9LFxuICBzb3J0RGlyZWN0aW9uOiB7XG4gICAgdHlwZTogRU5VTSxcbiAgICBvcHRpb25zOiBbe1xuICAgICAgbmFtZTogXCJBc2NlbmRpbmdcIixcbiAgICAgIHZhbHVlOiBTT1JUX0RJUkVDVElPTi5BU0NFTkRJTkdcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkRlc2NlbmRpbmdcIixcbiAgICAgIHZhbHVlOiBTT1JUX0RJUkVDVElPTi5ERVNDRU5ESU5HXG4gICAgfV0sXG4gICAgZGVmYXVsdDogU09SVF9ESVJFQ1RJT04uQVNDRU5ESU5HXG4gIH0sXG4gIGNvbXBhcmF0b3I6IHtcbiAgICB0eXBlOiBFTlVNLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICBuYW1lOiBcIlJHQkFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLlJHQkFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkdCUkFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkdCUkFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJHUkFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkJHUkFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkhTVkFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkhTVkFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIlNWSEFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLlNWSEFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIlZTSEFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLlZTSEFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkxBQkFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkxBQkFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkFCTEFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkFCTEFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJBTEFcIixcbiAgICAgIHZhbHVlOiBDT01QQVJBVE9SLkJBTEFcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkx1bWluYW5jZVwiLFxuICAgICAgdmFsdWU6IENPTVBBUkFUT1IuTFVNSU5BTkNFXG4gICAgfV0sXG4gICAgZGVmYXVsdDogQ09NUEFSQVRPUi5MVU1JTkFOQ0VcbiAgfSxcbiAgc29ydFBpeGVsTHVtaW5hbmNlQWJvdmU6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDI1NV0sXG4gICAgc3RlcDogMC41LFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgc29ydFBpeGVsTHVtaW5hbmNlQmVsb3c6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDI1NV0sXG4gICAgc3RlcDogMC41LFxuICAgIGRlZmF1bHQ6IDI1NVxuICB9LFxuICBzb3J0UGl4ZWxMdW1pbmFuY2VDaGFuZ2VBYm92ZToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbLTI1NSwgMjU1XSxcbiAgICBzdGVwOiAxLFxuICAgIGRlZmF1bHQ6IC0yNTVcbiAgfSxcbiAgc29ydFBpeGVsTHVtaW5hbmNlQ2hhbmdlQmVsb3c6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWy0yNTUsIDI1NV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAyNTVcbiAgfSxcbiAgZXh0cmFJbnRlcnZhbFN0YXJ0Q2hhbmNlOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjAxLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgbWF4SW50ZXJ2YWxTaXplOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCA1MDAwXSxcbiAgICBzdGVwOiAxLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgcGFsZXR0ZToge1xuICAgIHR5cGU6IFBBTEVUVEUsXG4gICAgZGVmYXVsdDogcGFsZXR0ZXMubmVhcmVzdFxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICBkaXJlY3Rpb246IG9wdGlvblR5cGVzLmRpcmVjdGlvbi5kZWZhdWx0LFxuICBzb3J0RGlyZWN0aW9uOiBvcHRpb25UeXBlcy5zb3J0RGlyZWN0aW9uLmRlZmF1bHQsXG4gIGNvbXBhcmF0b3I6IG9wdGlvblR5cGVzLmNvbXBhcmF0b3IuZGVmYXVsdCxcbiAgcGFsZXR0ZTogb3B0aW9uVHlwZXMucGFsZXR0ZS5kZWZhdWx0LFxuICBzb3J0UGl4ZWxMdW1pbmFuY2VBYm92ZTogb3B0aW9uVHlwZXMuc29ydFBpeGVsTHVtaW5hbmNlQWJvdmUuZGVmYXVsdCxcbiAgc29ydFBpeGVsTHVtaW5hbmNlQmVsb3c6IG9wdGlvblR5cGVzLnNvcnRQaXhlbEx1bWluYW5jZUJlbG93LmRlZmF1bHQsXG4gIHNvcnRQaXhlbEx1bWluYW5jZUNoYW5nZUFib3ZlOiBvcHRpb25UeXBlcy5zb3J0UGl4ZWxMdW1pbmFuY2VDaGFuZ2VBYm92ZS5kZWZhdWx0LFxuICBzb3J0UGl4ZWxMdW1pbmFuY2VDaGFuZ2VCZWxvdzogb3B0aW9uVHlwZXMuc29ydFBpeGVsTHVtaW5hbmNlQ2hhbmdlQmVsb3cuZGVmYXVsdCxcbiAgZXh0cmFJbnRlcnZhbFN0YXJ0Q2hhbmNlOiBvcHRpb25UeXBlcy5leHRyYUludGVydmFsU3RhcnRDaGFuY2UuZGVmYXVsdCxcbiAgbWF4SW50ZXJ2YWxTaXplOiBvcHRpb25UeXBlcy5tYXhJbnRlcnZhbFNpemUuZGVmYXVsdFxufTtcblxuY29uc3QgcGl4ZWxzb3J0RmlsdGVyID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGRpcmVjdGlvbixcbiAgICBzb3J0RGlyZWN0aW9uLFxuICAgIGNvbXBhcmF0b3IsXG4gICAgc29ydFBpeGVsTHVtaW5hbmNlQWJvdmUsXG4gICAgc29ydFBpeGVsTHVtaW5hbmNlQmVsb3csXG4gICAgc29ydFBpeGVsTHVtaW5hbmNlQ2hhbmdlQWJvdmUsXG4gICAgc29ydFBpeGVsTHVtaW5hbmNlQ2hhbmdlQmVsb3csXG4gICAgZXh0cmFJbnRlcnZhbFN0YXJ0Q2hhbmNlLFxuICAgIG1heEludGVydmFsU2l6ZSxcbiAgICBwYWxldHRlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcblxuICBjb25zdCBuZXdJbnRlcnZhbCA9ICgpID0+ICh7XG4gICAgdHJhaWw6IFtdLFxuICAgIHBpeGVsczogW11cbiAgfSk7XG5cbiAgbGV0IGludGVydmFsID0gbmV3SW50ZXJ2YWwoKTtcblxuICBjb25zdCBmaWxsSW50ZXJ2YWwgPSAoKSA9PiB7XG4gICAgaW50ZXJ2YWwucGl4ZWxzLnNvcnQoKGEsIGIpID0+IFNPUlRTW2NvbXBhcmF0b3JdKGEsIGIsIHNvcnREaXJlY3Rpb24pKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJ2YWwudHJhaWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGJ1ZklkeCA9IGludGVydmFsLnRyYWlsW2ldO1xuICAgICAgY29uc3QgcGl4ZWwgPSBpbnRlcnZhbC5waXhlbHNbaV07XG4gICAgICBjb25zdCBjb2wgPSBwYWxldHRlLmdldENvbG9yKHBpeGVsLCBwYWxldHRlLm9wdGlvbnMpO1xuICAgICAgZmlsbEJ1ZmZlclBpeGVsKGJ1ZiwgYnVmSWR4LCBjb2xbMF0sIGNvbFsxXSwgY29sWzJdLCBjb2xbM10pO1xuICAgIH1cblxuICAgIGludGVydmFsID0gbmV3SW50ZXJ2YWwoKTtcbiAgfTtcblxuICBsZXQgbGFzdEx1bSA9IG51bGw7XG4gIGxldCBjdXI7XG4gIGNvbnN0IGl0ZXJhdG9yID0gSVRFUkFUT1JTW2RpcmVjdGlvbl0oe1xuICAgIGk6IDAsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHc6IGlucHV0LndpZHRoLFxuICAgIGg6IGlucHV0LmhlaWdodFxuICB9KTtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cblxuICB3aGlsZSAoY3VyID0gaXRlcmF0b3IoKSkge1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICBjb25zdCBwaXhlbCA9IHJnYmEoYnVmW2N1ci5pXSwgYnVmW2N1ci5pICsgMV0sIGJ1ZltjdXIuaSArIDJdLCBidWZbY3VyLmkgKyAzXSk7XG4gICAgY29uc3QgbHVtID0gbHVtaW5hbmNlKHBpeGVsKTtcbiAgICBjb25zdCBsdW1EZWx0YSA9IGxhc3RMdW0gIT0gbnVsbCA/IGxhc3RMdW0gLSBsdW0gOiAwO1xuICAgIGxhc3RMdW0gPSBsdW07XG4gICAgY29uc3QgaW5MdW1pbm9zaXR5V2luZG93ID0gbHVtID49IHNvcnRQaXhlbEx1bWluYW5jZUFib3ZlICYmIGx1bSA8PSBzb3J0UGl4ZWxMdW1pbmFuY2VCZWxvdztcbiAgICBjb25zdCBlbm91Z2hMdW1pbm9zaXR5RGVsdGEgPSBsdW1EZWx0YSA+PSBzb3J0UGl4ZWxMdW1pbmFuY2VDaGFuZ2VBYm92ZSAmJiBsdW1EZWx0YSA8PSBzb3J0UGl4ZWxMdW1pbmFuY2VDaGFuZ2VCZWxvdztcblxuICAgIGlmIChpbnRlcnZhbC50cmFpbC5sZW5ndGggPiBtYXhJbnRlcnZhbFNpemUgJiYgbWF4SW50ZXJ2YWxTaXplID4gMCkge1xuICAgICAgZmlsbEludGVydmFsKCk7XG4gICAgfVxuXG4gICAgaWYgKGluTHVtaW5vc2l0eVdpbmRvdyAmJiBlbm91Z2hMdW1pbm9zaXR5RGVsdGEgfHwgTWF0aC5yYW5kb20oKSA8IGV4dHJhSW50ZXJ2YWxTdGFydENoYW5jZSkge1xuICAgICAgaW50ZXJ2YWwucGl4ZWxzLnB1c2gocGl4ZWwpO1xuICAgICAgaW50ZXJ2YWwudHJhaWwucHVzaChjdXIuaSk7IC8vIElmIGl0ZXJhdG9yIGZvcmNlcyBhbiBlbmQgb2YgYW4gaW50ZXJ2YWwgKGVnLiB4IHdyYXBwZWQgYXJvdW5kKVxuXG4gICAgICBpZiAoY3VyLmVuZEludGVydmFsKSB7XG4gICAgICAgIGZpbGxJbnRlcnZhbCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWwudHJhaWwubGVuZ3RoID4gMCkge1xuICAgICAgZmlsbEludGVydmFsKCk7XG4gICAgfVxuICB9IC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgaW50ZXJ2YWxcblxuXG4gIGlmIChpbnRlcnZhbC50cmFpbC5sZW5ndGggPiAwKSB7XG4gICAgZmlsbEludGVydmFsKCk7XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJQaXhlbHNvcnRcIixcbiAgZnVuYzogcGl4ZWxzb3J0RmlsdGVyLFxuICBvcHRpb25UeXBlcyxcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIGRlZmF1bHRzXG59OyIsIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcImFyZ3NJZ25vcmVQYXR0ZXJuXCI6IFwiXl9cIiB9XSAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tYml0d2lzZSAqL1xuLy8gbG90cyBvZiBtdXRhdGlvblxuaW1wb3J0IHsgZmlsdGVySW1hZ2UgfSBmcm9tIFwiYWN0aW9uc1wiO1xuaW1wb3J0IHsgQVNZTkNfRklMVEVSIH0gZnJvbSBcImNvbnN0YW50cy9hY3Rpb25UeXBlc1wiO1xuaW1wb3J0IHsgQk9PTCwgRU5VTSwgUkFOR0UgfSBmcm9tIFwiY29uc3RhbnRzL2NvbnRyb2xUeXBlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMgfSBmcm9tIFwidXRpbHNcIjtcbmltcG9ydCB7IGRlZmxhdGUsIGluZmxhdGUgfSBmcm9tIFwicGFrb1wiO1xuZXhwb3J0IGNvbnN0IElNQUdFX0pQRUcgPSBcIklNQUdFX0pQRUdcIjtcbmV4cG9ydCBjb25zdCBJTUFHRV9QTkcgPSBcIklNQUdFX1BOR1wiO1xuZXhwb3J0IGNvbnN0IElNQUdFX1dFQlAgPSBcIklNQUdFX1dFQlBcIjtcbmV4cG9ydCBjb25zdCBJTUFHRV9CTVAgPSBcIklNQUdFX0JNUFwiO1xuZXhwb3J0IGNvbnN0IElNQUdFX0lDTyA9IFwiSU1BR0VfSUNPXCI7XG5jb25zdCBmb3JtYXRNYXAgPSB7XG4gIFtJTUFHRV9KUEVHXTogXCJpbWFnZS9qcGVnXCIsXG4gIFtJTUFHRV9QTkddOiBcImltYWdlL3BuZ1wiLFxuICBbSU1BR0VfV0VCUF06IFwiaW1hZ2Uvd2VicFwiLFxuICBbSU1BR0VfQk1QXTogXCJpbWFnZS9naWZcIixcbiAgW0lNQUdFX0lDT106IFwiaW1hZ2UvaWNvXCJcbn07XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIGZvcm1hdDoge1xuICAgIHR5cGU6IEVOVU0sXG4gICAgb3B0aW9uczogW3tcbiAgICAgIG5hbWU6IFwiaW1hZ2UvanBlZ1wiLFxuICAgICAgdmFsdWU6IElNQUdFX0pQRUdcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcImltYWdlL3BuZ1wiLFxuICAgICAgdmFsdWU6IElNQUdFX1BOR1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaW1hZ2Uvd2VicFwiLFxuICAgICAgdmFsdWU6IElNQUdFX1dFQlBcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcImltYWdlL2JtcFwiLFxuICAgICAgdmFsdWU6IElNQUdFX0JNUFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiaW1hZ2UvaWNvXCIsXG4gICAgICB2YWx1ZTogSU1BR0VfSUNPXG4gICAgfV0sXG4gICAgZGVmYXVsdDogSU1BR0VfSlBFR1xuICB9LFxuICBlcnJvcnM6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDMwMF0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAzMFxuICB9LFxuICBlcnJUcmFuc3Bvc2U6IHtcbiAgICB0eXBlOiBCT09MLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgZXJyUmVwZWF0OiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBlcnJTdWJzdGl0dXRlOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGpwZWdRdWFsaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBzdGVwOiAwLjAxLFxuICAgIGRlZmF1bHQ6IDAuOTJcbiAgfVxufTtcbmNvbnN0IGRlZmF1bHRzID0ge1xuICBlcnJSZXBlYXQ6IG9wdGlvblR5cGVzLmVyclJlcGVhdC5kZWZhdWx0LFxuICBlcnJUcmFuc3Bvc2U6IG9wdGlvblR5cGVzLmVyclRyYW5zcG9zZS5kZWZhdWx0LFxuICBlcnJTdWJzdGl0dXRlOiBvcHRpb25UeXBlcy5lcnJTdWJzdGl0dXRlLmRlZmF1bHQsXG4gIGVycm9yczogb3B0aW9uVHlwZXMuZXJyb3JzLmRlZmF1bHQsXG4gIGZvcm1hdDogb3B0aW9uVHlwZXMuZm9ybWF0LmRlZmF1bHQsXG4gIGpwZWdRdWFsaXR5OiBvcHRpb25UeXBlcy5qcGVnUXVhbGl0eS5kZWZhdWx0XG59O1xuXG5jbGFzcyBQbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoLi4ucGFyYW1zKSB7XG4gICAgc3VwZXIoLi4ucGFyYW1zKTtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBQbmdFcnJvcik7XG4gIH1cblxufVxuXG5jb25zdCBjYW52YXNUb0Jsb2IgPSAoaW1hZ2UsIGZvcm1hdCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcbiAgaW1hZ2UudG9CbG9iKGJsb2IgPT4ge1xuICAgIHJlc29sdmUoYmxvYik7XG4gIH0sIGZvcm1hdE1hcFtmb3JtYXRdKTtcbn0pO1xuXG5jb25zdCBibG9iVG9JbWFnZSA9IGJsb2IgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBjb25zdCBjb3JydXB0ZWRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gIGNvcnJ1cHRlZEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICByZXNvbHZlKGNvcnJ1cHRlZEltYWdlKTtcbiAgfTtcblxuICBjb3JydXB0ZWRJbWFnZS5vbmVycm9yID0gZSA9PiB7XG4gICAgcmVqZWN0KGUpO1xuICB9O1xuXG4gIGNvcnJ1cHRlZEltYWdlLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59KTtcblxuY29uc3QgYmxvYlRvVWludDhBcnJheSA9IGJsb2IgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICBmaWxlUmVhZGVyLm9ubG9hZCA9IGV2ZW50ID0+IHtcbiAgICBpZiAoYmxvYi5zaXplID09PSBldmVudC50YXJnZXQucmVzdWx0LmJ5dGVMZW5ndGgpIHtcbiAgICAgIHJlc29sdmUobmV3IFVpbnQ4QXJyYXkoZXZlbnQudGFyZ2V0LnJlc3VsdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKFwiSSd2ZSBsb3N0IG15IG1pbmRcIikpO1xuICAgIH1cbiAgfTtcblxuICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBlID0+IHtcbiAgICByZWplY3QoZSk7XG4gIH07XG5cbiAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn0pO1xuXG5jb25zdCB0cmFuc2Zvcm1UcmFuc3Bvc2UgPSAoaGVhZGVyLCBpbnB1dCwgLi4uX3Jlc3QpID0+IHtcbiAgY29uc3QgaWR4ID0gaGVhZGVyICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGlucHV0Lmxlbmd0aCAtIGhlYWRlciAtIDEpKTtcbiAgY29uc3QgdG1wID0gaW5wdXRbaWR4XTtcbiAgaW5wdXRbaWR4XSA9IGlucHV0W2lkeCArIDFdO1xuICBpbnB1dFtpZHggKyAxXSA9IHRtcDtcbiAgcmV0dXJuIGlucHV0O1xufTtcblxuY29uc3QgdHJhbnNmb3JtU3Vic3RpdHV0ZSA9IChoZWFkZXIsIGlucHV0LCAuLi5fcmVzdCkgPT4ge1xuICBjb25zdCBieSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gIGNvbnN0IGlkeCA9IGhlYWRlciArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpbnB1dC5sZW5ndGggLSBoZWFkZXIpKTtcbiAgaW5wdXRbaWR4XSA9IGJ5O1xuICByZXR1cm4gaW5wdXQ7XG59O1xuXG5jb25zdCB0cmFuc2Zvcm1SZXBlYXQgPSAoaGVhZGVyLCBpbnB1dCwgLi4uX3Jlc3QpID0+IHtcbiAgY29uc3QgaWR4ID0gaGVhZGVyICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGlucHV0Lmxlbmd0aCAtIGhlYWRlcikpO1xuICBjb25zdCBieSA9IGlucHV0W2lkeF07XG4gIGNvbnN0IHJlcGVhdGVkQnVmID0gbmV3IFVpbnQ4QXJyYXkoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcGVhdGVkQnVmLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgcmVwZWF0ZWRCdWZbaV0gPSBieTtcbiAgfVxuXG4gIGNvbnN0IG5ld091dCA9IG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCArIHJlcGVhdGVkQnVmLmxlbmd0aCAtIDEpO1xuICBuZXdPdXQuc2V0KGlucHV0LnN1YmFycmF5KDAsIGlkeCksIDApO1xuICBsZXQgd3JvdGUgPSBpZHg7XG4gIG5ld091dC5zZXQocmVwZWF0ZWRCdWYsIHdyb3RlKTtcbiAgd3JvdGUgKz0gcmVwZWF0ZWRCdWYubGVuZ3RoO1xuICBuZXdPdXQuc2V0KGlucHV0LnN1YmFycmF5KGlkeCArIDEpLCB3cm90ZSk7XG4gIHJldHVybiBuZXdPdXQ7XG59O1xuXG5jb25zdCBzZXRVMzIgPSAoZGF0YSwgdmFsdWUpID0+IHtcbiAgY29uc3QgdG1wQnVmID0gbmV3IEFycmF5QnVmZmVyKDQpO1xuICBuZXcgRGF0YVZpZXcodG1wQnVmKS5zZXRVaW50MzIoMCwgdmFsdWUpO1xuICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4gIGRhdGFbMF0gPSBuZXcgVWludDhBcnJheSh0bXBCdWYpWzBdO1xuICBkYXRhWzFdID0gbmV3IFVpbnQ4QXJyYXkodG1wQnVmKVsxXTtcbiAgZGF0YVsyXSA9IG5ldyBVaW50OEFycmF5KHRtcEJ1ZilbMl07XG4gIGRhdGFbM10gPSBuZXcgVWludDhBcnJheSh0bXBCdWYpWzNdO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG59O1xuXG5jb25zdCBnZXRVMzIgPSBkYXRhID0+IHtcbiAgY29uc3QgdG1wQnVmID0gbmV3IEFycmF5QnVmZmVyKDQpO1xuICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4gIG5ldyBVaW50OEFycmF5KHRtcEJ1ZilbMF0gPSBkYXRhWzBdO1xuICBuZXcgVWludDhBcnJheSh0bXBCdWYpWzFdID0gZGF0YVsxXTtcbiAgbmV3IFVpbnQ4QXJyYXkodG1wQnVmKVsyXSA9IGRhdGFbMl07XG4gIG5ldyBVaW50OEFycmF5KHRtcEJ1ZilbM10gPSBkYXRhWzNdO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgcmV0dXJuIG5ldyBEYXRhVmlldyh0bXBCdWYpLmdldFVpbnQzMigwKTtcbn07XG5cbmNvbnN0IGNvbXB1dGVDcmMgPSAoZGF0YSwgY3JjQnVmKSA9PiB7XG4gIC8qIGVzbGludC1kaXNhYmxlICovXG4gIGZ1bmN0aW9uIGJ1aWxkQ1JDMzJUYWJsZShwb2x5KSB7XG4gICAgY29uc3QgdGFibGUgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcblxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgMjU2OyBuICs9IDEpIHtcbiAgICAgIGxldCBjID0gbjtcblxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCA4OyBrICs9IDEpIHtcbiAgICAgICAgaWYgKGMgJiAxKSB7XG4gICAgICAgICAgYyA9IHBvbHkgXiBjID4+PiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGMgPj4+PSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRhYmxlW25dID0gYyA+Pj4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFibGU7XG4gIH1cblxuICBjb25zdCB0YWJsZSA9IGJ1aWxkQ1JDMzJUYWJsZSgweGVkYjg4MzIwKTtcbiAgbGV0IGNyYyA9IDB4ZmZmZmZmZmY7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY3JjID0gY3JjID4+PiA4IF4gdGFibGVbKGNyYyBeIGRhdGFbaV0pICYgMHhmZl07XG4gIH1cblxuICBjcmMgXj0gMHhmZmZmZmZmZjtcbiAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gIHNldFUzMihjcmNCdWYsIGNyYyk7XG59O1xuXG5jb25zdCBwb3N0cHJvY2Vzc1BORyA9IGN0eCA9PiB7XG4gIGNvbnN0IENIVU5LX1NJWkUgPSA4MTkyOyAvLyBwcmV0dGllci1pZ25vcmVcblxuICBjb25zdCBwbmdIZWFkZXIgPSBuZXcgVWludDhBcnJheShbMHg4OSwgMHg1MCwgMHg0ZSwgMHg0NywgMHgwZCwgMHgwYSwgMHgxYSwgMHgwYV0pO1xuICBsZXQgb3V0U2l6ZSA9IHBuZ0hlYWRlci5sZW5ndGg7XG4gIGNvbnN0IGZpbHRlckRlZmxhdGUgPSBkZWZsYXRlKGN0eC5maWx0ZXIpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4LnNraXBwZWRCZWZvcmVJZGF0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgb3V0U2l6ZSArPSBjdHguc2tpcHBlZEJlZm9yZUlkYXRbaV0ubGVuZ3RoO1xuICB9XG5cbiAgZm9yIChsZXQgcyA9IDA7IHMgPCBmaWx0ZXJEZWZsYXRlLmxlbmd0aDsgcyArPSBDSFVOS19TSVpFKSB7XG4gICAgb3V0U2l6ZSArPSBmaWx0ZXJEZWZsYXRlLnN1YmFycmF5KHMsIHMgKyBDSFVOS19TSVpFKS5sZW5ndGggKyAxMjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4LnNraXBwZWRBZnRlcklkYXQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBvdXRTaXplICs9IGN0eC5za2lwcGVkQWZ0ZXJJZGF0W2ldLmxlbmd0aDtcbiAgfVxuXG4gIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KG91dFNpemUpO1xuICBsZXQgb3V0T2ZmID0gMDtcbiAgb3V0LnNldChwbmdIZWFkZXIsIG91dE9mZik7XG4gIG91dE9mZiArPSBwbmdIZWFkZXIubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4LnNraXBwZWRCZWZvcmVJZGF0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgb3V0LnNldChjdHguc2tpcHBlZEJlZm9yZUlkYXRbaV0sIG91dE9mZik7XG4gICAgb3V0T2ZmICs9IGN0eC5za2lwcGVkQmVmb3JlSWRhdFtpXS5sZW5ndGg7XG4gIH1cblxuICBmb3IgKGxldCBzID0gMDsgcyA8IGZpbHRlckRlZmxhdGUubGVuZ3RoOyBzICs9IENIVU5LX1NJWkUpIHtcbiAgICBjb25zdCBkYXRhID0gZmlsdGVyRGVmbGF0ZS5zdWJhcnJheShzLCBzICsgQ0hVTktfU0laRSk7XG4gICAgY29uc3QgY2h1bmtUbXAgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIDEyKTtcbiAgICBzZXRVMzIoY2h1bmtUbXAuc3ViYXJyYXkoMCwgNCksIGRhdGEubGVuZ3RoKTtcbiAgICBjaHVua1RtcFs0ICsgMF0gPSA3MztcbiAgICBjaHVua1RtcFs0ICsgMV0gPSA2ODtcbiAgICBjaHVua1RtcFs0ICsgMl0gPSA2NTtcbiAgICBjaHVua1RtcFs0ICsgM10gPSA4NDtcbiAgICBsZXQgY2h1bmtPZmZzZXQgPSA4O1xuICAgIGNodW5rVG1wLnNldChkYXRhLCBjaHVua09mZnNldCk7XG4gICAgY2h1bmtPZmZzZXQgKz0gZGF0YS5sZW5ndGg7XG4gICAgY29tcHV0ZUNyYyhjaHVua1RtcC5zdWJhcnJheSg0LCBjaHVua09mZnNldCksIGNodW5rVG1wLnN1YmFycmF5KGNodW5rT2Zmc2V0LCBjaHVua09mZnNldCArIDQpKTtcbiAgICBjaHVua09mZnNldCArPSA0O1xuICAgIG91dC5zZXQoY2h1bmtUbXAuc3ViYXJyYXkoMCwgY2h1bmtPZmZzZXQpLCBvdXRPZmYpO1xuICAgIG91dE9mZiArPSBjaHVua09mZnNldDtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3R4LnNraXBwZWRBZnRlcklkYXQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBvdXQuc2V0KGN0eC5za2lwcGVkQWZ0ZXJJZGF0W2ldLCBvdXRPZmYpO1xuICAgIG91dE9mZiArPSBjdHguc2tpcHBlZEFmdGVySWRhdFtpXS5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuY29uc3QgcHJlcHJvY2Vzc1BORyA9IGJ1ZmZlciA9PiB7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBjb25zdCBza2lwcGVkQmVmb3JlSWRhdCA9IFtdO1xuICBjb25zdCBza2lwcGVkQWZ0ZXJJZGF0ID0gW107IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gIGNvbnN0IHBuZ0hlYWRlciA9IG5ldyBVaW50OEFycmF5KFsweDg5LCAweDUwLCAweDRlLCAweDQ3LCAweDBkLCAweDBhLCAweDFhLCAweDBhXSk7XG5cbiAgZm9yICg7IG9mZnNldCA8IHBuZ0hlYWRlci5sZW5ndGg7IG9mZnNldCArPSAxKSB7XG4gICAgaWYgKGJ1ZmZlcltvZmZzZXRdICE9PSBwbmdIZWFkZXJbb2Zmc2V0XSkge1xuICAgICAgdGhyb3cgUG5nRXJyb3IoXCJpbnZhbGlkIG1hZ2ljXCIpO1xuICAgIH1cbiAgfVxuXG4gIGxldCBkYXRhQnl0ZXMgPSAwOyAvLyBtZWFzdXJlLlxuXG4gIGZvciAoOzspIHtcbiAgICBpZiAoYnVmZmVyLmxlbmd0aCA8IG9mZnNldCArIDQpIHtcbiAgICAgIHRocm93IFBuZ0Vycm9yKFwidHJ1bmNhdGVkXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aCA9IGdldFUzMihidWZmZXIuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyA0KSk7XG5cbiAgICBpZiAobGVuZ3RoIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWFjaGFibGU/XCIpO1xuICAgIH1cblxuICAgIG9mZnNldCArPSA0O1xuXG4gICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBvZmZzZXQgKyBsZW5ndGggKyA0KSB7XG4gICAgICAvLyBub3QgYSB2YWxpZCBQTkdcbiAgICAgIHRocm93IFBuZ0Vycm9yKFwidHJ1bmNhdGVkXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlclR5cGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDQpKTtcbiAgICBvZmZzZXQgKz0gNDtcbiAgICBkYXRhQnl0ZXMgKz0gbGVuZ3RoO1xuICAgIG9mZnNldCArPSBsZW5ndGg7XG4gICAgb2Zmc2V0ICs9IDQ7XG5cbiAgICBpZiAoaGVhZGVyVHlwZSA9PT0gXCJJRU5EXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIG9mZnNldCA9IDA7XG4gIGNvbnN0IGZpbHRlckRlZmxhdGVkID0gbmV3IFVpbnQ4QXJyYXkoZGF0YUJ5dGVzKTtcbiAgbGV0IG91dFBvcyA9IDA7XG4gIGxldCBiZWZvcmVJZGF0ID0gdHJ1ZTtcblxuICBmb3IgKDsgb2Zmc2V0IDwgcG5nSGVhZGVyLmxlbmd0aDsgb2Zmc2V0ICs9IDEpIHtcbiAgICBpZiAoYnVmZmVyW29mZnNldF0gIT09IHBuZ0hlYWRlcltvZmZzZXRdKSB7XG4gICAgICAvLyBub3QgYSBQTkdcbiAgICAgIHRocm93IFBuZ0Vycm9yKFwiaW52YWxpZCBtYWdpY1wiKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKDs7KSB7XG4gICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBvZmZzZXQgKyA0KSB7XG4gICAgICAvLyBub3QgYSB2YWxpZCBQTkdcbiAgICAgIHRocm93IFBuZ0Vycm9yKFwidHJ1bmNhdGVkXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGNodW5rU3RhcnQgPSBvZmZzZXQ7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0VTMyKGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDQpKTtcbiAgICBvZmZzZXQgKz0gNDtcblxuICAgIGlmIChsZW5ndGggPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlYWNoYWJsZT9cIik7XG4gICAgfVxuXG4gICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBvZmZzZXQgKyBsZW5ndGggKyA0KSB7XG4gICAgICAvLyBub3QgYSB2YWxpZCBQTkdcbiAgICAgIHRocm93IFBuZ0Vycm9yKFwidHJ1bmNhdGVkXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlclR5cGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIDQpKTtcbiAgICBvZmZzZXQgKz0gNDtcblxuICAgIGlmIChoZWFkZXJUeXBlID09PSBcIklEQVRcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBmaWx0ZXJEZWZsYXRlZFtvdXRQb3NdID0gYnVmZmVyW29mZnNldCArIGldO1xuICAgICAgICBvdXRQb3MgKz0gMTtcbiAgICAgIH1cblxuICAgICAgYmVmb3JlSWRhdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9mZnNldCArPSBsZW5ndGg7XG4gICAgb2Zmc2V0ICs9IDQ7XG5cbiAgICBpZiAoaGVhZGVyVHlwZSAhPT0gXCJJREFUXCIpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gYnVmZmVyLnN1YmFycmF5KGNodW5rU3RhcnQsIG9mZnNldCk7XG5cbiAgICAgIGlmIChiZWZvcmVJZGF0KSB7XG4gICAgICAgIHNraXBwZWRCZWZvcmVJZGF0LnB1c2goY2h1bmspO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2tpcHBlZEFmdGVySWRhdC5wdXNoKGNodW5rKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGVhZGVyVHlwZSA9PT0gXCJJRU5EXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmlsdGVyOiBpbmZsYXRlKGZpbHRlckRlZmxhdGVkKSxcbiAgICBza2lwcGVkQmVmb3JlSWRhdCxcbiAgICBza2lwcGVkQWZ0ZXJJZGF0XG4gIH07XG59O1xuXG5jb25zdCBnbGl0Y2hibG9iID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdHMsIGRpc3BhdGNoKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlcnJSZXBlYXQsXG4gICAgZXJyU3Vic3RpdHV0ZSxcbiAgICBlcnJUcmFuc3Bvc2UsXG4gICAgZXJyb3JzLFxuICAgIGZvcm1hdFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgb3V0cHV0ID0gY2xvbmVDYW52YXMoaW5wdXQsIGZhbHNlKTtcbiAgY29uc3QgaW5wdXRDdHggPSBpbnB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNvbnN0IG91dHB1dEN0eCA9IG91dHB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgaWYgKCFpbnB1dEN0eCB8fCAhb3V0cHV0Q3R4KSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgY29uc3QgY29ycnVwdFRoaXMgPSAoaW1hZ2UsIGZtdCkgPT4ge1xuICAgIGNvbnN0IHJldHJ5ID0gKGxpbWl0LCBwcm9taXNlQ2hhaW5GYWN0b3J5KSA9PiBwcm9taXNlQ2hhaW5GYWN0b3J5KCkuY2F0Y2goZSA9PiBuZXcgUHJvbWlzZSgocmVzbywgcmVqKSA9PiB7XG4gICAgICBpZiAobGltaXQgPT09IDApIHtcbiAgICAgICAgcmVqKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzbyhyZXRyeShsaW1pdCAtIDEsIHByb21pc2VDaGFpbkZhY3RvcnkpKTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBjb25zdCBjb3JydXB0b3IgPSBjb3JydXB0ZWRBcmcgPT4ge1xuICAgICAgbGV0IGNvcnJ1cHRlZCA9IGNvcnJ1cHRlZEFyZztcbiAgICAgIGxldCBjb250ZXh0O1xuICAgICAgbGV0IGhlYWRlciA9IE1hdGgucm91bmQoTWF0aC5taW4oMTAwLCAwLjkgKiBjb3JydXB0ZWQubGVuZ3RoKSk7XG5cbiAgICAgIGlmIChmbXQgPT09IElNQUdFX1BORykge1xuICAgICAgICBjb250ZXh0ID0gcHJlcHJvY2Vzc1BORyhjb3JydXB0ZWQpO1xuICAgICAgICBjb3JydXB0ZWQgPSBjb250ZXh0LmZpbHRlcjtcbiAgICAgICAgaGVhZGVyID0gMDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29ycnVwdG9ycyA9IFtdO1xuXG4gICAgICBpZiAoZXJyVHJhbnNwb3NlKSB7XG4gICAgICAgIGNvcnJ1cHRvcnMucHVzaCh0cmFuc2Zvcm1UcmFuc3Bvc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyU3Vic3RpdHV0ZSkge1xuICAgICAgICBjb3JydXB0b3JzLnB1c2godHJhbnNmb3JtU3Vic3RpdHV0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJSZXBlYXQpIHtcbiAgICAgICAgY29ycnVwdG9ycy5wdXNoKHRyYW5zZm9ybVJlcGVhdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3JydXB0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvcnM7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IGNJZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb3JydXB0b3JzLmxlbmd0aCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFggPSBjSWR4ICUgaW5wdXQud2lkdGg7XG4gICAgICAgICAgY29uc3QgY3VycmVudFkgPSBNYXRoLmZsb29yKGNJZHggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgY29ycnVwdGVkID0gY29ycnVwdG9yc1tjSWR4XShoZWFkZXIsIGNvcnJ1cHRlZCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgY3VycmVudFgsIGN1cnJlbnRZKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZm10ID09PSBJTUFHRV9QTkcgJiYgY29udGV4dCAhPSBudWxsKSB7XG4gICAgICAgIGNvcnJ1cHRlZCA9IHBvc3Rwcm9jZXNzUE5HKGNvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29ycnVwdGVkO1xuICAgIH07XG5cbiAgICByZXR1cm4gcmV0cnkoMTAsICgpID0+IGNhbnZhc1RvQmxvYihpbWFnZSwgZm9ybWF0KS50aGVuKGJsb2JUb1VpbnQ4QXJyYXkpLnRoZW4oY29ycnVwdG9yKS50aGVuKHU4YSA9PiBuZXcgQmxvYihbdThhXSwge1xuICAgICAgdHlwZTogZm9ybWF0TWFwW2Zvcm1hdF1cbiAgICB9KSkudGhlbihibG9iVG9JbWFnZSkpO1xuICB9O1xuXG4gIGNvcnJ1cHRUaGlzKGlucHV0LCBmb3JtYXQpLnRoZW4oaW1hZ2UgPT4ge1xuICAgIGRpc3BhdGNoKGZpbHRlckltYWdlKGltYWdlKSk7XG4gIH0pO1xuICByZXR1cm4gQVNZTkNfRklMVEVSO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcIkdsaXRjaFwiLFxuICBmdW5jOiBnbGl0Y2hibG9iLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgUEFMRVRURSwgUkFOR0UsIFNUUklORywgQk9PTCB9IGZyb20gXCJjb25zdGFudHMvY29udHJvbFR5cGVzXCI7XG5pbXBvcnQgeyBuZWFyZXN0IH0gZnJvbSBcInBhbGV0dGVzXCI7XG5pbXBvcnQgeyBjbG9uZUNhbnZhcywgZ2V0QnVmZmVySW5kZXgsIHJnYmEgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBvcHRpb25UeXBlcyA9IHtcbiAgc2l6ZToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgSW5maW5pdHldLFxuICAgIGRlZmF1bHQ6IDZcbiAgfSxcbiAgLy8gZGlhbWV0ZXIgb2YgaW5wdXRcbiAgc2l6ZU11bHRpcGxpZXI6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDVdLFxuICAgIHN0ZXA6IDAuMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIC8vIGRpYW1ldGVyIG9mIG91dHB1dFxuICBvZmZzZXQ6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDNdLFxuICAgIHN0ZXA6IDAuMSxcbiAgICBkZWZhdWx0OiAwLjNcbiAgfSxcbiAgbGV2ZWxzOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAyNTVdLFxuICAgIGRlZmF1bHQ6IDMyXG4gIH0sXG4gIC8vIG5vLiBvZiBjaXJjbGUgc2l6ZXNcbiAgcGFsZXR0ZToge1xuICAgIHR5cGU6IFBBTEVUVEUsXG4gICAgZGVmYXVsdDogbmVhcmVzdFxuICB9LFxuICBzcXVhcmVEb3RzOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBiYWNrZ3JvdW5kOiB7XG4gICAgdHlwZTogU1RSSU5HLFxuICAgIGRlZmF1bHQ6IFwiYmxhY2tcIlxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICBzaXplOiBvcHRpb25UeXBlcy5zaXplLmRlZmF1bHQsXG4gIHNpemVNdWx0aXBsaWVyOiBvcHRpb25UeXBlcy5zaXplTXVsdGlwbGllci5kZWZhdWx0LFxuICBvZmZzZXQ6IG9wdGlvblR5cGVzLm9mZnNldC5kZWZhdWx0LFxuICBsZXZlbHM6IG9wdGlvblR5cGVzLmxldmVscy5kZWZhdWx0LFxuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDhcbiAgICB9XG4gIH0pLFxuICBzcXVhcmVEb3RzOiBvcHRpb25UeXBlcy5zcXVhcmVEb3RzLmRlZmF1bHQsXG4gIGJhY2tncm91bmQ6IG9wdGlvblR5cGVzLmJhY2tncm91bmQuZGVmYXVsdFxufTtcblxuY29uc3QgaGFsZnRvbmUgPSAoaW5wdXQsIG9wdGlvbnMgPSBkZWZhdWx0cykgPT4ge1xuICBjb25zdCBnZXRPZmZzZXQgPSAocmFkaWFucywgcmFkaXVzLCB4MCwgeTApID0+IHtcbiAgICBjb25zdCB4ID0geDAgKyByYWRpdXMgKiBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgICBjb25zdCB5ID0geTAgKyByYWRpdXMgKiBNYXRoLnNpbihyYWRpYW5zKTtcbiAgICByZXR1cm4gW3gsIHldO1xuICB9O1xuXG4gIGNvbnN0IHtcbiAgICBiYWNrZ3JvdW5kLFxuICAgIHBhbGV0dGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHNpemUgPSBwYXJzZUludChvcHRpb25zLnNpemUsIDEwKTtcbiAgY29uc3Qgb3V0cHV0ID0gY2xvbmVDYW52YXMoaW5wdXQsIGZhbHNlKTtcbiAgY29uc3QgaW5wdXRDdHggPSBpbnB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNvbnN0IG91dHB1dEN0eCA9IG91dHB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgaWYgKCFpbnB1dEN0eCB8fCAhb3V0cHV0Q3R4KSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgb3V0cHV0Q3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic2NyZWVuXCI7XG5cbiAgaWYgKHR5cGVvZiBiYWNrZ3JvdW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgb3V0cHV0Q3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmQ7XG4gICAgb3V0cHV0Q3R4LmZpbGxSZWN0KDAsIDAsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCk7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTsgLy8gVE9ETzogaGFuZGxlIGVkZ2VzXG5cbiAgZm9yIChsZXQgeCA9IDA7IHggPCBpbnB1dC53aWR0aDsgeCArPSBzaXplKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBpbnB1dC5oZWlnaHQ7IHkgKz0gc2l6ZSkge1xuICAgICAgY29uc3QgbWVhbkNvbG9yID0gcmdiYSgwLCAwLCAwLCAwKTtcbiAgICAgIGNvbnN0IHBpeGVscyA9IHNpemUgKiBzaXplO1xuXG4gICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHNpemU7IHcgKz0gMSkge1xuICAgICAgICBmb3IgKGxldCBoID0gMDsgaCA8IHNpemU7IGggKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHNvdXJjZUlkeCA9IGdldEJ1ZmZlckluZGV4KHggKyB3LCB5ICsgaCwgb3V0cHV0LndpZHRoKTtcblxuICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgNDsgYyArPSAxKSB7XG4gICAgICAgICAgICBtZWFuQ29sb3JbY10gKz0gYnVmW3NvdXJjZUlkeCArIGNdIC8gcGl4ZWxzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBGSVhNRTogdGhpcyBpcyB3cm9uZyg/KSwgc2hvdWxkIGFwcGx5IG5lYXJlc3QgaGVyZSBhbmQgcGFsZXR0ZSBsYXRlciBpbiBjb2xvcnNcbiAgICAgIC8vIHJnYmEoMjU1LCAwLCAwKSBzaG91bGQgYmUgbWF0Y2hlZCB0byByZWQ/XG5cblxuICAgICAgY29uc3QgcXVhbnRpemVkQ29sb3IgPSBwYWxldHRlLmdldENvbG9yKG1lYW5Db2xvciwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGNvbnN0IHJhZGlpID0gcXVhbnRpemVkQ29sb3IubWFwKGMgPT4gYyAqIChzaXplIC8gMiAvIDI1NSkgKiBvcHRpb25zLnNpemVNdWx0aXBsaWVyKTtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IFtgcmdiYSgyNTUsIDAsIDAsICR7bWVhbkNvbG9yWzNdIC8gMjU1fWAsIGByZ2JhKDAsIDI1NSwgMCwgJHttZWFuQ29sb3JbM10gLyAyNTV9YCwgYHJnYmEoMCwgMCwgMjU1LCAke21lYW5Db2xvclszXSAvIDI1NX1gXTtcbiAgICAgIGNvbnN0IGNlbnRlclggPSB4ICsgc2l6ZSAvIDI7XG4gICAgICBjb25zdCBjZW50ZXJZID0geSArIHNpemUgLyAyO1xuICAgICAgY29uc3Qgb2Zmc2V0RGlzdGFuY2UgPSBzaXplICogb3B0aW9ucy5vZmZzZXQ7XG4gICAgICBjb25zdCBjZW50ZXJzID0gW2dldE9mZnNldCgyICogTWF0aC5QSSAvIDMsIG9mZnNldERpc3RhbmNlLCBjZW50ZXJYLCBjZW50ZXJZKSwgZ2V0T2Zmc2V0KDIgKiAyICogTWF0aC5QSSAvIDMsIG9mZnNldERpc3RhbmNlLCBjZW50ZXJYLCBjZW50ZXJZKSwgZ2V0T2Zmc2V0KDIgKiBNYXRoLlBJLCBvZmZzZXREaXN0YW5jZSwgY2VudGVyWCwgY2VudGVyWSldO1xuXG4gICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDM7IGMgKz0gMSkge1xuICAgICAgICBpZiAob3B0aW9ucy5zcXVhcmVEb3RzKSB7XG4gICAgICAgICAgb3V0cHV0Q3R4LmZpbGxTdHlsZSA9IGNvbG9yc1tjXTtcbiAgICAgICAgICBvdXRwdXRDdHguZmlsbFJlY3QoY2VudGVyc1tjXVswXSwgY2VudGVyc1tjXVsxXSwgcmFkaWlbY10sIHJhZGlpW2NdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDaXJjbGVcbiAgICAgICAgICBvdXRwdXRDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgb3V0cHV0Q3R4LmFyYyhjZW50ZXJzW2NdWzBdLCBjZW50ZXJzW2NdWzFdLCByYWRpaVtjXSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgIG91dHB1dEN0eC5maWxsU3R5bGUgPSBjb2xvcnNbY107XG4gICAgICAgICAgb3V0cHV0Q3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG91dHB1dEN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6IFwiSGFsZnRvbmVcIixcbiAgZnVuYzogaGFsZnRvbmUsXG4gIG9wdGlvbnM6IGRlZmF1bHRzLFxuICBvcHRpb25UeXBlcyxcbiAgZGVmYXVsdHNcbn07IiwiaW1wb3J0IHsgQk9PTCB9IGZyb20gXCJjb25zdGFudHMvY29udHJvbFR5cGVzXCI7XG5pbXBvcnQgeyBjbG9uZUNhbnZhcywgZmlsbEJ1ZmZlclBpeGVsLCBnZXRCdWZmZXJJbmRleCB9IGZyb20gXCJ1dGlsc1wiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBpbnZlcnRSOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGludmVydEc6IHtcbiAgICB0eXBlOiBCT09MLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgaW52ZXJ0Qjoge1xuICAgIHR5cGU6IEJPT0wsXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBpbnZlcnRBOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0ge1xuICBpbnZlcnRSOiBvcHRpb25UeXBlcy5pbnZlcnRSLmRlZmF1bHQsXG4gIGludmVydEc6IG9wdGlvblR5cGVzLmludmVydEcuZGVmYXVsdCxcbiAgaW52ZXJ0Qjogb3B0aW9uVHlwZXMuaW52ZXJ0Qi5kZWZhdWx0LFxuICBpbnZlcnRBOiBvcHRpb25UeXBlcy5pbnZlcnRBLmRlZmF1bHRcbn07XG5cbmNvbnN0IGludmVydCA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHJldHVybiBpbnB1dDtcbiAgY29uc3QgYnVmID0gaW5wdXRDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQpLmRhdGE7XG5cbiAgZm9yIChsZXQgeCA9IDA7IHggPCBpbnB1dC53aWR0aDsgeCArPSAxKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBpbnB1dC5oZWlnaHQ7IHkgKz0gMSkge1xuICAgICAgY29uc3QgaSA9IGdldEJ1ZmZlckluZGV4KHgsIHksIGlucHV0LndpZHRoKTtcbiAgICAgIGNvbnN0IHIgPSBvcHRpb25zLmludmVydFIgPyAyNTUgLSBidWZbaV0gOiBidWZbaV07XG4gICAgICBjb25zdCBnID0gb3B0aW9ucy5pbnZlcnRHID8gMjU1IC0gYnVmW2kgKyAxXSA6IGJ1ZltpICsgMV07XG4gICAgICBjb25zdCBiID0gb3B0aW9ucy5pbnZlcnRCID8gMjU1IC0gYnVmW2kgKyAyXSA6IGJ1ZltpICsgMl07XG4gICAgICBjb25zdCBhID0gb3B0aW9ucy5pbnZlcnRBID8gMjU1IC0gYnVmW2kgKyAzXSA6IGJ1ZltpICsgM107XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCByLCBnLCBiLCBhKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJJbnZlcnRcIixcbiAgZnVuYzogaW52ZXJ0LFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IHsgRU5VTSwgUEFMRVRURSwgUkFOR0UgfSBmcm9tIFwiY29uc3RhbnRzL2NvbnRyb2xUeXBlc1wiO1xuaW1wb3J0IHsgbmVhcmVzdCB9IGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEsIHNjYWxlTWF0cml4IH0gZnJvbSBcInV0aWxzXCI7XG5leHBvcnQgY29uc3QgQkFZRVJfMlgyID0gXCJCQVlFUl8yWDJcIjtcbmV4cG9ydCBjb25zdCBCQVlFUl8zWDMgPSBcIkJBWUVSXzNYM1wiO1xuZXhwb3J0IGNvbnN0IEJBWUVSXzRYNCA9IFwiQkFZRVJfNFg0XCI7XG5leHBvcnQgY29uc3QgQkFZRVJfOFg4ID0gXCJCQVlFUl84WDhcIjtcbmV4cG9ydCBjb25zdCBCQVlFUl8xNlgxNiA9IFwiQkFZRVJfMTZYMTZcIjtcbmV4cG9ydCBjb25zdCBTUVVBUkVfNVg1ID0gXCJTUVVBUkVfNVg1XCI7XG5leHBvcnQgY29uc3QgQ09STkVSXzRYNCA9IFwiQ09STkVSXzRYNFwiO1xuZXhwb3J0IGNvbnN0IEJMT0NLX1ZFUlRJQ0FMXzRYNCA9IFwiQkxPQ0tfVkVSVElDQUxfNFg0XCI7XG5leHBvcnQgY29uc3QgQkxPQ0tfSE9SSVpPTlRBTF80WDQgPSBcIkJMT0NLX0hPUklaT05UQUxfNFg0XCI7XG5leHBvcnQgY29uc3QgSEFUQ0hfMlgyID0gXCJIQVRDSF8yWDJcIjtcbmV4cG9ydCBjb25zdCBIQVRDSF8zWDMgPSBcIkhBVENIXzNYM1wiO1xuZXhwb3J0IGNvbnN0IEhBVENIXzRYNCA9IFwiSEFUQ0hfNFg0XCI7XG5leHBvcnQgY29uc3QgQUxURVJOQVRFXzNYMyA9IFwiQUxURVJOQVRFXzNYM1wiO1xuZXhwb3J0IGNvbnN0IERJU1BFUlNFRF9ET1RfM1gzID0gXCJESVNQRVJTRURfRE9UXzNYM1wiO1xuZXhwb3J0IGNvbnN0IFBBVFRFUk5fNVg1ID0gXCJQQVRURVJOXzVYNVwiO1xuLy8gbWFwW3ldW3hdXG5jb25zdCB0aHJlc2hvbGRNYXBzID0ge1xuICBbQkFZRVJfMlgyXToge1xuICAgIHdpZHRoOiAyLFxuICAgIHRocmVzaG9sZE1hcDogc2NhbGVNYXRyaXgoW1swLCAyXSwgWzMsIDFdXSwgMSAvIDQpXG4gIH0sXG4gIFtCQVlFUl8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgdGhyZXNob2xkTWFwOiBzY2FsZU1hdHJpeChbWzAsIDcsIDNdLCBbNiwgNSwgMl0sIFs0LCAxLCA4XV0sIDEgLyA5KVxuICB9LFxuICBbQkFZRVJfNFg0XToge1xuICAgIHdpZHRoOiA0LFxuICAgIHRocmVzaG9sZE1hcDogc2NhbGVNYXRyaXgoW1swLCA4LCAyLCAxMF0sIFsxMiwgNCwgMTQsIDZdLCBbMywgMTEsIDEsIDldLCBbMTUsIDcsIDEzLCA1XV0sIDEgLyAxNilcbiAgfSxcbiAgW0JBWUVSXzhYOF06IHtcbiAgICB3aWR0aDogOCxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMCwgNDgsIDEyLCA2MCwgMywgNTEsIDE1LCA2M10sIFszMiwgMTYsIDQ0LCAyOCwgMzUsIDE5LCA0NywgMzFdLCBbOCwgNTYsIDQsIDUyLCAxMSwgNTksIDcsIDU1XSwgWzQwLCAyNCwgMzYsIDIwLCA0MywgMjcsIDM5LCAyM10sIFsyLCA1MCwgMTQsIDYyLCAxLCA0OSwgMTMsIDYxXSwgWzM0LCAxOCwgNDYsIDMwLCAzMywgMTcsIDQ1LCAyOV0sIFsxMCwgNTgsIDYsIDU0LCA5LCA1NywgNSwgNTNdLCBbNDIsIDI2LCAzOCwgMjIsIDQxLCAyNSwgMzcsIDIxXV0sIDEgLyA2NClcbiAgfSxcbiAgW0JBWUVSXzE2WDE2XToge1xuICAgIHdpZHRoOiAxNixcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KCAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBbWzAsIDE5MiwgNDgsIDI0MCwgMTIsIDIwNCwgNjAsIDI1MiwgMywgMTk1LCA1MSwgMjQzLCAxNSwgMjA3LCA2MywgMjU1XSwgWzEyOCwgNjQsIDE3NiwgMTEyLCAxNDAsIDc2LCAxODgsIDEyNCwgMTMxLCA2NywgMTc5LCAxMTUsIDE0MywgNzksIDE5MSwgMTI3XSwgWzMyLCAyMjQsIDE2LCAyMDgsIDQ0LCAyMzYsIDI4LCAyMjAsIDM1LCAyMjcsIDE5LCAyMTEsIDQ3LCAyMzksIDMxLCAyMjNdLCBbMTYwLCA5NiwgMTQ0LCA4MCwgMTcyLCAxMDgsIDE1NiwgOTIsIDE2MywgOTksIDE0NywgODMsIDE3NSwgMTExLCAxNTksIDk1XSwgWzgsIDIwMCwgNTYsIDI0OCwgNCwgMTk2LCA1MiwgMjQ0LCAxMSwgMjAzLCA1OSwgMjUxLCA3LCAxOTksIDU1LCAyNDddLCBbMTM2LCA3MiwgMTg0LCAxMjAsIDEzMiwgNjgsIDE4MCwgMTE2LCAxMzksIDc1LCAxODcsIDEyMywgMTM1LCA3MSwgMTgzLCAxMTldLCBbNDAsIDIzMiwgMjQsIDIxNiwgMzYsIDIyOCwgMjAsIDIxMiwgNDMsIDIzNSwgMjcsIDIxOSwgMzksIDIzMSwgMjMsIDIxNV0sIFsxNjgsIDEwNCwgMTUyLCA4OCwgMTY0LCAxMDAsIDE0OCwgODQsIDE3MSwgMTA3LCAxNTUsIDkxLCAxNjcsIDEwMywgMTUxLCA4N10sIFsyLCAxOTQsIDUwLCAyNDIsIDE0LCAyMDYsIDYyLCAyNTQsIDEsIDE5MywgNDksIDI0MSwgMTMsIDIwNSwgNjEsIDI1M10sIFsxMzAsIDY2LCAxNzgsIDExNCwgMTQyLCA3OCwgMTkwLCAxMjYsIDEyOSwgNjUsIDE3NywgMTEzLCAxNDEsIDc3LCAxODksIDEyNV0sIFszNCwgMjI2LCAxOCwgMjEwLCA0NiwgMjM4LCAzMCwgMjIyLCAzMywgMjI1LCAxNywgMjA5LCA0NSwgMjM3LCAyOSwgMjIxXSwgWzE2MiwgOTgsIDE0NiwgODIsIDE3NCwgMTEwLCAxNTgsIDk0LCAxNjEsIDk3LCAxNDUsIDgxLCAxNzMsIDEwOSwgMTU3LCA5M10sIFsxMCwgMjAyLCA1OCwgMjUwLCA2LCAxOTgsIDU0LCAyNDYsIDksIDIwMSwgNTcsIDI0OSwgNSwgMTk3LCA1MywgMjQ1XSwgWzEzOCwgNzQsIDE4NiwgMTIyLCAxMzQsIDcwLCAxODIsIDExOCwgMTM3LCA3MywgMTg1LCAxMjEsIDEzMywgNjksIDE4MSwgMTE3XSwgWzQyLCAyMzQsIDI2LCAyMTgsIDM4LCAyMzAsIDIyLCAyMTQsIDQxLCAyMzMsIDI1LCAyMTcsIDM3LCAyMjksIDIxLCAyMTNdLCBbMTcwLCAxMDYsIDE1NCwgOTAsIDE2NiwgMTAyLCAxNTAsIDg2LCAxNjksIDEwNSwgMTUzLCA4OSwgMTY1LCAxMDEsIDE0OSwgODVdXSwgMSAvIDI1NilcbiAgfSxcbiAgW1NRVUFSRV81WDVdOiB7XG4gICAgd2lkdGg6IDUsXG4gICAgdGhyZXNob2xkTWFwOiBzY2FsZU1hdHJpeChbWzQwLCA2MCwgMTUwLCA5MCwgMTBdLCBbODAsIDE3MCwgMjQwLCAyMDAsIDExMF0sIFsxNDAsIDIxMCwgMjUwLCAyMjAsIDEzMF0sIFsxMjAsIDE5MCwgMjMwLCAxODAsIDcwXSwgWzIwLCAxMDAsIDE2MCwgNTAsIDMwXV0sIDEgLyAyNTUpXG4gIH0sXG4gIFtESVNQRVJTRURfRE9UXzNYM106IHtcbiAgICB3aWR0aDogMyxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMCwgNiwgM10sIFs0LCA3LCAyXSwgWzUsIDEsIDhdXSwgMSAvIDkpXG4gIH0sXG4gIFtDT1JORVJfNFg0XToge1xuICAgIHdpZHRoOiA0LFxuICAgIHRocmVzaG9sZE1hcDogc2NhbGVNYXRyaXgoW1swLCAyLCA1LCA5XSwgWzEsIDQsIDgsIDEyXSwgWzMsIDcsIDExLCAxNF0sIFs2LCAxMCwgMTMsIDE1XV0sIDEgLyAxNilcbiAgfSxcbiAgW0JMT0NLX1ZFUlRJQ0FMXzRYNF06IHtcbiAgICB3aWR0aDogNCxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMCwgMSwgMiwgM10sIFswLCAxLCAyLCAzXSwgWzAsIDEsIDIsIDNdLCBbMCwgMSwgMiwgM11dLCAxIC8gNCksXG4gICAgbGV2ZWxzOiA0XG4gIH0sXG4gIFtCTE9DS19IT1JJWk9OVEFMXzRYNF06IHtcbiAgICB3aWR0aDogNCxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMCwgMCwgMCwgMF0sIFsxLCAxLCAxLCAxXSwgWzIsIDIsIDIsIDJdLCBbMywgMywgMywgM11dLCAxIC8gNCksXG4gICAgbGV2ZWxzOiA0XG4gIH0sXG4gIFtIQVRDSF8yWDJdOiB7XG4gICAgd2lkdGg6IDIsXG4gICAgdGhyZXNob2xkTWFwOiBzY2FsZU1hdHJpeChbWzAsIDFdLCBbMSwgMF1dLCAxIC8gMiksXG4gICAgbGV2ZWxzOiAyXG4gIH0sXG4gIFtIQVRDSF8zWDNdOiB7XG4gICAgd2lkdGg6IDMsXG4gICAgdGhyZXNob2xkTWFwOiBzY2FsZU1hdHJpeChbWzAsIDEsIDJdLCBbMSwgMiwgMV0sIFsyLCAxLCAwXV0sIDEgLyAzKSxcbiAgICBsZXZlbHM6IDNcbiAgfSxcbiAgW0hBVENIXzRYNF06IHtcbiAgICB3aWR0aDogNCxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMCwgMSwgMiwgM10sIFsxLCAyLCAzLCAyXSwgWzIsIDMsIDIsIDFdLCBbMywgMiwgMSwgMF1dLCAxIC8gNCksXG4gICAgbGV2ZWxzOiA0XG4gIH0sXG4gIFtBTFRFUk5BVEVfM1gzXToge1xuICAgIHdpZHRoOiAzLFxuICAgIHRocmVzaG9sZE1hcDogc2NhbGVNYXRyaXgoW1swLCA1LCAxXSwgWzYsIDIsIDddLCBbMywgOCwgNF1dLCAxIC8gOSksXG4gICAgbGV2ZWxzOiA5XG4gIH0sXG4gIFtQQVRURVJOXzVYNV06IHtcbiAgICB3aWR0aDogNSxcbiAgICB0aHJlc2hvbGRNYXA6IHNjYWxlTWF0cml4KFtbMiwgNCwgMiwgNCwgMl0sIFs0LCAxLCAzLCAxLCA0XSwgWzIsIDMsIDAsIDMsIDJdLCBbNCwgMSwgMywgMSwgNF0sIFsyLCA0LCAyLCA0LCAyXV0sIDEgLyA1KSxcbiAgICBsZXZlbHM6IDVcbiAgfVxufTtcblxuY29uc3Qgc2NhbGVUaHJlc2hvbGRNYXAgPSAobWFwLCB0aW1lc1gsIHRpbWVzWSkgPT4ge1xuICBpZiAodGltZXNYID09PSAxICYmIHRpbWVzWSA9PT0gMSkge1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICBjb25zdCBvdXQgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGltZXNZOyB5ICs9IDEpIHtcbiAgICAgIGNvbnN0IHJvdyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hcFtpXS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRpbWVzWDsgeCArPSAxKSB7XG4gICAgICAgICAgcm93LnB1c2gobWFwW2ldW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvdXQucHVzaChyb3cpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5jb25zdCBnZXRPcmRlcmVkQ29sb3IgPSAoY29sb3IsIGxldmVscywgdHgsIHR5LCB0aHJlc2hvbGQpID0+IHtcbiAgY29uc3QgdGhyZXNob2xkVmFsdWUgPSB0aHJlc2hvbGRbdHldW3R4XTtcblxuICBpZiAodGhyZXNob2xkVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiByZ2JhKDI1NSwgMjU1LCAwLCAyNTUpOyAvLyBlcnJvciBjb2xvdXJcbiAgfVxuXG4gIGNvbnN0IHN0ZXAgPSAyNTUgLyAobGV2ZWxzIC0gMSk7IC8vICRGbG93Rml4TWVcblxuICByZXR1cm4gY29sb3IubWFwKChjLCBpKSA9PiB7XG4gICAgaWYgKGkgPT09IDMpIHJldHVybiBjOyAvLyBhbHBoYSBjaGFubmVsXG5cbiAgICBjb25zdCBuZXdDb2xvciA9IGMgKyBzdGVwICogKHRocmVzaG9sZFZhbHVlIC0gMC41KTtcbiAgICBjb25zdCBidWNrZXQgPSBNYXRoLnJvdW5kKG5ld0NvbG9yIC8gc3RlcCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoYnVja2V0ICogc3RlcCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICB0aHJlc2hvbGRNYXA6IHtcbiAgICB0eXBlOiBFTlVNLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICBuYW1lOiBcIkJheWVyIDLDlzJcIixcbiAgICAgIHZhbHVlOiBCQVlFUl8yWDJcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJheWVyIDPDlzNcIixcbiAgICAgIHZhbHVlOiBCQVlFUl8zWDNcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJheWVyIDTDlzRcIixcbiAgICAgIHZhbHVlOiBCQVlFUl80WDRcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJheWVyIDjDlzhcIixcbiAgICAgIHZhbHVlOiBCQVlFUl84WDhcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIkJheWVyIDE2w5cxNlwiLFxuICAgICAgdmFsdWU6IEJBWUVSXzE2WDE2XG4gICAgfSwge1xuICAgICAgbmFtZTogXCJEaXNwZXJzZWQgRG90IDPDlzNcIixcbiAgICAgIHZhbHVlOiBESVNQRVJTRURfRE9UXzNYM1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiRGlnaXRhbCBIYWxmdG9uZSA1w5c4XCIsXG4gICAgICB2YWx1ZTogU1FVQVJFXzVYNVxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiQ29ybmVyIDTDlzRcIixcbiAgICAgIHZhbHVlOiBDT1JORVJfNFg0XG4gICAgfSwge1xuICAgICAgbmFtZTogXCJCbG9jayBWZXJ0aWNhbCA0w5c0XCIsXG4gICAgICB2YWx1ZTogQkxPQ0tfVkVSVElDQUxfNFg0XG4gICAgfSwge1xuICAgICAgbmFtZTogXCJCbG9jayBIb3Jpem9udGFsIDTDlzRcIixcbiAgICAgIHZhbHVlOiBCTE9DS19IT1JJWk9OVEFMXzRYNFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiSGF0Y2ggMsOXMlwiLFxuICAgICAgdmFsdWU6IEhBVENIXzJYMlxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiSGF0Y2ggM8OXM1wiLFxuICAgICAgdmFsdWU6IEhBVENIXzNYM1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiSGF0Y2ggNMOXNFwiLFxuICAgICAgdmFsdWU6IEhBVENIXzRYNFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiQWx0ZXJuYXRlIDPDlzNcIixcbiAgICAgIHZhbHVlOiBBTFRFUk5BVEVfM1gzXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJIYXRjaCAyw5cyIMOXM1wiLFxuICAgICAgdmFsdWU6IFBBVFRFUk5fNVg1XG4gICAgfV0sXG4gICAgZGVmYXVsdDogSEFUQ0hfMlgyXG4gIH0sXG4gIHRocmVzaG9sZE1hcFNjYWxlWDoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMSwgNV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIHRocmVzaG9sZE1hcFNjYWxlWToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMSwgNV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IG5lYXJlc3RcbiAgfVxufTtcbmNvbnN0IGRlZmF1bHRzID0ge1xuICB0aHJlc2hvbGRNYXA6IG9wdGlvblR5cGVzLnRocmVzaG9sZE1hcC5kZWZhdWx0LFxuICB0aHJlc2hvbGRNYXBTY2FsZVg6IG9wdGlvblR5cGVzLnRocmVzaG9sZE1hcFNjYWxlWC5kZWZhdWx0LFxuICB0aHJlc2hvbGRNYXBTY2FsZVk6IG9wdGlvblR5cGVzLnRocmVzaG9sZE1hcFNjYWxlWS5kZWZhdWx0LFxuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDJcbiAgICB9XG4gIH0pXG59O1xuXG5jb25zdCBvcmRlcmVkID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHBhbGV0dGUsXG4gICAgdGhyZXNob2xkTWFwLFxuICAgIHRocmVzaG9sZE1hcFNjYWxlWCxcbiAgICB0aHJlc2hvbGRNYXBTY2FsZVlcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGxldmVscyA9IHRocmVzaG9sZE1hcC5sZXZlbHMgfHwgdGhyZXNob2xkTWFwLmxlbmd0aCA+IDAgPyB0aHJlc2hvbGRNYXAubGVuZ3RoICogdGhyZXNob2xkTWFwWzBdLmxlbmd0aCA6IDQ7XG4gIGNvbnN0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuICBjb25zdCB0aHJlc2hvbGQgPSB0aHJlc2hvbGRNYXBzW3RocmVzaG9sZE1hcF07XG4gIGNvbnN0IHRocmVzaG9sZE1hcFNjYWxlZCA9IHNjYWxlVGhyZXNob2xkTWFwKHRocmVzaG9sZC50aHJlc2hvbGRNYXAsIHRocmVzaG9sZE1hcFNjYWxlWCwgdGhyZXNob2xkTWFwU2NhbGVZKTtcbiAgY29uc3QgdGhyZXNob2xkTWFwV2lkdGggPSB0aHJlc2hvbGQud2lkdGggKiB0aHJlc2hvbGRNYXBTY2FsZVg7XG4gIGNvbnN0IHRocmVzaG9sZE1hcEhlaWdodCA9IHRocmVzaG9sZC53aWR0aCAqIHRocmVzaG9sZE1hcFNjYWxlWTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCB0aXggPSB4ICUgdGhyZXNob2xkTWFwV2lkdGg7XG4gICAgICBjb25zdCB0aXkgPSB5ICUgdGhyZXNob2xkTWFwSGVpZ2h0O1xuICAgICAgY29uc3QgaSA9IGdldEJ1ZmZlckluZGV4KHgsIHksIGlucHV0LndpZHRoKTsgLy8gSWdub3JlIGFscGhhIGNoYW5uZWwgd2hlbiBjYWxjdWxhdGluZyBlcnJvclxuXG4gICAgICBjb25zdCBwaXhlbCA9IHJnYmEoYnVmW2ldLCBidWZbaSArIDFdLCBidWZbaSArIDJdLCBidWZbaSArIDNdKTtcbiAgICAgIGNvbnN0IG9yZGVyZWRDb2xvciA9IGdldE9yZGVyZWRDb2xvcihwaXhlbCwgbGV2ZWxzLCB0aXgsIHRpeSwgdGhyZXNob2xkTWFwU2NhbGVkKTtcbiAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5nZXRDb2xvcihvcmRlcmVkQ29sb3IsIHBhbGV0dGUub3B0aW9ucyk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBidWZbaSArIDNdKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJPcmRlcmVkXCIsXG4gIGZ1bmM6IG9yZGVyZWQsXG4gIG9wdGlvbnM6IGRlZmF1bHRzLFxuICBvcHRpb25UeXBlcyxcbiAgZGVmYXVsdHNcbn07IiwiZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCB7IG5lYXJlc3QgfSBmcm9tIFwicGFsZXR0ZXNcIjtcbmltcG9ydCB7IGNsb25lQ2FudmFzLCBmaWxsQnVmZmVyUGl4ZWwsIGdldEJ1ZmZlckluZGV4LCByZ2JhIH0gZnJvbSBcInV0aWxzXCI7XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IG5lYXJlc3RcbiAgfVxufTtcbmNvbnN0IGRlZmF1bHRzID0ge1xuICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25UeXBlcy5wYWxldHRlLmRlZmF1bHQsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBsZXZlbHM6IDdcbiAgICB9XG4gIH0pXG59O1xuXG5jb25zdCBxdWFudGl6ZSA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYWxldHRlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpO1xuICAgICAgY29uc3QgcGl4ZWwgPSByZ2JhKGJ1ZltpXSwgYnVmW2kgKyAxXSwgYnVmW2kgKyAyXSwgYnVmW2kgKyAzXSk7XG4gICAgICBjb25zdCBjb2xvciA9IHBhbGV0dGUuZ2V0Q29sb3IocGl4ZWwsIHBhbGV0dGUub3B0aW9ucyk7XG4gICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBidWZbaSArIDNdKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJRdWFudGl6ZVwiLFxuICBmdW5jOiBxdWFudGl6ZSxcbiAgb3B0aW9uczogZGVmYXVsdHMsXG4gIG9wdGlvblR5cGVzLFxuICBkZWZhdWx0c1xufTsiLCJpbXBvcnQgeyBCT09MLCBSQU5HRSwgQ09MT1JfRElTVEFOQ0VfQUxHT1JJVEhNIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCB7IFJHQl9ORUFSRVNUIH0gZnJvbSBcImNvbnN0YW50cy9jb2xvclwiO1xuaW1wb3J0IHsgbmVhcmVzdCB9IGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEsIHF1YW50aXplVmFsdWUgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBvcHRpb25UeXBlcyA9IHtcbiAgbGV2ZWxzOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAyNTVdLFxuICAgIGRlZmF1bHQ6IDJcbiAgfSxcbiAgZ3JheXNjYWxlOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBjb2xvckRpc3RhbmNlQWxnb3JpdGhtOiBDT0xPUl9ESVNUQU5DRV9BTEdPUklUSE1cbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gIGxldmVsczogb3B0aW9uVHlwZXMubGV2ZWxzLmRlZmF1bHQsXG4gIGdyYXlzY2FsZTogb3B0aW9uVHlwZXMuZ3JheXNjYWxlLmRlZmF1bHQsXG4gIGNvbG9yRGlzdGFuY2VBbGdvcml0aG06IFJHQl9ORUFSRVNUXG59O1xuXG5jb25zdCByYW5kb20gPSAoaW5wdXQsIG9wdGlvbnMgPSBkZWZhdWx0cykgPT4ge1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpO1xuXG4gICAgICBpZiAob3B0aW9ucy5ncmF5c2NhbGUpIHtcbiAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gKGJ1ZltpXSArIGJ1ZltpICsgMV0gKyBidWZbMl0pIC8gMztcbiAgICAgICAgY29uc3QgZ3JheSA9IHF1YW50aXplVmFsdWUoaW50ZW5zaXR5ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjU1LCBvcHRpb25zLmxldmVscyk7XG4gICAgICAgIGZpbGxCdWZmZXJQaXhlbChidWYsIGksIGdyYXksIGdyYXksIGdyYXksIGJ1ZltpICsgM10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgciA9IGJ1ZltpXSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDI1NTtcbiAgICAgICAgY29uc3QgZyA9IGJ1ZltpICsgMV0gKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyNTU7XG4gICAgICAgIGNvbnN0IGIgPSBidWZbaSArIDJdICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjU1O1xuICAgICAgICBjb25zdCBjb2xvciA9IG5lYXJlc3QuZ2V0Q29sb3IocmdiYShyLCBnLCBiLCBidWZbaSArIDNdKSwge1xuICAgICAgICAgIGxldmVsczogb3B0aW9ucy5sZXZlbHMsXG4gICAgICAgICAgY29sb3JEaXN0YW5jZUFsZ29yaXRobTogb3B0aW9ucy5jb2xvckRpc3RhbmNlQWxnb3JpdGhtXG4gICAgICAgIH0pO1xuICAgICAgICBmaWxsQnVmZmVyUGl4ZWwoYnVmLCBpLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBidWZbaSArIDNdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJSYW5kb21cIixcbiAgZnVuYzogcmFuZG9tLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImltcG9ydCB7IFJBTkdFLCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEgfSBmcm9tIFwidXRpbHNcIjtcbmV4cG9ydCBjb25zdCBvcHRpb25UeXBlcyA9IHtcbiAgaW50ZW5zaXR5OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCA0XSxcbiAgICBzdGVwOiAwLjAxLFxuICAgIGRlZmF1bHQ6IDAuMzNcbiAgfSxcbiAgZ2FwOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFswLCAyNTVdLFxuICAgIHN0ZXA6IDEsXG4gICAgZGVmYXVsdDogM1xuICB9LFxuICBoZWlnaHQ6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDI1NV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiAxXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IHBhbGV0dGVzLm5lYXJlc3RcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAgaW50ZW5zaXR5OiBvcHRpb25UeXBlcy5pbnRlbnNpdHkuZGVmYXVsdCxcbiAgZ2FwOiBvcHRpb25UeXBlcy5nYXAuZGVmYXVsdCxcbiAgaGVpZ2h0OiBvcHRpb25UeXBlcy5oZWlnaHQuZGVmYXVsdCxcbiAgcGFsZXR0ZTogb3B0aW9uVHlwZXMucGFsZXR0ZS5kZWZhdWx0XG59O1xuXG5jb25zdCBzY2FubGluZSA9IChpbnB1dCwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBpbnRlbnNpdHksXG4gICAgZ2FwLFxuICAgIGhlaWdodCxcbiAgICBwYWxldHRlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvdXRwdXQgPSBjbG9uZUNhbnZhcyhpbnB1dCwgZmFsc2UpO1xuICBjb25zdCBpbnB1dEN0eCA9IGlucHV0LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29uc3Qgb3V0cHV0Q3R4ID0gb3V0cHV0LmdldENvbnRleHQoXCIyZFwiKTtcblxuICBpZiAoIWlucHV0Q3R4IHx8ICFvdXRwdXRDdHgpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBjb25zdCBidWYgPSBpbnB1dEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCkuZGF0YTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpO1xuICAgICAgY29uc3Qgc2NhbGUgPSB5ICUgZ2FwIDwgaGVpZ2h0ID8gaW50ZW5zaXR5IDogMTtcbiAgICAgIGNvbnN0IHByZVBhbGV0dGVDb2xvciA9IHJnYmEoYnVmW2ldICogc2NhbGUsIGJ1ZltpICsgMV0gKiBzY2FsZSwgYnVmW2kgKyAyXSAqIHNjYWxlLCBidWZbaSArIDNdKTtcbiAgICAgIGNvbnN0IGNvbCA9IHBhbGV0dGUuZ2V0Q29sb3IocHJlUGFsZXR0ZUNvbG9yLCBwYWxldHRlLm9wdGlvbnMpO1xuICAgICAgZmlsbEJ1ZmZlclBpeGVsKGJ1ZiwgaSwgY29sWzBdLCBjb2xbMV0sIGNvbFsyXSwgY29sWzNdKTtcbiAgICB9XG4gIH1cblxuICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJTY2FubGluZVwiLFxuICBmdW5jOiBzY2FubGluZSxcbiAgb3B0aW9uVHlwZXMsXG4gIG9wdGlvbnM6IGRlZmF1bHRzLFxuICBkZWZhdWx0c1xufTsiLCJmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IEJPT0wsIEVOVU0sIFJBTkdFLCBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgZ2V0QnVmZmVySW5kZXgsIHJnYmEsIHNjYWxlLCBjb250cmFzdCBhcyBjb250cmFzdEZ1bmMsIGJyaWdodG5lc3MgYXMgYnJpZ2h0bmVzc0Z1bmMsIGdhbW1hIGFzIGdhbW1hRnVuYyB9IGZyb20gXCJ1dGlsc1wiO1xuaW1wb3J0IGNvbnZvbHZlLCB7IEdBVVNTSUFOXzNYM19XRUFLLCBkZWZhdWx0cyBhcyBjb252b2x2ZURlZmF1bHRzIH0gZnJvbSBcIi4vY29udm9sdmVcIjtcbmV4cG9ydCBjb25zdCBWRVJUSUNBTCA9IFwiVkVSVElDQUxcIjtcbmV4cG9ydCBjb25zdCBTVEFHR0VSRUQgPSBcIlNUQUdHRVJFRFwiO1xuZXhwb3J0IGNvbnN0IExBRERFUiA9IFwiTEFEREVSXCI7XG5leHBvcnQgY29uc3QgVElMRUQgPSBcIlRJTEVEXCI7XG5leHBvcnQgY29uc3QgSEVYX0dBUCA9IFwiSEVYX0dBUFwiO1xuY29uc3QgbWFza3MgPSB7XG4gIC8vIFIgRyBCXG4gIFtWRVJUSUNBTF06IGUgPT4gW1tbMSwgZSwgZSwgMV0sIFtlLCAxLCBlLCAxXSwgW2UsIGUsIDEsIDFdXV0sXG4gIC8vIFJfR19CX1xuICAvLyBfQl9SX0dcbiAgW1NUQUdHRVJFRF06IGUgPT4ge1xuICAgIGNvbnN0IHIgPSBbMC45LCBlLCBlLCAxXTtcbiAgICBjb25zdCByMiA9IFswLjgsIGUsIGUsIDFdO1xuICAgIGNvbnN0IGcgPSBbZSwgMSwgZSwgMV07XG4gICAgY29uc3QgYiA9IFtlLCBlLCAxLCAxXTtcbiAgICBjb25zdCBrID0gW2UsIGUsIGUsIDFdO1xuICAgIHJldHVybiBbW3IsIGssIGcsIGssIGIsIGtdLCBbaywgYiwgaywgcjIsIGssIGddXTtcbiAgfSxcbiAgLy8gRyBCIFJcbiAgLy8gQiBSIEdcbiAgLy8gUiBHIEJcbiAgW0xBRERFUl06IGUgPT4ge1xuICAgIGNvbnN0IHIgPSBbMSwgZSwgZSwgMV07XG4gICAgY29uc3QgZyA9IFtlLCAxLCBlLCAxXTtcbiAgICBjb25zdCBiID0gW2UsIGUsIDEsIDFdO1xuICAgIHJldHVybiBbW3IsIGcsIGJdLCBbZywgYiwgcl0sIFtiLCByLCBnXV07XG4gIH0sXG4gIC8vIFIgRyBCIFIgRyBCXG4gIC8vIFIgRyBCIF8gXyBfXG4gIC8vIFIgRyBCIFIgRyBCXG4gIC8vIF8gXyBfIFIgRyBCXG4gIFtUSUxFRF06IGUgPT4ge1xuICAgIGNvbnN0IHIgPSBbMSwgZSwgZSwgMV07XG4gICAgY29uc3QgZyA9IFtlLCAxLCBlLCAxXTtcbiAgICBjb25zdCBiID0gW2UsIGUsIDEsIDFdO1xuICAgIGNvbnN0IGsgPSBbZSwgZSwgZSwgMV07XG4gICAgcmV0dXJuIFtbciwgZywgYiwgciwgZywgYl0sIFtyLCBnLCBiLCBrLCBrLCBrXSwgW3IsIGcsIGIsIHIsIGcsIGJdLCBbaywgaywgaywgciwgZywgYl1dO1xuICB9LFxuICAvLyBSIEcgQiBfIFIgRyBCIF9cbiAgLy8gQiBfIFIgRyBCIF8gUiBHXG4gIC8vIFIgRyBCIF8gUiBHIEIgX1xuICBbSEVYX0dBUF06IGUgPT4ge1xuICAgIGNvbnN0IHIgPSBbMSwgZSwgZSwgMV07XG4gICAgY29uc3QgZyA9IFtlLCAxLCBlLCAxXTtcbiAgICBjb25zdCBiID0gW2UsIGUsIDEsIDFdO1xuICAgIGNvbnN0IGsgPSBbZSwgZSwgZSwgMV07XG4gICAgcmV0dXJuIFtbciwgZywgYiwga10sIFtiLCBrLCByLCBnXV07XG4gIH1cbn07XG5leHBvcnQgY29uc3Qgb3B0aW9uVHlwZXMgPSB7XG4gIGNvbnRyYXN0OiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFstNDAsIDQwXSxcbiAgICBzdGVwOiAwLjEsXG4gICAgZGVmYXVsdDogNFxuICB9LFxuICBzdHJlbmd0aDoge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbLTEsIDFdLFxuICAgIHN0ZXA6IDAuMDUsXG4gICAgZGVmYXVsdDogMC43XG4gIH0sXG4gIGJyaWdodG5lc3M6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWy0yNTUsIDI1NV0sXG4gICAgc3RlcDogMSxcbiAgICBkZWZhdWx0OiA0MFxuICB9LFxuICBleHBvc3VyZToge1xuICAgIHR5cGU6IFJBTkdFLFxuICAgIHJhbmdlOiBbMCwgNF0sXG4gICAgc3RlcDogMC4wNSxcbiAgICBkZWZhdWx0OiAxLjVcbiAgfSxcbiAgZ2FtbWE6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzAsIDRdLFxuICAgIHN0ZXA6IDAuMDUsXG4gICAgZGVmYXVsdDogMi4yXG4gIH0sXG4gIGluY2x1ZGVTY2FubGluZToge1xuICAgIHR5cGU6IEJPT0wsXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBzY2FubGluZVN0cmVuZ3RoOiB7XG4gICAgdHlwZTogUkFOR0UsXG4gICAgcmFuZ2U6IFstMiwgMl0sXG4gICAgc3RlcDogMC4wNSxcbiAgICBkZWZhdWx0OiAwLjc1XG4gIH0sXG4gIHNoYWRvd01hc2s6IHtcbiAgICB0eXBlOiBFTlVNLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICBuYW1lOiBcIlZlcnRpY2FsXCIsXG4gICAgICB2YWx1ZTogVkVSVElDQUxcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcIlN0YWdnZXJlZFwiLFxuICAgICAgdmFsdWU6IFNUQUdHRVJFRFxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiTGFkZGVyXCIsXG4gICAgICB2YWx1ZTogTEFEREVSXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJUaWxlZFwiLFxuICAgICAgdmFsdWU6IFRJTEVEXG4gICAgfSwge1xuICAgICAgbmFtZTogXCJIZXhcIixcbiAgICAgIHZhbHVlOiBIRVhfR0FQXG4gICAgfV0sXG4gICAgZGVmYXVsdDogSEVYX0dBUFxuICB9LFxuICBibHVyOiB7XG4gICAgdHlwZTogQk9PTCxcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIHBhbGV0dGU6IHtcbiAgICB0eXBlOiBQQUxFVFRFLFxuICAgIGRlZmF1bHQ6IHBhbGV0dGVzLm5lYXJlc3RcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHtcbiAgc3RyZW5ndGg6IG9wdGlvblR5cGVzLnN0cmVuZ3RoLmRlZmF1bHQsXG4gIGNvbnRyYXN0OiBvcHRpb25UeXBlcy5jb250cmFzdC5kZWZhdWx0LFxuICBicmlnaHRuZXNzOiBvcHRpb25UeXBlcy5icmlnaHRuZXNzLmRlZmF1bHQsXG4gIGV4cG9zdXJlOiBvcHRpb25UeXBlcy5leHBvc3VyZS5kZWZhdWx0LFxuICBnYW1tYTogb3B0aW9uVHlwZXMuZ2FtbWEuZGVmYXVsdCxcbiAgaW5jbHVkZVNjYW5saW5lOiBvcHRpb25UeXBlcy5pbmNsdWRlU2NhbmxpbmUuZGVmYXVsdCxcbiAgc2NhbmxpbmVTdHJlbmd0aDogb3B0aW9uVHlwZXMuc2NhbmxpbmVTdHJlbmd0aC5kZWZhdWx0LFxuICBzaGFkb3dNYXNrOiBvcHRpb25UeXBlcy5zaGFkb3dNYXNrLmRlZmF1bHQsXG4gIGJsdXI6IG9wdGlvblR5cGVzLmJsdXIuZGVmYXVsdCxcbiAgcGFsZXR0ZTogb3B0aW9uVHlwZXMucGFsZXR0ZS5kZWZhdWx0XG59O1xuXG5jb25zdCByZ2JTdHJpcGUgPSAoaW5wdXQsIG9wdGlvbnMgPSBkZWZhdWx0cykgPT4ge1xuICBjb25zdCB7XG4gICAgaW5jbHVkZVNjYW5saW5lLFxuICAgIHNjYW5saW5lU3RyZW5ndGgsXG4gICAgc2hhZG93TWFzayxcbiAgICBicmlnaHRuZXNzLFxuICAgIGNvbnRyYXN0LFxuICAgIGV4cG9zdXJlLFxuICAgIGdhbW1hLFxuICAgIHN0cmVuZ3RoLFxuICAgIGJsdXIsXG4gICAgcGFsZXR0ZVxuICB9ID0gb3B0aW9ucztcbiAgbGV0IG91dHB1dCA9IGNsb25lQ2FudmFzKGlucHV0LCBmYWxzZSk7XG4gIGNvbnN0IGlucHV0Q3R4ID0gaW5wdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBvdXRwdXRDdHggPSBvdXRwdXQuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmICghaW5wdXRDdHggfHwgIW91dHB1dEN0eCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIGNvbnN0IGJ1ZiA9IGlucHV0Q3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0KS5kYXRhO1xuICBjb25zdCBvdXRwdXRCdWYgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmKTtcbiAgY29uc3QgZWZmZWN0ID0gMSAtIHN0cmVuZ3RoO1xuICBjb25zdCBtYXNrID0gbWFza3Nbc2hhZG93TWFza10oZWZmZWN0KTtcblxuICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGlucHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICBjb25zdCBpID0gZ2V0QnVmZmVySW5kZXgoeCwgeSwgaW5wdXQud2lkdGgpOyAvLyBNYXNrIFIvRy9CIGFsdGVybmF0aW5nXG5cbiAgICAgIGNvbnN0IG1hc2t4SWR4ID0geCAlIG1hc2tbMF0ubGVuZ3RoO1xuICAgICAgY29uc3QgbWFza3lJZHggPSB5ICUgbWFzay5sZW5ndGg7XG4gICAgICBjb25zdCBtYXNrZWQgPSByZ2JhKGJ1ZltpXSAqIG1hc2tbbWFza3lJZHhdW21hc2t4SWR4XVswXSwgYnVmW2kgKyAxXSAqIG1hc2tbbWFza3lJZHhdW21hc2t4SWR4XVsxXSwgYnVmW2kgKyAyXSAqIG1hc2tbbWFza3lJZHhdW21hc2t4SWR4XVsyXSwgYnVmW2kgKyAzXSk7IC8vIEJyaW5nIHVwIGJyaWdodG5lc3MgYXMgd2UndmUgbWFza2VkIG9mZiB0b28gbXVjaFxuXG4gICAgICBjb25zdCBicmlnaHRuZXNzQWRqdXN0ZWQgPSBicmlnaHRuZXNzRnVuYyhtYXNrZWQsIGJyaWdodG5lc3MsIGV4cG9zdXJlKTtcbiAgICAgIGNvbnN0IGNvbnRyYXN0QWRqdXN0ZWQgPSBjb250cmFzdEZ1bmMoYnJpZ2h0bmVzc0FkanVzdGVkLCBjb250cmFzdCk7XG4gICAgICBjb25zdCBnYW1tYUFkanVzdGVkID0gZ2FtbWFGdW5jKGNvbnRyYXN0QWRqdXN0ZWQsIGdhbW1hKTsgLy8gTWFudWFsbHkgc2NhbmxpbmUgaWYgbmVlZGVkXG5cbiAgICAgIGNvbnN0IHNjYW5saW5lU2NhbGUgPSBpbmNsdWRlU2NhbmxpbmUgJiYgeSAlIDMgPT09IDAgPyBzY2FubGluZVN0cmVuZ3RoIDogMTtcbiAgICAgIGNvbnN0IHNjYW5saW5lZCA9IHNjYWxlKGdhbW1hQWRqdXN0ZWQsIHNjYW5saW5lU2NhbGUpO1xuICAgICAgY29uc3QgY29sb3IgPSBwYWxldHRlLmdldENvbG9yKHNjYW5saW5lZCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgIGZpbGxCdWZmZXJQaXhlbChvdXRwdXRCdWYsIGksIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGJ1ZltpICsgM10pO1xuICAgIH1cbiAgfVxuXG4gIG91dHB1dEN0eC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YShvdXRwdXRCdWYsIG91dHB1dC53aWR0aCwgb3V0cHV0LmhlaWdodCksIDAsIDApO1xuXG4gIGlmIChibHVyKSB7XG4gICAgb3V0cHV0ID0gY29udm9sdmUuZnVuYyhvdXRwdXQsIF9vYmplY3RTcHJlYWQoe30sIGNvbnZvbHZlRGVmYXVsdHMsIHtcbiAgICAgIGtlcm5lbDogR0FVU1NJQU5fM1gzX1dFQUtcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiBcInJnYlN0cmlwZVwiLFxuICBmdW5jOiByZ2JTdHJpcGUsXG4gIG9wdGlvblR5cGVzLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgZGVmYXVsdHNcbn07IiwiaW1wb3J0IHsgY2xvbmVDYW52YXMsIGZpbGxCdWZmZXJQaXhlbCwgYWRkQnVmZmVyUGl4ZWwsIGdldEJ1ZmZlckluZGV4LCByZ2JhLCBzdWIsIHNjYWxlIH0gZnJvbSBcInV0aWxzXCI7XG5pbXBvcnQgeyBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhbGV0dGVzIGZyb20gXCJwYWxldHRlc1wiO1xuZXhwb3J0IGNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBwYWxldHRlOiB7XG4gICAgdHlwZTogUEFMRVRURSxcbiAgICBkZWZhdWx0OiBwYWxldHRlcy5uZWFyZXN0XG4gIH1cbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gIHBhbGV0dGU6IG9wdGlvblR5cGVzLnBhbGV0dGUuZGVmYXVsdFxufTtcbmV4cG9ydCBjb25zdCBlcnJvckRpZmZ1c2luZ0ZpbHRlciA9IChuYW1lLCBlcnJvck1hdHJpeCwgZGVmYXVsdE9wdGlvbnMpID0+IHtcbiAgY29uc3QgZmlsdGVyID0gKGlucHV0LCBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwYWxldHRlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgb3V0cHV0ID0gY2xvbmVDYW52YXMoaW5wdXQsIHRydWUpO1xuICAgIGNvbnN0IG91dHB1dEN0eCA9IG91dHB1dC5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgaWYgKCFvdXRwdXRDdHgpIHJldHVybiBpbnB1dDtcbiAgICBjb25zdCBidWYgPSBvdXRwdXRDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQpLmRhdGE7XG4gICAgaWYgKCFidWYpIHJldHVybiBpbnB1dDsgLy8gSW5jcmVhc2UgcHJlY2lzaW9uIG92ZXIgdTggKGZyb20gZ2V0SW1hZ2VEYXRhKSBmb3IgZXJyb3IgZGlmZnVzaW9uXG5cbiAgICBjb25zdCBlcnJCdWYgPSBBcnJheS5mcm9tKGJ1Zik7XG4gICAgaWYgKCFlcnJCdWYpIHJldHVybiBpbnB1dDtcblxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgb3V0cHV0LndpZHRoOyB4ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgb3V0cHV0LmhlaWdodDsgeSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGkgPSBnZXRCdWZmZXJJbmRleCh4LCB5LCBvdXRwdXQud2lkdGgpOyAvLyBJZ25vcmUgYWxwaGEgY2hhbm5lbCB3aGVuIGNhbGN1bGF0aW5nIGVycm9yXG5cbiAgICAgICAgY29uc3QgcGl4ZWwgPSByZ2JhKGVyckJ1ZltpXSwgZXJyQnVmW2kgKyAxXSwgZXJyQnVmW2kgKyAyXSwgZXJyQnVmW2kgKyAzXSk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5nZXRDb2xvcihwaXhlbCwgcGFsZXR0ZS5vcHRpb25zKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzdWIocGl4ZWwsIGNvbG9yKTsgLy8gQ29weSBhbHBoYSB2YWx1ZSBmcm9tIGlucHV0XG5cbiAgICAgICAgZmlsbEJ1ZmZlclBpeGVsKGJ1ZiwgaSwgY29sb3JbMF0sIGNvbG9yWzFdLCBjb2xvclsyXSwgYnVmW2kgKyAzXSk7XG4gICAgICAgIGNvbnN0IGtlcm5lbFdpZHRoID0gZXJyb3JNYXRyaXgua2VybmVsWzBdLmxlbmd0aDtcbiAgICAgICAgY29uc3Qga2VybmVsSGVpZ2h0ID0gZXJyb3JNYXRyaXgua2VybmVsLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IGtlcm5lbFdpZHRoOyB3ICs9IDEpIHtcbiAgICAgICAgICBmb3IgKGxldCBoID0gMDsgaCA8IGtlcm5lbEhlaWdodDsgaCArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBlcnJvck1hdHJpeC5rZXJuZWxbaF1bd107XG5cbiAgICAgICAgICAgIGlmICh3ZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCB0YXJnZXRJZHggPSBnZXRCdWZmZXJJbmRleCh4ICsgdyArIGVycm9yTWF0cml4Lm9mZnNldFswXSwgeSArIGggKyBlcnJvck1hdHJpeC5vZmZzZXRbMV0sIG91dHB1dC53aWR0aCk7XG4gICAgICAgICAgICAgIGNvbnN0IHRvRGlmZnVzZSA9IHNjYWxlKGVycm9yLCB3ZWlnaHQpO1xuICAgICAgICAgICAgICBhZGRCdWZmZXJQaXhlbChlcnJCdWYsIHRhcmdldElkeCwgdG9EaWZmdXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBvdXRwdXRDdHgucHV0SW1hZ2VEYXRhKG5ldyBJbWFnZURhdGEoYnVmLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpLCAwLCAwKTtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBmdW5jOiBmaWx0ZXIsXG4gICAgb3B0aW9uVHlwZXMsXG4gICAgb3B0aW9uczogZGVmYXVsdHMsXG4gICAgZGVmYXVsdHM6IGRlZmF1bHRPcHRpb25zXG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JEaWZmdXNpbmdGaWx0ZXI7IiwiaW1wb3J0IHsgc2NhbGVNYXRyaXggfSBmcm9tIFwidXRpbHNcIjtcbmltcG9ydCB7IGRlZmF1bHRzLCBlcnJvckRpZmZ1c2luZ0ZpbHRlciB9IGZyb20gXCIuL2Vycm9yRGlmZnVzaW5nRmlsdGVyRmFjdG9yeVwiOyAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GbG95ZCVFMiU4MCU5M1N0ZWluYmVyZ19kaXRoZXJpbmdcbi8vIFtfLCAgICAqLCAgICA3LzE2XVxuLy8gWzMvMTYsIDUvMTYsIDEvMTZdXG5cbmNvbnN0IGZzS2VybmVsID0ge1xuICBvZmZzZXQ6IFstMSwgMF0sXG4gIC8vIHgsIHlcbiAga2VybmVsOiBbW251bGwsIG51bGwsIDcgLyAxNl0sIFszIC8gMTYsIDUgLyAxNiwgMSAvIDE2XV1cbn07XG5leHBvcnQgY29uc3QgZmxveWRTdGVpbmJlcmcgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIkZsb3lkLVN0ZWluYmVyZ1wiLCBmc0tlcm5lbCwgZGVmYXVsdHMpO1xuY29uc3QgZmFsc2VGc0tlcm5lbCA9IHtcbiAgb2Zmc2V0OiBbMCwgMF0sXG4gIC8vIHgsIHlcbiAga2VybmVsOiBzY2FsZU1hdHJpeChbW251bGwsIDNdLCBbMywgMl1dLCAxIC8gOClcbn07XG5leHBvcnQgY29uc3QgZmFsc2VGbG95ZFN0ZWluYmVyZyA9IGVycm9yRGlmZnVzaW5nRmlsdGVyKFwiRmFsc2UgRmxveWQtU3RlaW5iZXJnXCIsIGZhbHNlRnNLZXJuZWwsIGRlZmF1bHRzKTsgLy8gaHR0cDovL3d3dy50YW5uZXJoZWxsYW5kLmNvbS80NjYwL2RpdGhlcmluZy1lbGV2ZW4tYWxnb3JpdGhtcy1zb3VyY2UtY29kZS9cbi8vICAgICAgICAgKiAgIDUgICAzXG4vLyAyICAgNCAgIDUgICA0ICAgMlxuLy8gICAgIDIgICAzICAgMlxuLy8gICAgICAgKDEvMzIpXG5cbmNvbnN0IHNpZXJyYTNrZXJuZWwgPSB7XG4gIG9mZnNldDogWy0yLCAwXSxcbiAgLy8geCwgeVxuICBrZXJuZWw6IHNjYWxlTWF0cml4KFtbbnVsbCwgbnVsbCwgbnVsbCwgNSwgM10sIFsyLCA0LCA1LCA0LCAyXSwgW251bGwsIDIsIDMsIDIsIG51bGxdXSwgMSAvIDMyKVxufTtcbmV4cG9ydCBjb25zdCBzaWVycmEgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIlNpZXJyYVwiLCBzaWVycmEza2VybmVsLCBkZWZhdWx0cyk7IC8vICAgICAgICAgWCAgIDQgICAzXG4vLyAxICAgMiAgIDMgICAyICAgMVxuLy8gICAgICAgKDEvMTYpXG5cbmV4cG9ydCBjb25zdCBzaWVycmEya2VybmVsID0ge1xuICBvZmZzZXQ6IFstMiwgMF0sXG4gIC8vIHgsIHlcbiAga2VybmVsOiBzY2FsZU1hdHJpeChbW251bGwsIG51bGwsIG51bGwsIDQsIDNdLCBbMSwgMiwgMywgMiwgMV1dLCAxIC8gMTYpXG59O1xuZXhwb3J0IGNvbnN0IHNpZXJyYTIgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIlNpZXJyYSAyLXJvd1wiLCBzaWVycmEya2VybmVsLCBkZWZhdWx0cyk7IC8vICAgICBYICAgMlxuLy8gMSAgIDFcbi8vICAgKDEvNClcblxuZXhwb3J0IGNvbnN0IHNpZXJyYUxpdGVLZXJuZWwgPSB7XG4gIG9mZnNldDogWy0xLCAwXSxcbiAgLy8geCwgeVxuICBrZXJuZWw6IHNjYWxlTWF0cml4KFtbbnVsbCwgbnVsbCwgMl0sIFsxLCAxLCBudWxsXV0sIDEgLyA0KVxufTtcbmV4cG9ydCBjb25zdCBzaWVycmFMaXRlID0gZXJyb3JEaWZmdXNpbmdGaWx0ZXIoXCJTaWVycmEgbGl0ZVwiLCBzaWVycmFMaXRlS2VybmVsLCBkZWZhdWx0cyk7IC8vIGh0dHA6Ly93d3cudGFubmVyaGVsbGFuZC5jb20vNDY2MC9kaXRoZXJpbmctZWxldmVuLWFsZ29yaXRobXMtc291cmNlLWNvZGUvXG4vLyAgICAgWCAgIDEgICAxXG4vLyAxICAgMSAgIDFcbi8vICAgICAxXG4vLyAgICgxLzgpXG5cbmNvbnN0IGF0a2luc29uS2VybmVsID0ge1xuICBvZmZzZXQ6IFstMSwgMF0sXG4gIC8vIHgsIHlcbiAga2VybmVsOiBzY2FsZU1hdHJpeChbW251bGwsIG51bGwsIDEsIDFdLCBbMSwgMSwgMSwgbnVsbF0sIFtudWxsLCAxLCBudWxsLCBudWxsXV0sIDEgLyA4KVxufTtcbmV4cG9ydCBjb25zdCBhdGtpbnNvbiA9IGVycm9yRGlmZnVzaW5nRmlsdGVyKFwiQXRraW5zb25cIiwgYXRraW5zb25LZXJuZWwsIGRlZmF1bHRzKTsgLy8gaHR0cDovL3d3dy50YW5uZXJoZWxsYW5kLmNvbS80NjYwL2RpdGhlcmluZy1lbGV2ZW4tYWxnb3JpdGhtcy1zb3VyY2UtY29kZS9cbi8vICAgICAgICAgWCAgIDcgICA1XG4vLyAzICAgNSAgIDcgICA1ICAgM1xuLy8gMSAgIDMgICA1ICAgMyAgIDFcbi8vICAgICAgICgxLzQ4KVxuXG5jb25zdCBqYXJ2aXNLZXJuZWwgPSB7XG4gIG9mZnNldDogWy0yLCAwXSxcbiAgLy8geCwgeVxuICBrZXJuZWw6IHNjYWxlTWF0cml4KFtbbnVsbCwgbnVsbCwgbnVsbCwgNywgNV0sIFszLCA1LCA3LCA1LCAzXSwgWzEsIDMsIDUsIDMsIDFdXSwgMSAvIDQ4KVxufTtcbmV4cG9ydCBjb25zdCBqYXJ2aXMgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIkphcnZpc1wiLCBqYXJ2aXNLZXJuZWwsIGRlZmF1bHRzKTsgLy8gICAgICAgICAqICAgOCAgIDRcbi8vIDIgICA0ICAgOCAgIDQgICAyXG4vLyAxICAgMiAgIDQgICAyICAgMSAgICgxLzQyKVxuXG5jb25zdCBzdHVja2lLZXJuZWwgPSB7XG4gIG9mZnNldDogWy0yLCAwXSxcbiAga2VybmVsOiBzY2FsZU1hdHJpeChbW251bGwsIG51bGwsIG51bGwsIDgsIDRdLCBbMiwgNCwgOCwgNCwgMl0sIFsxLCAyLCA0LCAyLCAxXV0sIDEgLyA0Milcbn07XG5leHBvcnQgY29uc3Qgc3R1Y2tpID0gZXJyb3JEaWZmdXNpbmdGaWx0ZXIoXCJTdHVja2lcIiwgc3R1Y2tpS2VybmVsLCBkZWZhdWx0cyk7IC8vICogICA4ICAgNCAgICAgICAgICAgICBUaGUgQnVya2VzIGZpbHRlclxuLy8gMiAgIDQgICA4ICAgNCAgIDIgICAoMS8zMilcblxuY29uc3QgYnVya2VzS2VybmVsID0ge1xuICBvZmZzZXQ6IFstMiwgMF0sXG4gIGtlcm5lbDogc2NhbGVNYXRyaXgoW1tudWxsLCBudWxsLCBudWxsLCA4LCA0XSwgWzIsIDQsIDgsIDQsIDJdXSwgMSAvIDMyKVxufTtcbmV4cG9ydCBjb25zdCBidXJrZXMgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIkJ1cmtlc1wiLCBidXJrZXNLZXJuZWwsIGRlZmF1bHRzKTsgLy8gV2VpcmQga2VybmVsc1xuLy8gICBYXG4vLyAgIDFcbi8vICAgWFxuLy8gICAxXG4vLyAgICgxLzQpXG5cbmNvbnN0IGhvcml6b250YWxTdHJpcGVLZXJuZWwgPSB7XG4gIG9mZnNldDogWzAsIDBdLFxuICAvLyB4LCB5XG4gIGtlcm5lbDogc2NhbGVNYXRyaXgoW1tudWxsXSwgWzFdLCBbbnVsbF0sIFsxXV0sIDEgLyA0KVxufTtcbmV4cG9ydCBjb25zdCBob3Jpem9udGFsU3RyaXBlID0gZXJyb3JEaWZmdXNpbmdGaWx0ZXIoXCJTdHJpcGUgKEhvcml6b250YWwpXCIsIGhvcml6b250YWxTdHJpcGVLZXJuZWwsIGRlZmF1bHRzKTtcbmNvbnN0IHZlcnRpY2FsU3RyaXBlS2VybmVsID0ge1xuICBvZmZzZXQ6IFswLCAwXSxcbiAgLy8geCwgeVxuICBrZXJuZWw6IHNjYWxlTWF0cml4KFtbbnVsbCwgMSwgbnVsbCwgMV1dLCAxIC8gNClcbn07XG5leHBvcnQgY29uc3QgdmVydGljYWxTdHJpcGUgPSBlcnJvckRpZmZ1c2luZ0ZpbHRlcihcIlN0cmlwZSAoVmVydGljYWwpXCIsIHZlcnRpY2FsU3RyaXBlS2VybmVsLCBkZWZhdWx0cyk7IiwiZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgKiBhcyBwYWxldHRlcyBmcm9tIFwicGFsZXR0ZXNcIjtcbmltcG9ydCB7IFRIRU1FUyB9IGZyb20gXCJwYWxldHRlcy91c2VyXCI7XG5pbXBvcnQgYmluYXJpemUgZnJvbSBcIi4vYmluYXJpemVcIjtcbmltcG9ydCBjaGFubmVsU2VwYXJhdGlvbiBmcm9tIFwiLi9jaGFubmVsU2VwYXJhdGlvblwiO1xuaW1wb3J0IGppdHRlciBmcm9tIFwiLi9qaXR0ZXJcIjtcbmltcG9ydCB2aHMgZnJvbSBcIi4vdmhzXCI7XG5pbXBvcnQgcHJvZ3JhbSBmcm9tIFwiLi9wcm9ncmFtXCI7XG5pbXBvcnQgYnJpZ2h0bmVzc0NvbnRyYXN0IGZyb20gXCIuL2JyaWdodG5lc3NDb250cmFzdFwiO1xuaW1wb3J0IGNvbnZvbHZlLCB7IExBUExBQ0lBTl8zWDMgfSBmcm9tIFwiLi9jb252b2x2ZVwiO1xuaW1wb3J0IGdyYXlzY2FsZSBmcm9tIFwiLi9ncmF5c2NhbGVcIjtcbmltcG9ydCBwaXhlbGF0ZSBmcm9tIFwiLi9waXhlbGF0ZVwiO1xuaW1wb3J0IHBpeGVsc29ydCBmcm9tIFwiLi9waXhlbHNvcnRcIjtcbmltcG9ydCBnbGl0Y2hibG9iIGZyb20gXCIuL2dsaXRjaGJsb2JcIjtcbmltcG9ydCBoYWxmdG9uZSBmcm9tIFwiLi9oYWxmdG9uZVwiO1xuaW1wb3J0IGludmVydCBmcm9tIFwiLi9pbnZlcnRcIjtcbmltcG9ydCBvcmRlcmVkLCB7IEJBWUVSXzRYNCB9IGZyb20gXCIuL29yZGVyZWRcIjtcbmltcG9ydCBxdWFudGl6ZSBmcm9tIFwiLi9xdWFudGl6ZVwiO1xuaW1wb3J0IHJhbmRvbSBmcm9tIFwiLi9yYW5kb21cIjtcbmltcG9ydCBzY2FubGluZSBmcm9tIFwiLi9zY2FubGluZVwiO1xuaW1wb3J0IHJnYlN0cmlwZSBmcm9tIFwiLi9yZ2JzdHJpcGVcIjtcbmltcG9ydCB7IGF0a2luc29uLCBidXJrZXMsIGZsb3lkU3RlaW5iZXJnLCBmYWxzZUZsb3lkU3RlaW5iZXJnLCBzaWVycmEsIHNpZXJyYTIsIHNpZXJyYUxpdGUsIHN0dWNraSwgamFydmlzLCBob3Jpem9udGFsU3RyaXBlLCB2ZXJ0aWNhbFN0cmlwZSB9IGZyb20gXCIuL2Vycm9yRGlmZnVzaW5nXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNoYW5uZWxTZXBhcmF0aW9uIH0gZnJvbSBcIi4vY2hhbm5lbFNlcGFyYXRpb25cIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaml0dGVyIH0gZnJvbSBcIi4vaml0dGVyXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZocyB9IGZyb20gXCIuL3Zoc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBiaW5hcml6ZSB9IGZyb20gXCIuL2JpbmFyaXplXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHByb2dyYW0gfSBmcm9tIFwiLi9wcm9ncmFtXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGJyaWdodG5lc3NDb250cmFzdCB9IGZyb20gXCIuL2JyaWdodG5lc3NDb250cmFzdFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjb252b2x2ZSB9IGZyb20gXCIuL2NvbnZvbHZlXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdyYXlzY2FsZSB9IGZyb20gXCIuL2dyYXlzY2FsZVwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwaXhlbGF0ZSB9IGZyb20gXCIuL3BpeGVsYXRlXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBpeGVsc29ydCB9IGZyb20gXCIuL3BpeGVsc29ydFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBnbGl0Y2hibG9iIH0gZnJvbSBcIi4vZ2xpdGNoYmxvYlwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBoYWxmdG9uZSB9IGZyb20gXCIuL2hhbGZ0b25lXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGludmVydCB9IGZyb20gXCIuL2ludmVydFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvcmRlcmVkIH0gZnJvbSBcIi4vb3JkZXJlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBxdWFudGl6ZSB9IGZyb20gXCIuL3F1YW50aXplXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHNjYW5saW5lIH0gZnJvbSBcIi4vc2NhbmxpbmVcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmdiU3RyaXBlIH0gZnJvbSBcIi4vcmdic3RyaXBlXCI7XG5leHBvcnQgeyBhdGtpbnNvbiwgYnVya2VzLCBmbG95ZFN0ZWluYmVyZywgZmFsc2VGbG95ZFN0ZWluYmVyZywgc2llcnJhLCBzaWVycmEyLCBzaWVycmFMaXRlLCBzdHVja2ksIGphcnZpcywgaG9yaXpvbnRhbFN0cmlwZSwgdmVydGljYWxTdHJpcGUgfSBmcm9tIFwiLi9lcnJvckRpZmZ1c2luZ1wiO1xuZXhwb3J0IGNvbnN0IGZpbHRlckluZGV4ID0gW2JpbmFyaXplLCBjaGFubmVsU2VwYXJhdGlvbiwgcHJvZ3JhbSwgYnJpZ2h0bmVzc0NvbnRyYXN0LCBjb252b2x2ZSwgZ3JheXNjYWxlLCBwaXhlbHNvcnQsIGdsaXRjaGJsb2IsIGhhbGZ0b25lLCBpbnZlcnQsIGppdHRlciwgb3JkZXJlZCwgcXVhbnRpemUsIHNjYW5saW5lLCByZ2JTdHJpcGUsIGF0a2luc29uLCBidXJrZXMsIGZsb3lkU3RlaW5iZXJnLCBmYWxzZUZsb3lkU3RlaW5iZXJnLCBzaWVycmEsIHNpZXJyYTIsIHNpZXJyYUxpdGUsIHN0dWNraSwgamFydmlzLCBob3Jpem9udGFsU3RyaXBlLCB2ZXJ0aWNhbFN0cmlwZSwgdmhzXS5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gIGFjY1tjdXIubmFtZV0gPSBjdXI7XG4gIHJldHVybiBhY2M7XG59LCB7fSk7IC8vIFByZXNldHNcblxuZXhwb3J0IGNvbnN0IGZpbHRlckxpc3QgPSBbe1xuICBkaXNwbGF5TmFtZTogXCJQcm9ncmFtXCIsXG4gIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgcHJvZ3JhbSwge1xuICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHByb2dyYW0ub3B0aW9ucywge1xuICAgICAgcGFsZXR0ZTogX29iamVjdFNwcmVhZCh7fSwgcHJvZ3JhbS5vcHRpb25zLnBhbGV0dGUsIHtcbiAgICAgICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgcHJvZ3JhbS5vcHRpb25zLnBhbGV0dGUub3B0aW9ucywge1xuICAgICAgICAgIGxldmVsczogMjU2XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkNvbnZvbHZlXCIsXG4gIGZpbHRlcjogY29udm9sdmVcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiQ29udm9sdmUgKGVkZ2UgZGV0ZWN0aW9uKVwiLFxuICBmaWx0ZXI6IF9vYmplY3RTcHJlYWQoe30sIGNvbnZvbHZlLCB7XG4gICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgY29udm9sdmUub3B0aW9ucywge1xuICAgICAga2VybmVsOiBMQVBMQUNJQU5fM1gzXG4gICAgfSlcbiAgfSlcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiSW52ZXJ0XCIsXG4gIGZpbHRlcjogaW52ZXJ0XG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkJyaWdodG5lc3MvQ29udHJhc3RcIixcbiAgZmlsdGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBicmlnaHRuZXNzQ29udHJhc3QsIHtcbiAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBicmlnaHRuZXNzQ29udHJhc3Qub3B0aW9ucywge1xuICAgICAgcGFsZXR0ZTogX29iamVjdFNwcmVhZCh7fSwgYnJpZ2h0bmVzc0NvbnRyYXN0Lm9wdGlvbnMucGFsZXR0ZSwge1xuICAgICAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBicmlnaHRuZXNzQ29udHJhc3Qub3B0aW9ucy5wYWxldHRlLm9wdGlvbnMsIHtcbiAgICAgICAgICBsZXZlbHM6IDI1NlxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJTY2FubGluZVwiLFxuICBmaWx0ZXI6IF9vYmplY3RTcHJlYWQoe30sIHNjYW5saW5lLCB7XG4gICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgc2NhbmxpbmUub3B0aW9ucywge1xuICAgICAgcGFsZXR0ZTogX29iamVjdFNwcmVhZCh7fSwgc2NhbmxpbmUub3B0aW9ucy5wYWxldHRlLCB7XG4gICAgICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHNjYW5saW5lLm9wdGlvbnMucGFsZXR0ZS5vcHRpb25zLCB7XG4gICAgICAgICAgbGV2ZWxzOiAyNTZcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiQ1JUIGVtdWxhdGlvblwiLFxuICBmaWx0ZXI6IF9vYmplY3RTcHJlYWQoe30sIHJnYlN0cmlwZSwge1xuICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHJnYlN0cmlwZS5vcHRpb25zLCB7XG4gICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCByZ2JTdHJpcGUub3B0aW9ucy5wYWxldHRlLCB7XG4gICAgICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHJnYlN0cmlwZS5vcHRpb25zLnBhbGV0dGUub3B0aW9ucywge1xuICAgICAgICAgIGxldmVsczogMzJcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiR2xpdGNoXCIsXG4gIGZpbHRlcjogZ2xpdGNoYmxvYlxufSwge1xuICBkaXNwbGF5TmFtZTogXCJQaXhlbHNvcnRcIixcbiAgZmlsdGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBwaXhlbHNvcnQsIHtcbiAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBwaXhlbHNvcnQub3B0aW9ucywge1xuICAgICAgcGFsZXR0ZTogX29iamVjdFNwcmVhZCh7fSwgcGl4ZWxzb3J0Lm9wdGlvbnMucGFsZXR0ZSwge1xuICAgICAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBwaXhlbHNvcnQub3B0aW9ucy5wYWxldHRlLm9wdGlvbnMsIHtcbiAgICAgICAgICBsZXZlbHM6IDI1NlxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJQaXhlbGF0ZVwiLFxuICBmaWx0ZXI6IHBpeGVsYXRlXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkNoYW5uZWwgc2VwYXJhdGlvblwiLFxuICBmaWx0ZXI6IGNoYW5uZWxTZXBhcmF0aW9uXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkppdHRlclwiLFxuICBmaWx0ZXI6IGppdHRlclxufSwge1xuICBkaXNwbGF5TmFtZTogXCJWSFMgZW11bGF0aW9uXCIsXG4gIGZpbHRlcjogdmhzXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkdyYXlzY2FsZVwiLFxuICBmaWx0ZXI6IGdyYXlzY2FsZVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJSYW5kb21cIixcbiAgZmlsdGVyOiByYW5kb21cbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiSGFsZnRvbmVcIixcbiAgZmlsdGVyOiBoYWxmdG9uZVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJCaW5hcml6ZVwiLFxuICBmaWx0ZXI6IGJpbmFyaXplXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlF1YW50aXplIChObyBkaXRoZXJpbmcpXCIsXG4gIGZpbHRlcjogcXVhbnRpemVcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiT3JkZXJlZFwiLFxuICBmaWx0ZXI6IG9yZGVyZWRcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiT3JkZXJlZCAoV2luZG93cyAxNi1jb2xvcilcIixcbiAgZmlsdGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBvcmRlcmVkLCB7XG4gICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgb3JkZXJlZC5vcHRpb25zLCB7XG4gICAgICB0aHJlc2hvbGRNYXA6IEJBWUVSXzRYNCxcbiAgICAgIHBhbGV0dGU6IF9vYmplY3RTcHJlYWQoe30sIHBhbGV0dGVzLnVzZXIsIHtcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNvbG9yczogVEhFTUVTLkNHQVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIk9yZGVyZWQgKEdhbWVib3kpXCIsXG4gIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgb3JkZXJlZCwge1xuICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIG9yZGVyZWQub3B0aW9ucywge1xuICAgICAgcGFsZXR0ZTogX29iamVjdFNwcmVhZCh7fSwgcGFsZXR0ZXMudXNlciwge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY29sb3JzOiBUSEVNRVMuR0FNRUJPWVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkZsb3lkLVN0ZWluYmVyZ1wiLFxuICBmaWx0ZXI6IGZsb3lkU3RlaW5iZXJnXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkZsb3lkLVN0ZWluYmVyZyAoQ0dBIHRlc3QpXCIsXG4gIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgZmxveWRTdGVpbmJlcmcsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBwYWxldHRlcy51c2VyLCB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjb2xvcnM6IFRIRU1FUy5DR0FcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkZsb3lkLVN0ZWluYmVyZyAoVmFwb3J3YXZlIHRlc3QpXCIsXG4gIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgZmxveWRTdGVpbmJlcmcsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBwYWxldHRlcy51c2VyLCB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjb2xvcnM6IFRIRU1FUy5WQVBPUldBVkVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIkZhbHNlIEZsb3lkLVN0ZWluYmVyZ1wiLFxuICBmaWx0ZXI6IGZhbHNlRmxveWRTdGVpbmJlcmdcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiSmFydmlzXCIsXG4gIGZpbHRlcjogamFydmlzXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlN0dWNraVwiLFxuICBmaWx0ZXI6IHN0dWNraVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJCdXJrZXNcIixcbiAgZmlsdGVyOiBidXJrZXNcbn0sIHtcbiAgZGlzcGxheU5hbWU6IFwiQXRraW5zb24gKE1hYylcIixcbiAgZmlsdGVyOiBhdGtpbnNvblxufSwge1xuICBkaXNwbGF5TmFtZTogXCJBdGtpbnNvbiAoTWFjaW50b3NoIElJIGNvbG9yIHRlc3QpXCIsXG4gIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgYXRraW5zb24sIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBwYWxldHRlcy51c2VyLCB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjb2xvcnM6IFRIRU1FUy5NQUMyXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxufSwge1xuICBkaXNwbGF5TmFtZTogXCJTaWVycmEgKGZ1bGwpXCIsXG4gIGZpbHRlcjogc2llcnJhXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlNpZXJyYSAodHdvLXJvdylcIixcbiAgZmlsdGVyOiBzaWVycmEyXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlNpZXJyYSAobGl0ZSlcIixcbiAgZmlsdGVyOiBzaWVycmFMaXRlXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlN0cmlwZSAoaG9yaXpvbnRhbClcIixcbiAgZmlsdGVyOiBob3Jpem9udGFsU3RyaXBlXG59LCB7XG4gIGRpc3BsYXlOYW1lOiBcIlN0cmlwZSAodmVydGljYWwpXCIsXG4gIGZpbHRlcjogdmVydGljYWxTdHJpcGVcbn1dOyIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGltcG9ydFN0YXRlLCBsb2FkSW1hZ2UsIGxvYWRNZWRpYUFzeW5jLCBmaWx0ZXJJbWFnZUFzeW5jLCBzZWxlY3RGaWx0ZXIsIHNldENvbnZlcnRHcmF5c2NhbGUsIHNldFJlYWx0aW1lRmlsdGVyaW5nLCBzZXRJbnB1dENhbnZhcywgc2V0SW5wdXRWb2x1bWUsIHNldElucHV0UGxheWJhY2tSYXRlLCBzZXRTY2FsZSwgc2V0T3V0cHV0U2NhbGUsIHNldFNjYWxpbmdBbGdvcml0aG0gfSBmcm9tIFwiYWN0aW9uc1wiO1xuaW1wb3J0IEFwcCBmcm9tIFwiY29tcG9uZW50cy9BcHBcIjtcbmltcG9ydCB7IGZpbHRlckxpc3QsIGdyYXlzY2FsZSB9IGZyb20gXCJmaWx0ZXJzXCI7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XG4gIGlucHV0SW1hZ2U6IHN0YXRlLmZpbHRlcnMuaW5wdXRJbWFnZSxcbiAgb3V0cHV0SW1hZ2U6IHN0YXRlLmZpbHRlcnMub3V0cHV0SW1hZ2UsXG4gIGF2YWlsYWJsZUZpbHRlcnM6IGZpbHRlckxpc3QsXG4gIHNlbGVjdGVkRmlsdGVyOiBzdGF0ZS5maWx0ZXJzLnNlbGVjdGVkLFxuICBjb252ZXJ0R3JheXNjYWxlOiBzdGF0ZS5maWx0ZXJzLmNvbnZlcnRHcmF5c2NhbGUsXG4gIHNjYWxlOiBzdGF0ZS5maWx0ZXJzLnNjYWxlLFxuICBvdXRwdXRTY2FsZTogc3RhdGUuZmlsdGVycy5vdXRwdXRTY2FsZSxcbiAgc2NhbGluZ0FsZ29yaXRobTogc3RhdGUuZmlsdGVycy5zY2FsaW5nQWxnb3JpdGhtLFxuICB0aW1lOiBzdGF0ZS5maWx0ZXJzLnRpbWUsXG4gIGlucHV0VmlkZW86IHN0YXRlLmZpbHRlcnMudmlkZW8sXG4gIGlucHV0VmlkZW9Wb2x1bWU6IHN0YXRlLmZpbHRlcnMudmlkZW9Wb2x1bWUsXG4gIGlucHV0VmlkZW9QbGF5YmFja1JhdGU6IHN0YXRlLmZpbHRlcnMudmlkZW9QbGF5YmFja1JhdGUsXG4gIHJlYWx0aW1lRmlsdGVyaW5nOiBzdGF0ZS5maWx0ZXJzLnJlYWx0aW1lRmlsdGVyaW5nXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcbiAgb25Mb2FkSW1hZ2U6IChlLCB2b2x1bWUgPSAxLCBwbGF5YmFja1JhdGUgPSAxKSA9PiAvLyAkRmxvd0ZpeE1lXG4gIGRpc3BhdGNoKGxvYWRNZWRpYUFzeW5jKGUudGFyZ2V0LmZpbGVzWzBdLCB2b2x1bWUsIHBsYXliYWNrUmF0ZSkpLFxuICBvbkZpbHRlckltYWdlOiAoaW5wdXQsIGZpbHRlciwgY29udmVydEdyYXlzY2FsZSA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyRnVuYyA9IGNvbnZlcnRHcmF5c2NhbGUgPyAoaSwgbykgPT4gZmlsdGVyLmZ1bmMoZ3JheXNjYWxlLmZ1bmMoaSksIG8pIDogZmlsdGVyLmZ1bmM7IC8vICRGbG93Rml4TWVcblxuICAgIGRpc3BhdGNoKGZpbHRlckltYWdlQXN5bmMoaW5wdXQsIGZpbHRlckZ1bmMsIGZpbHRlci5vcHRpb25zKSk7XG4gIH0sXG4gIG9uU2VsZWN0RmlsdGVyOiAobmFtZSwgZmlsdGVyKSA9PiBkaXNwYXRjaChzZWxlY3RGaWx0ZXIobmFtZSwgZmlsdGVyKSksXG4gIG9uQ29udmVydEdyYXlzY2FsZTogdmFsID0+IGRpc3BhdGNoKHNldENvbnZlcnRHcmF5c2NhbGUodmFsKSksXG4gIG9uU2V0SW5wdXQ6IGltYWdlID0+IGRpc3BhdGNoKGxvYWRJbWFnZShpbWFnZSkpLFxuICBvblNldFNjYWxlOiBzY2FsZSA9PiBkaXNwYXRjaChzZXRTY2FsZShzY2FsZSkpLFxuICBvblNldE91dHB1dFNjYWxlOiBzY2FsZSA9PiBkaXNwYXRjaChzZXRPdXRwdXRTY2FsZShzY2FsZSkpLFxuICBvblNldFJlYWxUaW1lRmlsdGVyaW5nOiBlbmFibGVkID0+IGRpc3BhdGNoKHNldFJlYWx0aW1lRmlsdGVyaW5nKGVuYWJsZWQpKSxcbiAgb25TZXRJbnB1dENhbnZhczogY2FudmFzID0+IGRpc3BhdGNoKHNldElucHV0Q2FudmFzKGNhbnZhcykpLFxuICBvblNldElucHV0Vm9sdW1lOiB2b2x1bWUgPT4gZGlzcGF0Y2goc2V0SW5wdXRWb2x1bWUodm9sdW1lKSksXG4gIG9uU2V0SW5wdXRQbGF5YmFja1JhdGU6IHJhdGUgPT4gZGlzcGF0Y2goc2V0SW5wdXRQbGF5YmFja1JhdGUocmF0ZSkpLFxuICBvbkltcG9ydFN0YXRlOiBqc29uID0+IGRpc3BhdGNoKGltcG9ydFN0YXRlKGpzb24pKSxcbiAgb25TZXRTY2FsaW5nQWxnb3JpdGhtOiAobmFtZSwgYWxnb3JpdGhtKSA9PiBkaXNwYXRjaChzZXRTY2FsaW5nQWxnb3JpdGhtKGFsZ29yaXRobSkpXG59KTtcblxuY29uc3QgQ29udGFpbmVkQXBwID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQXBwKTtcbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lZEFwcDsiLCJmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IExPQURfSU1BR0UsIExPQURfU1RBVEUsIEZJTFRFUl9JTUFHRSwgU0VMRUNUX0ZJTFRFUiwgU0VUX0dSQVlTQ0FMRSwgU0VUX1JFQUxfVElNRV9GSUxURVJJTkcsIFNFVF9JTlBVVF9DQU5WQVMsIFNFVF9JTlBVVF9WT0xVTUUsIFNFVF9JTlBVVF9QTEFZQkFDS19SQVRFLCBTRVRfU0NBTEUsIFNFVF9PVVRQVVRfU0NBTEUsIFNFVF9GSUxURVJfT1BUSU9OLCBTRVRfRklMVEVSX1BBTEVUVEVfT1BUSU9OLCBBRERfUEFMRVRURV9DT0xPUiwgU0VUX1NDQUxJTkdfQUxHT1JJVEhNIH0gZnJvbSBcImNvbnN0YW50cy9hY3Rpb25UeXBlc1wiO1xuaW1wb3J0IHsgU0NBTElOR19BTEdPUklUSE0gfSBmcm9tIFwiY29uc3RhbnRzL29wdGlvblR5cGVzXCI7XG5pbXBvcnQgeyBmbG95ZFN0ZWluYmVyZyB9IGZyb20gXCJmaWx0ZXJzL2Vycm9yRGlmZnVzaW5nXCI7XG5pbXBvcnQgeyBncmF5c2NhbGUsIGZpbHRlckluZGV4IH0gZnJvbSBcImZpbHRlcnNcIjtcbmltcG9ydCB7IHBhbGV0dGVMaXN0IH0gZnJvbSBcInBhbGV0dGVzXCI7XG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBzZWxlY3RlZDoge1xuICAgIGRpc3BsYXlOYW1lOiBcIkZsb3lkLVN0ZWluYmVyZ1wiLFxuICAgIGZpbHRlcjogZmxveWRTdGVpbmJlcmdcbiAgfSxcbiAgY29udmVydEdyYXlzY2FsZTogZmFsc2UsXG4gIHNjYWxlOiAxLFxuICBvdXRwdXRTY2FsZTogMSxcbiAgaW5wdXRDYW52YXM6IG51bGwsXG4gIGlucHV0SW1hZ2U6IG51bGwsXG4gIG91dHB1dEltYWdlOiBudWxsLFxuICByZWFsdGltZUZpbHRlcmluZzogZmFsc2UsXG4gIHRpbWU6IG51bGwsXG4gIHZpZGVvOiBudWxsLFxuICB2aWRlb1ZvbHVtZTogMSxcbiAgdmlkZW9QbGF5YmFja1JhdGU6IDEsXG4gIHNjYWxpbmdBbGdvcml0aG06IFNDQUxJTkdfQUxHT1JJVEhNLlBJWEVMQVRFRFxufTtcbmV4cG9ydCBkZWZhdWx0ICgoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBMT0FEX1NUQVRFOlxuICAgICAgY29uc3QgbG9jYWxGaWx0ZXIgPSBmaWx0ZXJJbmRleFthY3Rpb24uZGF0YS5zZWxlY3RlZC5maWx0ZXIubmFtZV07XG5cbiAgICAgIGNvbnN0IGRlc2VyaWFsaXplZEZpbHRlciA9IF9vYmplY3RTcHJlYWQoe30sIGxvY2FsRmlsdGVyLCB7XG4gICAgICAgIG9wdGlvbnM6IGFjdGlvbi5kYXRhLnNlbGVjdGVkLmZpbHRlci5vcHRpb25zXG4gICAgICB9KTtcblxuICAgICAgaWYgKGRlc2VyaWFsaXplZEZpbHRlci5vcHRpb25zLnBhbGV0dGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBsb2NhbFBhbGV0dGUgPSBwYWxldHRlTGlzdC5maW5kKHAgPT4gcC5wYWxldHRlLm5hbWUgPT09IGRlc2VyaWFsaXplZEZpbHRlci5vcHRpb25zLnBhbGV0dGUubmFtZSk7XG5cbiAgICAgICAgaWYgKGxvY2FsUGFsZXR0ZSkge1xuICAgICAgICAgIGRlc2VyaWFsaXplZEZpbHRlci5vcHRpb25zLnBhbGV0dGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBsb2NhbFBhbGV0dGUucGFsZXR0ZSwge1xuICAgICAgICAgICAgb3B0aW9uczogZGVzZXJpYWxpemVkRmlsdGVyLm9wdGlvbnMucGFsZXR0ZS5vcHRpb25zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBhY3Rpb24uZGF0YS5zZWxlY3RlZCwge1xuICAgICAgICAgIGZpbHRlcjogZGVzZXJpYWxpemVkRmlsdGVyXG4gICAgICAgIH0pLFxuICAgICAgICBjb252ZXJ0R3JheXNjYWxlOiBhY3Rpb24uZGF0YS5jb252ZXJ0R3JheXNjYWxlXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0VUX1NDQUxJTkdfQUxHT1JJVEhNOlxuICAgICAge1xuICAgICAgICBpZiAoc3RhdGUuaW5wdXRDYW52YXMpIHtcbiAgICAgICAgICBjb25zdCBjb250ZXh0ID0gc3RhdGUuaW5wdXRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQgJiYgc3RhdGUuaW5wdXRJbWFnZSkge1xuICAgICAgICAgICAgY29uc3Qgc21vb3RoaW5nRW5hYmxlZCA9IGFjdGlvbi5hbGdvcml0aG0gPT09IFNDQUxJTkdfQUxHT1JJVEhNLkFVVE87XG4gICAgICAgICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHNtb290aGluZ0VuYWJsZWQ7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShzdGF0ZS5pbnB1dEltYWdlLCAwLCAwLCBzdGF0ZS5pbnB1dEltYWdlLndpZHRoICogKHN0YXRlLnNjYWxlIHx8IDEpLCBzdGF0ZS5pbnB1dEltYWdlLmhlaWdodCAqIChzdGF0ZS5zY2FsZSB8fCAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgICAgc2NhbGluZ0FsZ29yaXRobTogYWN0aW9uLmFsZ29yaXRobVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIGNhc2UgU0VUX0lOUFVUX0NBTlZBUzpcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwge1xuICAgICAgICBpbnB1dENhbnZhczogYWN0aW9uLmNhbnZhc1xuICAgICAgfSk7XG5cbiAgICBjYXNlIFNFVF9JTlBVVF9WT0xVTUU6XG4gICAgICBpZiAoc3RhdGUudmlkZW8pIHtcbiAgICAgICAgc3RhdGUudmlkZW8udm9sdW1lID0gYWN0aW9uLnZvbHVtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgdmlkZW9Wb2x1bWU6IGFjdGlvbi52b2x1bWVcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTRVRfSU5QVVRfUExBWUJBQ0tfUkFURTpcbiAgICAgIGlmIChzdGF0ZS52aWRlbykge1xuICAgICAgICBzdGF0ZS52aWRlby5wbGF5YmFja1JhdGUgPSBhY3Rpb24ucmF0ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgdmlkZW9QbGF5YmFja1JhdGU6IGFjdGlvbi5yYXRlXG4gICAgICB9KTtcblxuICAgIGNhc2UgTE9BRF9JTUFHRTpcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIC8vIEltYWdlIG9yIG5ldyB2aWRlb1xuICAgICAgaWYgKHN0YXRlLnZpZGVvICE9IG51bGwgJiYgKCFhY3Rpb24udmlkZW8gfHwgYWN0aW9uLnZpZGVvICE9PSBzdGF0ZS52aWRlbykpIHtcbiAgICAgICAgc3RhdGUudmlkZW8ucGF1c2UoKTsgLy8gJEZsb3dGaXhNZVxuXG4gICAgICAgIHN0YXRlLnZpZGVvLnNyYyA9IFwiXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3U3RhdGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwge1xuICAgICAgICBpbnB1dEltYWdlOiBhY3Rpb24uaW1hZ2UsXG4gICAgICAgIHRpbWU6IGFjdGlvbi50aW1lIHx8IDAsXG4gICAgICAgIHZpZGVvOiBhY3Rpb24udmlkZW8gfHwgbnVsbCxcbiAgICAgICAgcmVhbHRpbWVGaWx0ZXJpbmc6IGFjdGlvbi52aWRlbyAmJiBzdGF0ZS5yZWFsdGltZUZpbHRlcmluZ1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChzdGF0ZS5yZWFsdGltZUZpbHRlcmluZyAmJiBzdGF0ZS5pbnB1dENhbnZhcykge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBzdGF0ZS5jb252ZXJ0R3JheXNjYWxlID8gc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLmZ1bmMoZ3JheXNjYWxlLmZ1bmMoc3RhdGUuaW5wdXRDYW52YXMpLCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucywgYWN0aW9uLmRpc3BhdGNoKSA6IHN0YXRlLnNlbGVjdGVkLmZpbHRlci5mdW5jKHN0YXRlLmlucHV0Q2FudmFzLCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucywgYWN0aW9uLmRpc3BhdGNoKTtcblxuICAgICAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICBuZXdTdGF0ZS5vdXRwdXRJbWFnZSA9IG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIFNFVF9HUkFZU0NBTEU6XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgY29udmVydEdyYXlzY2FsZTogYWN0aW9uLnZhbHVlXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0VUX1JFQUxfVElNRV9GSUxURVJJTkc6XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVhbHRpbWVGaWx0ZXJpbmc6IGFjdGlvbi5lbmFibGVkXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0VUX1NDQUxFOlxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIHNjYWxlOiBhY3Rpb24uc2NhbGVcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTRVRfT1VUUFVUX1NDQUxFOlxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIG91dHB1dFNjYWxlOiBhY3Rpb24uc2NhbGVcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTRUxFQ1RfRklMVEVSOlxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgICAgZmlsdGVyOiBhY3Rpb24uZmlsdGVyLmZpbHRlclxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNhc2UgU0VUX0ZJTFRFUl9PUFRJT046XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnNlbGVjdGVkLCB7XG4gICAgICAgICAgZmlsdGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIsIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnNlbGVjdGVkLmZpbHRlci5vcHRpb25zLCB7XG4gICAgICAgICAgICAgIFthY3Rpb24ub3B0aW9uTmFtZV06IGFjdGlvbi52YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICBjYXNlIFNFVF9GSUxURVJfUEFMRVRURV9PUFRJT046XG4gICAgICBpZiAoIXN0YXRlLnNlbGVjdGVkLmZpbHRlci5vcHRpb25zIHx8ICFzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucy5wYWxldHRlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIHNldCBvcHRpb24gb24gbnVsbCBwYWxldHRlXCIsIHN0YXRlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZCwge1xuICAgICAgICAgIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLCB7XG4gICAgICAgICAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucywge1xuICAgICAgICAgICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucy5wYWxldHRlLCB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLm9wdGlvbnMucGFsZXR0ZS5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICBbYWN0aW9uLm9wdGlvbk5hbWVdOiBhY3Rpb24udmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICBjYXNlIEFERF9QQUxFVFRFX0NPTE9SOlxuICAgICAgaWYgKCFzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucyB8fCAhc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLm9wdGlvbnMucGFsZXR0ZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJUcmllZCB0byBhZGQgY29sb3IgdG8gbnVsbCBwYWxldHRlXCIsIHN0YXRlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZCwge1xuICAgICAgICAgIGZpbHRlcjogX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLCB7XG4gICAgICAgICAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucywge1xuICAgICAgICAgICAgICBwYWxldHRlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucy5wYWxldHRlLCB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQuZmlsdGVyLm9wdGlvbnMucGFsZXR0ZS5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICBjb2xvcnM6IFsuLi5zdGF0ZS5zZWxlY3RlZC5maWx0ZXIub3B0aW9ucy5wYWxldHRlLm9wdGlvbnMuY29sb3JzLCBhY3Rpb24uY29sb3JdXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBGSUxURVJfSU1BR0U6XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHtcbiAgICAgICAgb3V0cHV0SW1hZ2U6IGFjdGlvbi5pbWFnZVxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59KTsiLCJpbXBvcnQgZmlsdGVycyBmcm9tIFwiLi9maWx0ZXJzXCI7XG5leHBvcnQgZGVmYXVsdCB7XG4gIGZpbHRlcnNcbn07IiwiZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGFwcGx5TWlkZGxld2FyZSwgY29tcG9zZSB9IGZyb20gXCJyZWR1eFwiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSBcInJlZHV4LXRodW5rXCI7XG5pbXBvcnQgY3JlYXRlSGlzdG9yeSBmcm9tIFwiaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeVwiO1xuaW1wb3J0IHsgUm91dGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgQ29ubmVjdGVkUm91dGVyLCByb3V0ZXJSZWR1Y2VyLCByb3V0ZXJNaWRkbGV3YXJlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1yZWR1eFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwiY29udGFpbmVycy9BcHBcIjtcbmltcG9ydCByZWR1Y2VycyBmcm9tIFwicmVkdWNlcnNcIjtcbmltcG9ydCB7IFRIRU1FUyB9IGZyb20gXCJwYWxldHRlcy91c2VyXCI7XG5pbXBvcnQgeyBQQUxFVFRFIH0gZnJvbSBcImNvbnN0YW50cy9vcHRpb25UeXBlc1wiO1xuaW1wb3J0IHMgZnJvbSBcInN0eWxlcy9zdHlsZS5zY3NzXCI7XG5pbXBvcnQgeyBmaWx0ZXJMaXN0IH0gZnJvbSBcImZpbHRlcnNcIjtcbmltcG9ydCB7IHNlbGVjdEZpbHRlciwgaW1wb3J0U3RhdGUgfSBmcm9tIFwiYWN0aW9uc1wiOyAvLyBSZWR1eCBkZXZ0b29scyBhcmUgc3RpbGwgZW5hYmxlZCBpbiBwcm9kdWN0aW9uIVxuXG5jb25zdCBjb21wb3NlRW5oYW5jZXJzID0gd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyA/IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18oe1xuICBhY3Rpb25zQmxhY2tsaXN0OiBbXVxufSkgOiBjb21wb3NlO1xuY29uc3QgYXBwUmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyhfb2JqZWN0U3ByZWFkKHt9LCByZWR1Y2Vycywge1xuICByb3V0ZXI6IHJvdXRlclJlZHVjZXJcbn0pKTtcbmNvbnN0IGhpc3RvcnkgPSBjcmVhdGVIaXN0b3J5KCk7XG5jb25zdCBtaWRkbGV3YXJlID0gW3RodW5rTWlkZGxld2FyZSwgcm91dGVyTWlkZGxld2FyZShoaXN0b3J5KV07XG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKGFwcFJlZHVjZXIsIGNvbXBvc2VFbmhhbmNlcnMoYXBwbHlNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmUpKSk7IC8vIExvYWQgbG9jYWxTdG9yYWdlXG5cbk9iamVjdC52YWx1ZXMobG9jYWxTdG9yYWdlKS5mb3JFYWNoKGpzb24gPT4ge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikgcmV0dXJuO1xuICAgIGNvbnN0IG9wdGlvbiA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgaWYgKCFvcHRpb24gfHwgIW9wdGlvbi50eXBlKSByZXR1cm47XG5cbiAgICBpZiAob3B0aW9uLnR5cGUgPT09IFBBTEVUVEUpIHtcbiAgICAgIFRIRU1FU1tvcHRpb24ubmFtZV0gPSBvcHRpb24uY29sb3JzO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkgey8vIGNvbnNvbGUubG9nKFwiTm90IGFuIG9wdGlvblwiLCBqc29uKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG59KTsgLy8gQ2hlY2sgZm9yIHBhcmFtc1xuXG5pZiAod2luZG93LlVSTFNlYXJjaFBhcmFtcyAmJiB3aW5kb3cubG9jYXRpb24uc2VhcmNoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7IC8vIEFsZ29yaXRobVxuXG4gIGNvbnN0IGFsZyA9IHBhcmFtcy5nZXQoXCJhbGdcIik7XG4gIGNvbnN0IGZpbHRlcnMgPSBmaWx0ZXJMaXN0O1xuICBjb25zdCBzZWxlY3RlZEZpbHRlck9wdGlvbiA9IGZpbHRlcnMuZmluZChmID0+IGYgJiYgZi5kaXNwbGF5TmFtZSAmJiBmLmRpc3BsYXlOYW1lID09PSBhbGcpO1xuICBjb25zdCBzZWxlY3RlZEZpbHRlciA9IHNlbGVjdGVkRmlsdGVyT3B0aW9uO1xuXG4gIGlmIChhbGcgJiYgc2VsZWN0ZWRGaWx0ZXIgIT0gbnVsbCkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3RGaWx0ZXIoYWxnLCBzZWxlY3RlZEZpbHRlck9wdGlvbikpO1xuICB9XG5cbiAgY29uc3Qgc3RhdGUgPSBwYXJhbXMuZ2V0KFwic3RhdGVcIik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gd2luZG93LmF0b2Ioc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlICYmIGRlY29kZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGltcG9ydFN0YXRlKGRlY29kZWQpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIHN0YXRlOlwiLCBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG59XG5cbmNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG5cbmlmIChyb290ICE9IG51bGwpIHtcbiAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICBzdG9yZTogc3RvcmVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0ZWRSb3V0ZXIsIHtcbiAgICBoaXN0b3J5OiBoaXN0b3J5XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgfVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogXCIvXCIsXG4gICAgY29tcG9uZW50OiBBcHAsXG4gICAgY2xhc3NOYW1lOiBzLmFwcFxuICB9KSkpKSwgcm9vdCk7XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDek9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDaGxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaGRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoTkE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n')},59:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(23)(false);\n// imports\nexports.i(__webpack_require__(28), undefined);\n\n// module\nexports.push([module.i, "/* A postcss-import import, relative resolution */\\n/* This is an example typographic scale used to demo CSS imports in ./style.scss\\n * Note that this is a plain old CSS file\\n */\\nhtml {\\n  font-size: 1em;\\n}\\nbody {\\n  background-color: white;\\n  font-family: Tahoma, Arial, \\"Helvetica Neue\\", Helvetica, sans-serif;\\n  font-size: 10pt;\\n  font-weight: 400;\\n  line-height: 1.45;\\n  color: #333;\\n}\\nh1 {\\n  font-size: 10pt;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  cursor: default;\\n  margin: 0;\\n}\\nh2 {\\n  margin: 0;\\n  font-size: 10pt;\\n  margin-bottom: 3px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  cursor: default;\\n}\\n/* Imported values, resolving from src/ (configured in postcss.config.js) */\\n._2Yw4Z3CdejkRYMs8bIMrQm {\\n  font-size: 0.75em;\\n}\\n/* Element rules work globally, so use .class selectors when using in React components */\\nhtml,\\nbody {\\n  height: 100%;\\n  width: 100%;\\n  padding: 0;\\n  margin: 0;\\n}\\n/* precss variable + cssnext hsl() function */\\nbody {\\n  background: rgb(38, 38, 38);\\n}\\na {\\n  color: blue;\\n}\\n._2f5TvrDqmpRmE0IQvUWN0a {\\n\\n  /* CSS Modules composes direct from file */\\n}\\n/* PreCSS SASS-style nesting */\\n._2f5TvrDqmpRmE0IQvUWN0a > .MgQVQdGUzXUSsodu2fxXD {\\n    color: rgb(38, 38, 38);\\n  }\\n._1VhvN1yb0kNPLYb2-_wIPf {\\n  /* CSS Modules composes from local class */\\n}", ""]);\n\n// exports\nexports.locals = {\n\t"s": "_2Yw4Z3CdejkRYMs8bIMrQm",\n\t"example-compose": "_2f5TvrDqmpRmE0IQvUWN0a " + __webpack_require__(28).locals["s"] + "",\n\t"example-nesting": "MgQVQdGUzXUSsodu2fxXD",\n\t"example-compose-2": "_1VhvN1yb0kNPLYb2-_wIPf _2f5TvrDqmpRmE0IQvUWN0a " + __webpack_require__(28).locals["s"] + ""\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvc3R5bGUuc2Nzcz9iZWVhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTItMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTItMiFzdHlsZXMvZXhhbXBsZS5zY3NzXCIpLCB1bmRlZmluZWQpO1xuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIEEgcG9zdGNzcy1pbXBvcnQgaW1wb3J0LCByZWxhdGl2ZSByZXNvbHV0aW9uICovXFxuLyogVGhpcyBpcyBhbiBleGFtcGxlIHR5cG9ncmFwaGljIHNjYWxlIHVzZWQgdG8gZGVtbyBDU1MgaW1wb3J0cyBpbiAuL3N0eWxlLnNjc3NcXG4gKiBOb3RlIHRoYXQgdGhpcyBpcyBhIHBsYWluIG9sZCBDU1MgZmlsZVxcbiAqL1xcbmh0bWwge1xcbiAgZm9udC1zaXplOiAxZW07XFxufVxcbmJvZHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBmb250LWZhbWlseTogVGFob21hLCBBcmlhbCwgXFxcIkhlbHZldGljYSBOZXVlXFxcIiwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ1O1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbmgxIHtcXG4gIGZvbnQtc2l6ZTogMTBwdDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBtYXJnaW46IDA7XFxufVxcbmgyIHtcXG4gIG1hcmdpbjogMDtcXG4gIGZvbnQtc2l6ZTogMTBwdDtcXG4gIG1hcmdpbi1ib3R0b206IDNweDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbi8qIEltcG9ydGVkIHZhbHVlcywgcmVzb2x2aW5nIGZyb20gc3JjLyAoY29uZmlndXJlZCBpbiBwb3N0Y3NzLmNvbmZpZy5qcykgKi9cXG4uXzJZdzRaM0NkZWprUllNczhiSU1yUW0ge1xcbiAgZm9udC1zaXplOiAwLjc1ZW07XFxufVxcbi8qIEVsZW1lbnQgcnVsZXMgd29yayBnbG9iYWxseSwgc28gdXNlIC5jbGFzcyBzZWxlY3RvcnMgd2hlbiB1c2luZyBpbiBSZWFjdCBjb21wb25lbnRzICovXFxuaHRtbCxcXG5ib2R5IHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG59XFxuLyogcHJlY3NzIHZhcmlhYmxlICsgY3NzbmV4dCBoc2woKSBmdW5jdGlvbiAqL1xcbmJvZHkge1xcbiAgYmFja2dyb3VuZDogcmdiKDM4LCAzOCwgMzgpO1xcbn1cXG5hIHtcXG4gIGNvbG9yOiBibHVlO1xcbn1cXG4uXzJmNVR2ckRxbXBSbUUwSVF2VVdOMGEge1xcblxcbiAgLyogQ1NTIE1vZHVsZXMgY29tcG9zZXMgZGlyZWN0IGZyb20gZmlsZSAqL1xcbn1cXG4vKiBQcmVDU1MgU0FTUy1zdHlsZSBuZXN0aW5nICovXFxuLl8yZjVUdnJEcW1wUm1FMElRdlVXTjBhID4gLk1nUVZRZEdVelhVU3NvZHUyZnhYRCB7XFxuICAgIGNvbG9yOiByZ2IoMzgsIDM4LCAzOCk7XFxuICB9XFxuLl8xVmh2TjF5YjBrTlBMWWIyLV93SVBmIHtcXG4gIC8qIENTUyBNb2R1bGVzIGNvbXBvc2VzIGZyb20gbG9jYWwgY2xhc3MgKi9cXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwic1wiOiBcIl8yWXc0WjNDZGVqa1JZTXM4YklNclFtXCIsXG5cdFwiZXhhbXBsZS1jb21wb3NlXCI6IFwiXzJmNVR2ckRxbXBSbUUwSVF2VVdOMGEgXCIgKyByZXF1aXJlKFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0yLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0yLTIhc3R5bGVzL2V4YW1wbGUuc2Nzc1wiKS5sb2NhbHNbXCJzXCJdICsgXCJcIixcblx0XCJleGFtcGxlLW5lc3RpbmdcIjogXCJNZ1FWUWRHVXpYVVNzb2R1MmZ4WERcIixcblx0XCJleGFtcGxlLWNvbXBvc2UtMlwiOiBcIl8xVmh2TjF5YjBrTlBMWWIyLV93SVBmIF8yZjVUdnJEcW1wUm1FMElRdlVXTjBhIFwiICsgcmVxdWlyZShcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMi0xIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMi0yIXN0eWxlcy9leGFtcGxlLnNjc3NcIikubG9jYWxzW1wic1wiXSArIFwiXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///59\n')},6:function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(70);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(30)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbXBvbmVudHMvY29udHJvbHMvc3R5bGVzLnNjc3M/MWZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMi0yIS4vc3R5bGVzLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTItMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTItMiEuL3N0eWxlcy5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMi0yIS4vc3R5bGVzLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},68:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(23)(false);\n// imports\n\n\n// module\nexports.push([module.i, "@-webkit-keyframes _1Dm_UEDoG4yn6LGgDtgods {\\n  0% { content: \\"\\\\1F55B\\"; }\\n  8.333% { content: \\"\\\\1F550\\"; }\\n  16.666% { content: \\"\\\\1F551\\"; }\\n  25% { content: \\"\\\\1F552\\"; }\\n  33.333% { content: \\"\\\\1F553\\"; }\\n  33.333% { content: \\"\\\\1F554\\"; }\\n  41.666% { content: \\"\\\\1F555\\"; }\\n  50% { content: \\"\\\\1F556\\"; }\\n  58.333% { content: \\"\\\\1F557\\"; }\\n  66.666% { content: \\"\\\\1F558\\"; }\\n  75% { content: \\"\\\\1F559\\"; }\\n  91.666% { content: \\"\\\\1F55A\\"; }\\n  100% { content: \\"\\\\1F55B\\"; }\\n}\\n\\n@keyframes _1Dm_UEDoG4yn6LGgDtgods {\\n  0% { content: \\"\\\\1F55B\\"; }\\n  8.333% { content: \\"\\\\1F550\\"; }\\n  16.666% { content: \\"\\\\1F551\\"; }\\n  25% { content: \\"\\\\1F552\\"; }\\n  33.333% { content: \\"\\\\1F553\\"; }\\n  33.333% { content: \\"\\\\1F554\\"; }\\n  41.666% { content: \\"\\\\1F555\\"; }\\n  50% { content: \\"\\\\1F556\\"; }\\n  58.333% { content: \\"\\\\1F557\\"; }\\n  66.666% { content: \\"\\\\1F558\\"; }\\n  75% { content: \\"\\\\1F559\\"; }\\n  91.666% { content: \\"\\\\1F55A\\"; }\\n  100% { content: \\"\\\\1F55B\\"; }\\n}\\n\\n@-webkit-keyframes EzlNnfzqDm81hAIRyfa33 {\\n  to {\\n    visibility: hidden;\\n  }\\n}\\n\\n@keyframes EzlNnfzqDm81hAIRyfa33 {\\n  to {\\n    visibility: hidden;\\n  }\\n}\\n\\n._1-d1D6ENzuE6hgoPAIjtly {\\n  -ms-flex-line-pack: start;\\n      align-content: flex-start;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  min-height: 100%;\\n  -webkit-box-pack: start;\\n      -ms-flex-pack: start;\\n          justify-content: flex-start;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n}\\n\\n.LxqVrK6OrD3iQ2aebySug {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  background: #bfbfbf;\\n  min-width: 210px;\\n  width: 10vw;\\n  padding: 15px;\\n}\\n\\n.LxqVrK6OrD3iQ2aebySug ._2I0-nt8AezouIVUIAVFFui {\\n    padding: 20px;\\n    width: 100%;\\n  }\\n\\n.LxqVrK6OrD3iQ2aebySug .C2pOH8V5H9WnPGBG3Ir5T:active::after {position: absolute;-webkit-transform: translateX(-25px) translateY(-2px);transform: translateX(-25px) translateY(-2px);content: \\"\\\\1F55B\\";-webkit-animation: _1Dm_UEDoG4yn6LGgDtgods 0.5s linear infinite;animation: _1Dm_UEDoG4yn6LGgDtgods 0.5s linear infinite;\\n}\\n\\n.LxqVrK6OrD3iQ2aebySug ._1j9buLOC3bwjXjhvTfpLtM {\\n    margin-top: 10px;\\n  }\\n\\n.LxqVrK6OrD3iQ2aebySug ._1L1ck2YQEELrOVdqyf7ejT:not(:first-child) {\\n    margin-top: 20px;\\n  }\\n\\n.LxqVrK6OrD3iQ2aebySug ._2DMNxACFKnBEsynorVpBZ3 {\\n    max-width: 210px;\\n  }\\n\\n.LxqVrK6OrD3iQ2aebySug ._3aVJLjR3W_YbADHDGMsceP {\\n    margin-top: auto;\\n  }\\n\\n.xUeQ_8OWCBxbWJORDijmz {\\n  display: none !important;\\n}\\n\\n._2Cvu3Fe-DVTVjvKoAP5jXo {\\n  -webkit-animation: EzlNnfzqDm81hAIRyfa33 1.5s steps(5, start) infinite;\\n          animation: EzlNnfzqDm81hAIRyfa33 1.5s steps(5, start) infinite;\\n  font-weight: bold;\\n  color: red;\\n  position: absolute;\\n  right: 8px;\\n  top: 32px;\\n}\\n\\n._1xVDP1RXmXke22kyMONYmQ {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: row;\\n          flex-flow: row;\\n}\\n\\n._1xVDP1RXmXke22kyMONYmQ > div {\\n    margin: 10px;\\n    display: table;\\n    background-color: #bfbfbf;\\n  }\\n\\n._1xVDP1RXmXke22kyMONYmQ ._1rsMGsNSFn5nQTqSbd237a {\\n    display: block;\\n  }", ""]);\n\n// exports\nexports.locals = {\n\t"app": "_1-d1D6ENzuE6hgoPAIjtly",\n\t"chrome": "LxqVrK6OrD3iQ2aebySug",\n\t"filterButton": "_2I0-nt8AezouIVUIAVFFui",\n\t"waitButton": "C2pOH8V5H9WnPGBG3Ir5T",\n\t"timer": "_1Dm_UEDoG4yn6LGgDtgods",\n\t"copyButton": "_1j9buLOC3bwjXjhvTfpLtM",\n\t"section": "_1L1ck2YQEELrOVdqyf7ejT",\n\t"captureSection": "_2DMNxACFKnBEsynorVpBZ3",\n\t"github": "_3aVJLjR3W_YbADHDGMsceP",\n\t"hide": "xUeQ_8OWCBxbWJORDijmz",\n\t"rec": "_2Cvu3Fe-DVTVjvKoAP5jXo",\n\t"blink": "EzlNnfzqDm81hAIRyfa33",\n\t"canvases": "_1xVDP1RXmXke22kyMONYmQ",\n\t"canvas": "_1rsMGsNSFn5nQTqSbd237a"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0FwcC9zdHlsZXMuc2Nzcz8zOTFjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQC13ZWJraXQta2V5ZnJhbWVzIF8xRG1fVUVEb0c0eW42TEdnRHRnb2RzIHtcXG4gIDAlIHsgY29udGVudDogXFxcIlxcXFwxRjU1QlxcXCI7IH1cXG4gIDguMzMzJSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTBcXFwiOyB9XFxuICAxNi42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1MVxcXCI7IH1cXG4gIDI1JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTJcXFwiOyB9XFxuICAzMy4zMzMlIHsgY29udGVudDogXFxcIlxcXFwxRjU1M1xcXCI7IH1cXG4gIDMzLjMzMyUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTU0XFxcIjsgfVxcbiAgNDEuNjY2JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTVcXFwiOyB9XFxuICA1MCUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTU2XFxcIjsgfVxcbiAgNTguMzMzJSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTdcXFwiOyB9XFxuICA2Ni42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1OFxcXCI7IH1cXG4gIDc1JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTlcXFwiOyB9XFxuICA5MS42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1QVxcXCI7IH1cXG4gIDEwMCUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTVCXFxcIjsgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIF8xRG1fVUVEb0c0eW42TEdnRHRnb2RzIHtcXG4gIDAlIHsgY29udGVudDogXFxcIlxcXFwxRjU1QlxcXCI7IH1cXG4gIDguMzMzJSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTBcXFwiOyB9XFxuICAxNi42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1MVxcXCI7IH1cXG4gIDI1JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTJcXFwiOyB9XFxuICAzMy4zMzMlIHsgY29udGVudDogXFxcIlxcXFwxRjU1M1xcXCI7IH1cXG4gIDMzLjMzMyUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTU0XFxcIjsgfVxcbiAgNDEuNjY2JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTVcXFwiOyB9XFxuICA1MCUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTU2XFxcIjsgfVxcbiAgNTguMzMzJSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTdcXFwiOyB9XFxuICA2Ni42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1OFxcXCI7IH1cXG4gIDc1JSB7IGNvbnRlbnQ6IFxcXCJcXFxcMUY1NTlcXFwiOyB9XFxuICA5MS42NjYlIHsgY29udGVudDogXFxcIlxcXFwxRjU1QVxcXCI7IH1cXG4gIDEwMCUgeyBjb250ZW50OiBcXFwiXFxcXDFGNTVCXFxcIjsgfVxcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgRXpsTm5menFEbTgxaEFJUnlmYTMzIHtcXG4gIHRvIHtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIEV6bE5uZnpxRG04MWhBSVJ5ZmEzMyB7XFxuICB0byB7XFxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIH1cXG59XFxuXFxuLl8xLWQxRDZFTnp1RTZoZ29QQUlqdGx5IHtcXG4gIC1tcy1mbGV4LWxpbmUtcGFjazogc3RhcnQ7XFxuICAgICAgYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogc3RhcnQ7XFxuICAgICAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLkx4cVZySzZPckQzaVEyYWVieVN1ZyB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGJhY2tncm91bmQ6ICNiZmJmYmY7XFxuICBtaW4td2lkdGg6IDIxMHB4O1xcbiAgd2lkdGg6IDEwdnc7XFxuICBwYWRkaW5nOiAxNXB4O1xcbn1cXG5cXG4uTHhxVnJLNk9yRDNpUTJhZWJ5U3VnIC5fMkkwLW50OEFlem91SVZVSUFWRkZ1aSB7XFxuICAgIHBhZGRpbmc6IDIwcHg7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgfVxcblxcbi5MeHFWcks2T3JEM2lRMmFlYnlTdWcgLkMycE9IOFY1SDlXblBHQkczSXI1VDphY3RpdmU6OmFmdGVyIHtwb3NpdGlvbjogYWJzb2x1dGU7LXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTI1cHgpIHRyYW5zbGF0ZVkoLTJweCk7dHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0yNXB4KSB0cmFuc2xhdGVZKC0ycHgpO2NvbnRlbnQ6IFxcXCJcXFxcMUY1NUJcXFwiOy13ZWJraXQtYW5pbWF0aW9uOiBfMURtX1VFRG9HNHluNkxHZ0R0Z29kcyAwLjVzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246IF8xRG1fVUVEb0c0eW42TEdnRHRnb2RzIDAuNXMgbGluZWFyIGluZmluaXRlO1xcbn1cXG5cXG4uTHhxVnJLNk9yRDNpUTJhZWJ5U3VnIC5fMWo5YnVMT0MzYndqWGpodlRmcEx0TSB7XFxuICAgIG1hcmdpbi10b3A6IDEwcHg7XFxuICB9XFxuXFxuLkx4cVZySzZPckQzaVEyYWVieVN1ZyAuXzFMMWNrMllRRUVMck9WZHF5ZjdlalQ6bm90KDpmaXJzdC1jaGlsZCkge1xcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xcbiAgfVxcblxcbi5MeHFWcks2T3JEM2lRMmFlYnlTdWcgLl8yRE1OeEFDRktuQkVzeW5vclZwQlozIHtcXG4gICAgbWF4LXdpZHRoOiAyMTBweDtcXG4gIH1cXG5cXG4uTHhxVnJLNk9yRDNpUTJhZWJ5U3VnIC5fM2FWSkxqUjNXX1liQURIREdNc2NlUCB7XFxuICAgIG1hcmdpbi10b3A6IGF1dG87XFxuICB9XFxuXFxuLnhVZVFfOE9XQ0J4YldKT1JEaWpteiB7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbi5fMkN2dTNGZS1EVlRWanZLb0FQNWpYbyB7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogRXpsTm5menFEbTgxaEFJUnlmYTMzIDEuNXMgc3RlcHMoNSwgc3RhcnQpIGluZmluaXRlO1xcbiAgICAgICAgICBhbmltYXRpb246IEV6bE5uZnpxRG04MWhBSVJ5ZmEzMyAxLjVzIHN0ZXBzKDUsIHN0YXJ0KSBpbmZpbml0ZTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6IHJlZDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiA4cHg7XFxuICB0b3A6IDMycHg7XFxufVxcblxcbi5fMXhWRFAxUlhtWGtlMjJreU1PTlltUSB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgIC1tcy1mbGV4LWZsb3c6IHJvdztcXG4gICAgICAgICAgZmxleC1mbG93OiByb3c7XFxufVxcblxcbi5fMXhWRFAxUlhtWGtlMjJreU1PTlltUSA+IGRpdiB7XFxuICAgIG1hcmdpbjogMTBweDtcXG4gICAgZGlzcGxheTogdGFibGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiZmJmYmY7XFxuICB9XFxuXFxuLl8xeFZEUDFSWG1Ya2UyMmt5TU9OWW1RIC5fMXJzTUdzTlNGbjVuUVRxU2JkMjM3YSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcImFwcFwiOiBcIl8xLWQxRDZFTnp1RTZoZ29QQUlqdGx5XCIsXG5cdFwiY2hyb21lXCI6IFwiTHhxVnJLNk9yRDNpUTJhZWJ5U3VnXCIsXG5cdFwiZmlsdGVyQnV0dG9uXCI6IFwiXzJJMC1udDhBZXpvdUlWVUlBVkZGdWlcIixcblx0XCJ3YWl0QnV0dG9uXCI6IFwiQzJwT0g4VjVIOVduUEdCRzNJcjVUXCIsXG5cdFwidGltZXJcIjogXCJfMURtX1VFRG9HNHluNkxHZ0R0Z29kc1wiLFxuXHRcImNvcHlCdXR0b25cIjogXCJfMWo5YnVMT0MzYndqWGpodlRmcEx0TVwiLFxuXHRcInNlY3Rpb25cIjogXCJfMUwxY2syWVFFRUxyT1ZkcXlmN2VqVFwiLFxuXHRcImNhcHR1cmVTZWN0aW9uXCI6IFwiXzJETU54QUNGS25CRXN5bm9yVnBCWjNcIixcblx0XCJnaXRodWJcIjogXCJfM2FWSkxqUjNXX1liQURIREdNc2NlUFwiLFxuXHRcImhpZGVcIjogXCJ4VWVRXzhPV0NCeGJXSk9SRGlqbXpcIixcblx0XCJyZWNcIjogXCJfMkN2dTNGZS1EVlRWanZLb0FQNWpYb1wiLFxuXHRcImJsaW5rXCI6IFwiRXpsTm5menFEbTgxaEFJUnlmYTMzXCIsXG5cdFwiY2FudmFzZXNcIjogXCJfMXhWRFAxUlhtWGtlMjJreU1PTlltUVwiLFxuXHRcImNhbnZhc1wiOiBcIl8xcnNNR3NOU0ZuNW5RVHFTYmQyMzdhXCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///68\n')},7:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./constants/controlTypes.js\nvar controlTypes = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./palettes/nearest.js\n\nconst nearest_optionTypes = {\n  levels: {\n    type: controlTypes["f" /* RANGE */],\n    range: [1, 256],\n    default: 2\n  }\n};\nconst nearest_defaults = {\n  levels: nearest_optionTypes.levels.default\n}; // Gets nearest color\n\nconst nearest_getColor = (color, options = nearest_defaults) => {\n  if (options.levels >= 256) {\n    return color;\n  }\n\n  const step = 255 / (options.levels - 1); // $FlowFixMe\n\n  return color.map(c => {\n    const bucket = Math.round(c / step);\n    return Math.round(bucket * step);\n  });\n};\n\n/* harmony default export */ var nearest = ({\n  name: "nearest",\n  getColor: nearest_getColor,\n  options: nearest_defaults,\n  optionTypes: nearest_optionTypes,\n  defaults: nearest_defaults\n});\n// EXTERNAL MODULE: ./palettes/user.js\nvar user = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./palettes/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return palettes_paletteList; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "a", function() { return nearest; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "c", function() { return user["b" /* default */]; });\n\n\n\n\nconst palettes_paletteList = [{\n  name: "Nearest",\n  palette: nearest\n}, {\n  name: "User/Adaptive",\n  palette: user["b" /* default */]\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhbGV0dGVzL25lYXJlc3QuanM/Njk0YSIsIndlYnBhY2s6Ly8vLi9wYWxldHRlcy9pbmRleC5qcz84ZGI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJBTkdFIH0gZnJvbSBcImNvbnN0YW50cy9jb250cm9sVHlwZXNcIjtcbmNvbnN0IG9wdGlvblR5cGVzID0ge1xuICBsZXZlbHM6IHtcbiAgICB0eXBlOiBSQU5HRSxcbiAgICByYW5nZTogWzEsIDI1Nl0sXG4gICAgZGVmYXVsdDogMlxuICB9XG59O1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGxldmVsczogb3B0aW9uVHlwZXMubGV2ZWxzLmRlZmF1bHRcbn07IC8vIEdldHMgbmVhcmVzdCBjb2xvclxuXG5jb25zdCBnZXRDb2xvciA9IChjb2xvciwgb3B0aW9ucyA9IGRlZmF1bHRzKSA9PiB7XG4gIGlmIChvcHRpb25zLmxldmVscyA+PSAyNTYpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBjb25zdCBzdGVwID0gMjU1IC8gKG9wdGlvbnMubGV2ZWxzIC0gMSk7IC8vICRGbG93Rml4TWVcblxuICByZXR1cm4gY29sb3IubWFwKGMgPT4ge1xuICAgIGNvbnN0IGJ1Y2tldCA9IE1hdGgucm91bmQoYyAvIHN0ZXApO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGJ1Y2tldCAqIHN0ZXApO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJuZWFyZXN0XCIsXG4gIGdldENvbG9yLFxuICBvcHRpb25zOiBkZWZhdWx0cyxcbiAgb3B0aW9uVHlwZXMsXG4gIGRlZmF1bHRzXG59OyIsImltcG9ydCBuZWFyZXN0IGZyb20gXCIuL25lYXJlc3RcIjtcbmltcG9ydCB1c2VyIGZyb20gXCIuL3VzZXJcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbmVhcmVzdCB9IGZyb20gXCIuL25lYXJlc3RcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlciB9IGZyb20gXCIuL3VzZXJcIjtcbmV4cG9ydCBjb25zdCBwYWxldHRlTGlzdCA9IFt7XG4gIG5hbWU6IFwiTmVhcmVzdFwiLFxuICBwYWxldHRlOiBuZWFyZXN0XG59LCB7XG4gIG5hbWU6IFwiVXNlci9BZGFwdGl2ZVwiLFxuICBwYWxldHRlOiB1c2VyXG59XTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUMvQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},70:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(23)(false);\n// imports\n\n\n// module\nexports.push([module.i, "._3KlivMF-Bynu52log_p_vg {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n._2_hkJ8CtyvhoRUq9KYwCY0 {\\n  border: 1px outset #fff;\\n  background: #bfbfbf;\\n  padding: 3px;\\n}\\n.FD685S5hufCd577AWkcey {\\n  text-transform: capitalize;\\n  background: grey;\\n  width: 100%;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  cursor: default;\\n}\\n._3B2ERox5tUNFCf1KhH4Fm_ {\\n\\n  border: 2px groove #bfbfbf;\\n  padding: 0 3px 3px;\\n  margin-top: 10px;\\n}\\n._3B2ERox5tUNFCf1KhH4Fm_ .FD685S5hufCd577AWkcey {\\n    background-color: #bfbfbf;\\n    padding: 0 3px;\\n    position: relative;\\n    top: -9px;\\n  }\\n._16tdlOmqL1wiia4A7Vu3nD {\\n  width: 100%;\\n  padding: 5px;\\n}\\n._1_XVeD_UYOs_dWSgoY2yMB {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-flow: row wrap;\\n          flex-flow: row wrap;\\n  max-width: 100%;\\n  max-height: 40vh;\\n  overflow-y: auto;\\n  padding: 5px 0;\\n}\\n._1_XVeD_UYOs_dWSgoY2yMB ._2xMKoqVC9EpLv4jsDUYKWD {\\n    min-height: 16px;\\n    min-width: 16px;\\n    cursor: pointer\\n  }\\n._1_XVeD_UYOs_dWSgoY2yMB ._2xMKoqVC9EpLv4jsDUYKWD:hover {outline: 2px solid #000080;-webkit-transform: scale(1.2);transform: scale(1.2);\\n}\\n._1_XVeD_UYOs_dWSgoY2yMB ._2xMKoqVC9EpLv4jsDUYKWD:active {-webkit-transform: scale(0.8);transform: scale(0.8);\\n}\\n.kOo__oeX_aWCVDevV7HP0 {\\n\\n  margin-top: 5px;\\n}\\n.kOo__oeX_aWCVDevV7HP0 ._1qUX8OnJgiIPb7vcD9sKS9 {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n  }\\n.kOo__oeX_aWCVDevV7HP0 ._1qUX8OnJgiIPb7vcD9sKS9 > input[type=range] {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1;\\n              flex: 1;\\n      margin: 0;\\n    }\\n.kOo__oeX_aWCVDevV7HP0 ._19GeXyM0WGuivruXkUCy2b {\\n    text-align: right;\\n    min-width: 35px;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    cursor: default;\\n  }\\n._16F-g5_X1a0eEjMRyld1H {\\n  width: 100%;\\n  background-color: white;\\n  border: 1px inset #ccc;\\n}\\n._1KhZ50QATkphLmucUDQvBk {\\n  outline: 2px solid #000080;\\n}\\n._1xkjK_OpGeFM2rHfMHqVIo {\\n  margin: 3px 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n._3aIw8gm5BHhVa8Tq9WEuUt {\\n  text-transform: capitalize;\\n  margin-bottom: 1px;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  cursor: default;\\n}\\ninput[type=text],\\ninput[type=select],\\ntextarea,\\n.gGYyBsNmkrN5xQprkCVC6 {\\n  border: 2px inset #ccc;\\n  padding: 5px;\\n}\\ntextarea {\\n  width: 90%;\\n  min-height: 200px;\\n}\\nbutton,\\n.aUSLPIQ1qkK1CKenoFS4- {\\n  background-color: #bfbfbf;\\n  border-left: 2px outset white;\\n  border-top: 2px outset white;\\n  border-bottom: 1px outset #bfbfbf;\\n  border-right: 1px outset #bfbfbf;\\n  -webkit-box-shadow: 1px 1px 0 black;\\n          box-shadow: 1px 1px 0 black;\\n  padding: 3px 6px;\\n  margin: 1px;\\n  outline: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none\\n}\\nbutton:active, .aUSLPIQ1qkK1CKenoFS4-:active {border: 2px inset #bfbfbf;border-bottom: 1px outset #bfbfbf;border-right: 1px outset #bfbfbf;\\n}\\nbutton:focus, .aUSLPIQ1qkK1CKenoFS4-:focus {outline: 1px dotted black;outline-offset: -5px;-webkit-box-shadow: 2px 0 black, 0 2px black, 2px 2px black;box-shadow: 2px 0 black, 0 2px black, 2px 2px black;\\n}\\n._1voKh84wobplhMqNPJ9hKh {\\n  background: -webkit-gradient(linear, left top, right top, from(#000080), to(#1c85ce));\\n  background: linear-gradient(90deg, #000080, #1c85ce);\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  padding: 2px 6px;\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  color: white;\\n  font-weight: bold;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin: 1px 2px;\\n  cursor: move;\\n}\\n._19zNW9Rex5U4jeHHH-P-jH {\\n  border-left: 2px outset white;\\n  border-top: 2px outset white;\\n  border-bottom: 1px outset #bfbfbf;\\n  border-right: 1px outset #bfbfbf;\\n}\\n._15pLumbM8B23E7c7eCavoM {\\n  cursor: text !important\\n}\\n._15pLumbM8B23E7c7eCavoM:hover {-webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .3);box-shadow: 0 1px 0 rgba(0, 0, 0, .3);\\n}\\n._3Bw8FESFoKKlibB7DPzoov {\\n  -webkit-user-select: none !important;\\n     -moz-user-select: none !important;\\n      -ms-user-select: none !important;\\n          user-select: none !important;\\n}", ""]);\n\n// exports\nexports.locals = {\n\t"controls": "_3KlivMF-Bynu52log_p_vg",\n\t"control": "_2_hkJ8CtyvhoRUq9KYwCY0",\n\t"name": "FD685S5hufCd577AWkcey",\n\t"group": "_3B2ERox5tUNFCf1KhH4Fm_",\n\t"enum": "_16tdlOmqL1wiia4A7Vu3nD",\n\t"colorArray": "_1_XVeD_UYOs_dWSgoY2yMB",\n\t"color": "_2xMKoqVC9EpLv4jsDUYKWD",\n\t"range": "kOo__oeX_aWCVDevV7HP0",\n\t"rangeGroup": "_1qUX8OnJgiIPb7vcD9sKS9",\n\t"value": "_19GeXyM0WGuivruXkUCy2b",\n\t"file": "_16F-g5_X1a0eEjMRyld1H",\n\t"dropping": "_1KhZ50QATkphLmucUDQvBk",\n\t"checkbox": "_1xkjK_OpGeFM2rHfMHqVIo",\n\t"label": "_3aIw8gm5BHhVa8Tq9WEuUt",\n\t"input": "gGYyBsNmkrN5xQprkCVC6",\n\t"button": "aUSLPIQ1qkK1CKenoFS4-",\n\t"titleBar": "_1voKh84wobplhMqNPJ9hKh",\n\t"window": "_19zNW9Rex5U4jeHHH-P-jH",\n\t"clickable": "_15pLumbM8B23E7c7eCavoM",\n\t"unselectable": "_3Bw8FESFoKKlibB7DPzoov"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NvbnRyb2xzL3N0eWxlcy5zY3NzP2VjOWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuXzNLbGl2TUYtQnludTUybG9nX3Bfdmcge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcbi5fMl9oa0o4Q3R5dmhvUlVxOUtZd0NZMCB7XFxuICBib3JkZXI6IDFweCBvdXRzZXQgI2ZmZjtcXG4gIGJhY2tncm91bmQ6ICNiZmJmYmY7XFxuICBwYWRkaW5nOiAzcHg7XFxufVxcbi5GRDY4NVM1aHVmQ2Q1NzdBV2tjZXkge1xcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XFxuICBiYWNrZ3JvdW5kOiBncmV5O1xcbiAgd2lkdGg6IDEwMCU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4uXzNCMkVSb3g1dFVORkNmMUtoSDRGbV8ge1xcblxcbiAgYm9yZGVyOiAycHggZ3Jvb3ZlICNiZmJmYmY7XFxuICBwYWRkaW5nOiAwIDNweCAzcHg7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG4uXzNCMkVSb3g1dFVORkNmMUtoSDRGbV8gLkZENjg1UzVodWZDZDU3N0FXa2NleSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiZmJmYmY7XFxuICAgIHBhZGRpbmc6IDAgM3B4O1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHRvcDogLTlweDtcXG4gIH1cXG4uXzE2dGRsT21xTDF3aWlhNEE3VnUzbkQge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiA1cHg7XFxufVxcbi5fMV9YVmVEX1VZT3NfZFdTZ29ZMnlNQiB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgIC1tcy1mbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAgICAgICAgICBmbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogNDB2aDtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBwYWRkaW5nOiA1cHggMDtcXG59XFxuLl8xX1hWZURfVVlPc19kV1Nnb1kyeU1CIC5fMnhNS29xVkM5RXBMdjRqc0RVWUtXRCB7XFxuICAgIG1pbi1oZWlnaHQ6IDE2cHg7XFxuICAgIG1pbi13aWR0aDogMTZweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyXFxuICB9XFxuLl8xX1hWZURfVVlPc19kV1Nnb1kyeU1CIC5fMnhNS29xVkM5RXBMdjRqc0RVWUtXRDpob3ZlciB7b3V0bGluZTogMnB4IHNvbGlkICMwMDAwODA7LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMik7dHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xcbn1cXG4uXzFfWFZlRF9VWU9zX2RXU2dvWTJ5TUIgLl8yeE1Lb3FWQzlFcEx2NGpzRFVZS1dEOmFjdGl2ZSB7LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOCk7dHJhbnNmb3JtOiBzY2FsZSgwLjgpO1xcbn1cXG4ua09vX19vZVhfYVdDVkRldlY3SFAwIHtcXG5cXG4gIG1hcmdpbi10b3A6IDVweDtcXG59XFxuLmtPb19fb2VYX2FXQ1ZEZXZWN0hQMCAuXzFxVVg4T25KZ2lJUGI3dmNEOXNLUzkge1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gICAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgfVxcbi5rT29fX29lWF9hV0NWRGV2VjdIUDAgLl8xcVVYOE9uSmdpSVBiN3ZjRDlzS1M5ID4gaW5wdXRbdHlwZT1yYW5nZV0ge1xcbiAgICAgIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgICAgIC1tcy1mbGV4OiAxO1xcbiAgICAgICAgICAgICAgZmxleDogMTtcXG4gICAgICBtYXJnaW46IDA7XFxuICAgIH1cXG4ua09vX19vZVhfYVdDVkRldlY3SFAwIC5fMTlHZVh5TTBXR3VpdnJ1WGtVQ3kyYiB7XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgICBtaW4td2lkdGg6IDM1cHg7XFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIGN1cnNvcjogZGVmYXVsdDtcXG4gIH1cXG4uXzE2Ri1nNV9YMWEwZUVqTVJ5bGQxSCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiAxcHggaW5zZXQgI2NjYztcXG59XFxuLl8xS2haNTBRQVRrcGhMbXVjVURRdkJrIHtcXG4gIG91dGxpbmU6IDJweCBzb2xpZCAjMDAwMDgwO1xcbn1cXG4uXzF4a2pLX09wR2VGTTJySGZNSHFWSW8ge1xcbiAgbWFyZ2luOiAzcHggMDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uXzNhSXc4Z201QkhoVmE4VHE5V0V1VXQge1xcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XFxuICBtYXJnaW4tYm90dG9tOiAxcHg7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5pbnB1dFt0eXBlPXRleHRdLFxcbmlucHV0W3R5cGU9c2VsZWN0XSxcXG50ZXh0YXJlYSxcXG4uZ0dZeUJzTm1rck41eFFwcmtDVkM2IHtcXG4gIGJvcmRlcjogMnB4IGluc2V0ICNjY2M7XFxuICBwYWRkaW5nOiA1cHg7XFxufVxcbnRleHRhcmVhIHtcXG4gIHdpZHRoOiA5MCU7XFxuICBtaW4taGVpZ2h0OiAyMDBweDtcXG59XFxuYnV0dG9uLFxcbi5hVVNMUElRMXFrSzFDS2Vub0ZTNC0ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JmYmZiZjtcXG4gIGJvcmRlci1sZWZ0OiAycHggb3V0c2V0IHdoaXRlO1xcbiAgYm9yZGVyLXRvcDogMnB4IG91dHNldCB3aGl0ZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBvdXRzZXQgI2JmYmZiZjtcXG4gIGJvcmRlci1yaWdodDogMXB4IG91dHNldCAjYmZiZmJmO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDAgYmxhY2s7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggMCBibGFjaztcXG4gIHBhZGRpbmc6IDNweCA2cHg7XFxuICBtYXJnaW46IDFweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lXFxufVxcbmJ1dHRvbjphY3RpdmUsIC5hVVNMUElRMXFrSzFDS2Vub0ZTNC06YWN0aXZlIHtib3JkZXI6IDJweCBpbnNldCAjYmZiZmJmO2JvcmRlci1ib3R0b206IDFweCBvdXRzZXQgI2JmYmZiZjtib3JkZXItcmlnaHQ6IDFweCBvdXRzZXQgI2JmYmZiZjtcXG59XFxuYnV0dG9uOmZvY3VzLCAuYVVTTFBJUTFxa0sxQ0tlbm9GUzQtOmZvY3VzIHtvdXRsaW5lOiAxcHggZG90dGVkIGJsYWNrO291dGxpbmUtb2Zmc2V0OiAtNXB4Oy13ZWJraXQtYm94LXNoYWRvdzogMnB4IDAgYmxhY2ssIDAgMnB4IGJsYWNrLCAycHggMnB4IGJsYWNrO2JveC1zaGFkb3c6IDJweCAwIGJsYWNrLCAwIDJweCBibGFjaywgMnB4IDJweCBibGFjaztcXG59XFxuLl8xdm9LaDg0d29icGxoTXFOUEo5aEtoIHtcXG4gIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgcmlnaHQgdG9wLCBmcm9tKCMwMDAwODApLCB0bygjMWM4NWNlKSk7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMwMDAwODAsICMxYzg1Y2UpO1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nOiAycHggNnB4O1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMTtcXG4gICAgICAtbXMtZmxleDogMTtcXG4gICAgICAgICAgZmxleDogMTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIG1hcmdpbjogMXB4IDJweDtcXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuLl8xOXpOVzlSZXg1VTRqZUhISC1QLWpIIHtcXG4gIGJvcmRlci1sZWZ0OiAycHggb3V0c2V0IHdoaXRlO1xcbiAgYm9yZGVyLXRvcDogMnB4IG91dHNldCB3aGl0ZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBvdXRzZXQgI2JmYmZiZjtcXG4gIGJvcmRlci1yaWdodDogMXB4IG91dHNldCAjYmZiZmJmO1xcbn1cXG4uXzE1cEx1bWJNOEIyM0U3YzdlQ2F2b00ge1xcbiAgY3Vyc29yOiB0ZXh0ICFpbXBvcnRhbnRcXG59XFxuLl8xNXBMdW1iTThCMjNFN2M3ZUNhdm9NOmhvdmVyIHstd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAuMyk7Ym94LXNoYWRvdzogMCAxcHggMCByZ2JhKDAsIDAsIDAsIC4zKTtcXG59XFxuLl8zQnc4RkVTRm9LS2xpYkI3RFB6b292IHtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDtcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwiY29udHJvbHNcIjogXCJfM0tsaXZNRi1CeW51NTJsb2dfcF92Z1wiLFxuXHRcImNvbnRyb2xcIjogXCJfMl9oa0o4Q3R5dmhvUlVxOUtZd0NZMFwiLFxuXHRcIm5hbWVcIjogXCJGRDY4NVM1aHVmQ2Q1NzdBV2tjZXlcIixcblx0XCJncm91cFwiOiBcIl8zQjJFUm94NXRVTkZDZjFLaEg0Rm1fXCIsXG5cdFwiZW51bVwiOiBcIl8xNnRkbE9tcUwxd2lpYTRBN1Z1M25EXCIsXG5cdFwiY29sb3JBcnJheVwiOiBcIl8xX1hWZURfVVlPc19kV1Nnb1kyeU1CXCIsXG5cdFwiY29sb3JcIjogXCJfMnhNS29xVkM5RXBMdjRqc0RVWUtXRFwiLFxuXHRcInJhbmdlXCI6IFwia09vX19vZVhfYVdDVkRldlY3SFAwXCIsXG5cdFwicmFuZ2VHcm91cFwiOiBcIl8xcVVYOE9uSmdpSVBiN3ZjRDlzS1M5XCIsXG5cdFwidmFsdWVcIjogXCJfMTlHZVh5TTBXR3VpdnJ1WGtVQ3kyYlwiLFxuXHRcImZpbGVcIjogXCJfMTZGLWc1X1gxYTBlRWpNUnlsZDFIXCIsXG5cdFwiZHJvcHBpbmdcIjogXCJfMUtoWjUwUUFUa3BoTG11Y1VEUXZCa1wiLFxuXHRcImNoZWNrYm94XCI6IFwiXzF4a2pLX09wR2VGTTJySGZNSHFWSW9cIixcblx0XCJsYWJlbFwiOiBcIl8zYUl3OGdtNUJIaFZhOFRxOVdFdVV0XCIsXG5cdFwiaW5wdXRcIjogXCJnR1l5QnNObWtyTjV4UXBya0NWQzZcIixcblx0XCJidXR0b25cIjogXCJhVVNMUElRMXFrSzFDS2Vub0ZTNC1cIixcblx0XCJ0aXRsZUJhclwiOiBcIl8xdm9LaDg0d29icGxoTXFOUEo5aEtoXCIsXG5cdFwid2luZG93XCI6IFwiXzE5ek5XOVJleDVVNGplSEhILVAtakhcIixcblx0XCJjbGlja2FibGVcIjogXCJfMTVwTHVtYk04QjIzRTdjN2VDYXZvTVwiLFxuXHRcInVuc2VsZWN0YWJsZVwiOiBcIl8zQnc4RkVTRm9LS2xpYkI3RFB6b292XCJcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70\n')},73:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "./rgba2laba.wasm";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93YXNtL3JnYmEybGFiYS90YXJnZXQvd2FzbTMyLXVua25vd24tdW5rbm93bi9yZWxlYXNlL3JnYmEybGFiYS53YXNtP2RhYTQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi9yZ2JhMmxhYmEud2FzbVwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///73\n')},76:function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZnNcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///76\n')},77:function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(__dirname) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nif (typeof Rust === \'undefined\') {\n  var Rust = {};\n}\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(this, function () {\n  const Module = {};\n  let HEAP8 = null;\n  let HEAP16 = null;\n  let HEAP32 = null;\n  let HEAPU8 = null;\n  let HEAPU16 = null;\n  let HEAPU32 = null;\n  let HEAPF32 = null;\n  let HEAPF64 = null;\n  Object.defineProperty(Module, \'nodejs\', {\n    value: typeof window === \'undefined\'\n  });\n  Object.defineProperty(Module, \'exports\', {\n    value: {}\n  });\n  const __imports = {\n    env: {\n      "__extjs_ff2c75b4783fd5c9d8c934bbd4a03e66527e05e4": function ($0) {\n        Module.STDWEB.tmp = Module.STDWEB.to_js($0);\n      },\n      "__extjs_d8a439451216bbc6cd9f3012f189d2ad6a2e9459": function ($0) {\n        Module.STDWEB.decrement_refcount($0);\n      },\n      "__extjs_d0f9580b9cfe82e2ee67d3707e52d87bbabe59f2": function () {\n        Module.STDWEB = {};\n      },\n      "__extjs_4985c7263834081d123cc7eff225fe2010747092": function () {\n        Module.STDWEB.alloc = Module.web_malloc;\n\n        Module.STDWEB.dyncall = function (signature, ptr, args) {\n          return Module.web_table.get(ptr).apply(null, args);\n        };\n\n        Module.STDWEB.utf8_len = function utf8_len(str) {\n          let len = 0;\n\n          for (let i = 0; i < str.length; ++i) {\n            let u = str.charCodeAt(i);\n\n            if (u >= 0xD800 && u <= 0xDFFF) {\n              u = 0x10000 + ((u & 0x3FF) << 10) | str.charCodeAt(++i) & 0x3FF;\n            }\n\n            if (u <= 0x7F) {\n              ++len;\n            } else if (u <= 0x7FF) {\n              len += 2;\n            } else if (u <= 0xFFFF) {\n              len += 3;\n            } else if (u <= 0x1FFFFF) {\n              len += 4;\n            } else if (u <= 0x3FFFFFF) {\n              len += 5;\n            } else {\n              len += 6;\n            }\n          }\n\n          return len;\n        };\n      },\n      "__extjs_a986a787f7d7d1abc8c97008ceb5c6945d3f620f": function () {\n        Module.STDWEB.to_utf8 = function to_utf8(str, addr) {\n          for (var i = 0; i < str.length; ++i) {\n            var u = str.charCodeAt(i);\n\n            if (u >= 0xD800 && u <= 0xDFFF) {\n              u = 0x10000 + ((u & 0x3FF) << 10) | str.charCodeAt(++i) & 0x3FF;\n            }\n\n            if (u <= 0x7F) {\n              HEAPU8[addr++] = u;\n            } else if (u <= 0x7FF) {\n              HEAPU8[addr++] = 0xC0 | u >> 6;\n              HEAPU8[addr++] = 0x80 | u & 63;\n            } else if (u <= 0xFFFF) {\n              HEAPU8[addr++] = 0xE0 | u >> 12;\n              HEAPU8[addr++] = 0x80 | u >> 6 & 63;\n              HEAPU8[addr++] = 0x80 | u & 63;\n            } else if (u <= 0x1FFFFF) {\n              HEAPU8[addr++] = 0xF0 | u >> 18;\n              HEAPU8[addr++] = 0x80 | u >> 12 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 6 & 63;\n              HEAPU8[addr++] = 0x80 | u & 63;\n            } else if (u <= 0x3FFFFFF) {\n              HEAPU8[addr++] = 0xF8 | u >> 24;\n              HEAPU8[addr++] = 0x80 | u >> 18 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 12 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 6 & 63;\n              HEAPU8[addr++] = 0x80 | u & 63;\n            } else {\n              HEAPU8[addr++] = 0xFC | u >> 30;\n              HEAPU8[addr++] = 0x80 | u >> 24 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 18 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 12 & 63;\n              HEAPU8[addr++] = 0x80 | u >> 6 & 63;\n              HEAPU8[addr++] = 0x80 | u & 63;\n            }\n          }\n        };\n      },\n      "__extjs_83c36ea7560e368457b1ae45a44ffef481c2ad44": function () {\n        Module.STDWEB.noop = function () {};\n\n        Module.STDWEB.to_js = function to_js(address) {\n          var kind = HEAPU8[address + 12];\n\n          if (kind === 0) {\n            return undefined;\n          } else if (kind === 1) {\n            return null;\n          } else if (kind === 2) {\n            return HEAP32[address / 4];\n          } else if (kind === 3) {\n            return HEAPF64[address / 8];\n          } else if (kind === 4) {\n            var pointer = HEAPU32[address / 4];\n            var length = HEAPU32[(address + 4) / 4];\n            return Module.STDWEB.to_js_string(pointer, length);\n          } else if (kind === 5) {\n            return false;\n          } else if (kind === 6) {\n            return true;\n          } else if (kind === 7) {\n            var pointer = HEAPU32[address / 4];\n            var length = HEAPU32[(address + 4) / 4];\n            var output = [];\n\n            for (var i = 0; i < length; ++i) {\n              output.push(Module.STDWEB.to_js(pointer + i * 16));\n            }\n\n            return output;\n          } else if (kind === 8) {\n            var value_array_pointer = HEAPU32[address / 4];\n            var length = HEAPU32[(address + 4) / 4];\n            var key_array_pointer = HEAPU32[(address + 8) / 4];\n            var output = {};\n\n            for (var i = 0; i < length; ++i) {\n              var key_pointer = HEAPU32[(key_array_pointer + i * 8) / 4];\n              var key_length = HEAPU32[(key_array_pointer + 4 + i * 8) / 4];\n              var key = Module.STDWEB.to_js_string(key_pointer, key_length);\n              var value = Module.STDWEB.to_js(value_array_pointer + i * 16);\n              output[key] = value;\n            }\n\n            return output;\n          } else if (kind === 9 || kind === 11 || kind === 12) {\n            return Module.STDWEB.acquire_js_reference(HEAP32[address / 4]);\n          } else if (kind === 10) {\n            var adapter_pointer = HEAPU32[address / 4];\n            var pointer = HEAPU32[(address + 4) / 4];\n            var deallocator_pointer = HEAPU32[(address + 8) / 4];\n\n            var output = function () {\n              if (pointer === 0) {\n                throw new ReferenceError("Already dropped Rust function called!");\n              }\n\n              var args = Module.STDWEB.alloc(16);\n              Module.STDWEB.serialize_array(args, arguments);\n              Module.STDWEB.dyncall("vii", adapter_pointer, [pointer, args]);\n              var result = Module.STDWEB.tmp;\n              Module.STDWEB.tmp = null;\n              return result;\n            };\n\n            output.drop = function () {\n              output.drop = Module.STDWEB.noop;\n              var function_pointer = pointer;\n              pointer = 0;\n              Module.STDWEB.dyncall("vi", deallocator_pointer, [function_pointer]);\n            };\n\n            return output;\n          } else if (kind === 13) {\n            var adapter_pointer = HEAPU32[address / 4];\n            var pointer = HEAPU32[(address + 4) / 4];\n            var deallocator_pointer = HEAPU32[(address + 8) / 4];\n\n            var output = function () {\n              if (pointer === 0) {\n                throw new ReferenceError("Already called or dropped FnOnce function called!");\n              }\n\n              output.drop = Module.STDWEB.noop;\n              var function_pointer = pointer;\n              pointer = 0;\n              var args = Module.STDWEB.alloc(16);\n              Module.STDWEB.serialize_array(args, arguments);\n              Module.STDWEB.dyncall("vii", adapter_pointer, [function_pointer, args]);\n              var result = Module.STDWEB.tmp;\n              Module.STDWEB.tmp = null;\n              return result;\n            };\n\n            output.drop = function () {\n              output.drop = Module.STDWEB.noop;\n              var function_pointer = pointer;\n              pointer = 0;\n              Module.STDWEB.dyncall("vi", deallocator_pointer, [function_pointer]);\n            };\n\n            return output;\n          } else if (kind === 14) {\n            var pointer = HEAPU32[address / 4];\n            var length = HEAPU32[(address + 4) / 4];\n            var array_kind = HEAPU32[(address + 8) / 4];\n            var pointer_end = pointer + length;\n\n            switch (array_kind) {\n              case 0:\n                return HEAPU8.subarray(pointer, pointer_end);\n\n              case 1:\n                return HEAP8.subarray(pointer, pointer_end);\n\n              case 2:\n                return HEAPU16.subarray(pointer, pointer_end);\n\n              case 3:\n                return HEAP16.subarray(pointer, pointer_end);\n\n              case 4:\n                return HEAPU32.subarray(pointer, pointer_end);\n\n              case 5:\n                return HEAP32.subarray(pointer, pointer_end);\n\n              case 6:\n                return HEAPF32.subarray(pointer, pointer_end);\n\n              case 7:\n                return HEAPF64.subarray(pointer, pointer_end);\n            }\n          }\n        };\n      },\n      "__extjs_2171fbf7dcd6cce3ad90767662e531aee9577813": function () {\n        Module.STDWEB.serialize_object = function serialize_object(address, value) {\n          var keys = Object.keys(value);\n          var length = keys.length;\n          var key_array_pointer = Module.STDWEB.alloc(length * 8);\n          var value_array_pointer = Module.STDWEB.alloc(length * 16);\n          HEAPU8[address + 12] = 8;\n          HEAPU32[address / 4] = value_array_pointer;\n          HEAPU32[(address + 4) / 4] = length;\n          HEAPU32[(address + 8) / 4] = key_array_pointer;\n\n          for (var i = 0; i < length; ++i) {\n            var key = keys[i];\n            var key_length = Module.STDWEB.utf8_len(key);\n            var key_pointer = Module.STDWEB.alloc(key_length);\n            Module.STDWEB.to_utf8(key, key_pointer);\n            var key_address = key_array_pointer + i * 8;\n            HEAPU32[key_address / 4] = key_pointer;\n            HEAPU32[(key_address + 4) / 4] = key_length;\n            Module.STDWEB.from_js(value_array_pointer + i * 16, value[key]);\n          }\n        };\n\n        Module.STDWEB.serialize_array = function serialize_array(address, value) {\n          var length = value.length;\n          var pointer = Module.STDWEB.alloc(length * 16);\n          HEAPU8[address + 12] = 7;\n          HEAPU32[address / 4] = pointer;\n          HEAPU32[(address + 4) / 4] = length;\n\n          for (var i = 0; i < length; ++i) {\n            Module.STDWEB.from_js(pointer + i * 16, value[i]);\n          }\n        };\n\n        Module.STDWEB.from_js = function from_js(address, value) {\n          var kind = Object.prototype.toString.call(value);\n\n          if (kind === "[object String]") {\n            var length = Module.STDWEB.utf8_len(value);\n            var pointer = 0;\n\n            if (length > 0) {\n              pointer = Module.STDWEB.alloc(length);\n              Module.STDWEB.to_utf8(value, pointer);\n            }\n\n            HEAPU8[address + 12] = 4;\n            HEAPU32[address / 4] = pointer;\n            HEAPU32[(address + 4) / 4] = length;\n          } else if (kind === "[object Number]") {\n            if (value === (value | 0)) {\n              HEAPU8[address + 12] = 2;\n              HEAP32[address / 4] = value;\n            } else {\n              HEAPU8[address + 12] = 3;\n              HEAPF64[address / 8] = value;\n            }\n          } else if (value === null) {\n            HEAPU8[address + 12] = 1;\n          } else if (value === undefined) {\n            HEAPU8[address + 12] = 0;\n          } else if (value === false) {\n            HEAPU8[address + 12] = 5;\n          } else if (value === true) {\n            HEAPU8[address + 12] = 6;\n          } else {\n            var refid = Module.STDWEB.acquire_rust_reference(value);\n            var id = 9;\n\n            if (kind === "[object Object]") {\n              id = 11;\n            } else if (kind === "[object Array]" || kind === "[object Arguments]") {\n              id = 12;\n            }\n\n            HEAPU8[address + 12] = id;\n            HEAP32[address / 4] = refid;\n          }\n        };\n      },\n      "__extjs_8a13e041b26592fd43280496ac01f5f3e049218e": function () {\n        Module.STDWEB.to_js_string = function to_js_string(index, length) {\n          index = index | 0;\n          length = length | 0;\n          var end = (index | 0) + (length | 0);\n          var output = "";\n\n          while (index < end) {\n            var x = HEAPU8[index++];\n\n            if (x < 128) {\n              output += String.fromCharCode(x);\n              continue;\n            }\n\n            var init = x & 0x7F >> 2;\n            var y = 0;\n\n            if (index < end) {\n              y = HEAPU8[index++];\n            }\n\n            var ch = init << 6 | y & 63;\n\n            if (x >= 0xE0) {\n              var z = 0;\n\n              if (index < end) {\n                z = HEAPU8[index++];\n              }\n\n              var y_z = (y & 63) << 6 | z & 63;\n              ch = init << 12 | y_z;\n\n              if (x >= 0xF0) {\n                var w = 0;\n\n                if (index < end) {\n                  w = HEAPU8[index++];\n                }\n\n                ch = (init & 7) << 18 | (y_z << 6 | w & 63);\n              }\n            }\n\n            output += String.fromCharCode(ch);\n            continue;\n          }\n\n          return output;\n        };\n      },\n      "__extjs_b67f2836bfcab57acb8e21dbe580790ff03192f9": function () {\n        var id_to_ref_map = {};\n        var id_to_refcount_map = {};\n        var ref_to_id_map = new WeakMap();\n        var ref_to_id_symbol_map = {};\n        var last_refid = 1;\n\n        Module.STDWEB.acquire_rust_reference = function (reference) {\n          if (reference === undefined || reference === null) {\n            return 0;\n          }\n\n          var refid = ref_to_id_map.get(reference);\n\n          if (refid === undefined) {\n            refid = ref_to_id_symbol_map[reference];\n          }\n\n          if (refid === undefined) {\n            refid = last_refid++;\n\n            if (typeof reference === "symbol") {\n              ref_to_id_symbol_map[reference] = refid;\n            } else {\n              ref_to_id_map.set(reference, refid);\n            }\n\n            id_to_ref_map[refid] = reference;\n            id_to_refcount_map[refid] = 1;\n          } else {\n            id_to_refcount_map[refid]++;\n          }\n\n          return refid;\n        };\n\n        Module.STDWEB.acquire_js_reference = function (refid) {\n          return id_to_ref_map[refid];\n        };\n\n        Module.STDWEB.increment_refcount = function (refid) {\n          id_to_refcount_map[refid]++;\n        };\n\n        Module.STDWEB.decrement_refcount = function (refid) {\n          id_to_refcount_map[refid]--;\n\n          if (id_to_refcount_map[refid] === 0) {\n            var reference = id_to_ref_map[refid];\n            delete id_to_ref_map[refid];\n            delete id_to_refcount_map[refid];\n\n            if (typeof reference === "symbol") {\n              delete ref_to_id_symbol_map[reference];\n            } else {\n              ref_to_id_map.delete(reference);\n            }\n          }\n        };\n      },\n      "__extjs_dc2fd915bd92f9e9c6a3bd15174f1414eee3dbaf": function () {\n        console.error(\'Encountered a panic!\');\n      },\n      "__extjs_b00b05929b445348eab177b6d3f509bcaa28782e": function ($0, $1) {\n        console.error(\'Panic error message:\', Module.STDWEB.to_js_string($0, $1));\n      },\n      "__extjs_20637d8f642203b38c263a5d0f43b9d88ec67c31": function ($0, $1, $2) {\n        console.error(\'Panic location:\', Module.STDWEB.to_js_string($0, $1) + \':\' + $2);\n      },\n      "__extjs_8ac1473477d987d55a57ef2053cd2d9f4b19b35f": function ($0, $1, $2) {\n        $1 = Module.STDWEB.to_js($1);\n        $2 = Module.STDWEB.to_js($2);\n        Module.STDWEB.from_js($0, function () {\n          Module.exports.rgba2laba = $1;\n          Module.exports.rgbaLabaDistance = $2;\n        }());\n      },\n      "__extjs_de942ef9ccd064c41dc92d5b5bf83c61aeb00278": function ($0) {\n        Module.STDWEB.increment_refcount($0);\n      },\n      "__extjs_781cc202360532df78824ad2ec418326a67395ba": function ($0, $1) {\n        $1 = Module.STDWEB.to_js($1);\n        Module.STDWEB.from_js($0, function () {\n          return $1;\n        }());\n      },\n      "pow": function ($0, $1) {\n        return Math.pow($0, $1);\n      },\n      "__web_on_grow": function () {\n        const buffer = Module.instance.exports.memory.buffer;\n        HEAP8 = new Int8Array(buffer);\n        HEAP16 = new Int16Array(buffer);\n        HEAP32 = new Int32Array(buffer);\n        HEAPU8 = new Uint8Array(buffer);\n        HEAPU16 = new Uint16Array(buffer);\n        HEAPU32 = new Uint32Array(buffer);\n        HEAPF32 = new Float32Array(buffer);\n        HEAPF64 = new Float64Array(buffer);\n      }\n    }\n  };\n\n  function __load(instance) {\n    Object.defineProperty(Module, \'instance\', {\n      value: instance\n    });\n    Object.defineProperty(Module, \'web_malloc\', {\n      value: Module.instance.exports.__web_malloc\n    });\n    Object.defineProperty(Module, \'web_free\', {\n      value: Module.instance.exports.__web_free\n    });\n    Object.defineProperty(Module, \'web_table\', {\n      value: Module.instance.exports.__web_table\n    });\n\n    if (typeof module !== \'undefined\' && module.exports) {\n      module.exports = Module.exports;\n    } else {\n      Rust.rgba2laba.exports = Module.exports;\n    }\n\n    __imports.env.__web_on_grow();\n\n    Module.instance.exports.__web_main();\n  }\n\n  if (Module.nodejs) {\n    const fs = __webpack_require__(76);\n\n    const path = __webpack_require__(75);\n\n    const wasm_path = path.join(__dirname, "rgba2laba.wasm");\n    const buffer = fs.readFileSync(wasm_path);\n    const mod = new WebAssembly.Module(buffer);\n    const instance = new WebAssembly.Instance(mod, __imports);\n\n    __load(instance);\n\n    return Module.exports;\n  } else {\n    const __promise = fetch("rgba2laba.wasm").then(response => response.arrayBuffer()).then(bytes => WebAssembly.instantiate(bytes, __imports)).then(results => {\n      __load(results.instance);\n\n      console.log("Finished loading Rust wasm module \'rgba2laba\'");\n      return Module.exports;\n    }).catch(error => {\n      console.log("Error loading Rust wasm module \'rgba2laba\':", error);\n      throw error;\n    });\n\n    Rust.rgba2laba = __promise;\n    return __promise;\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(this, "/"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93YXNtL3JnYmEybGFiYS90YXJnZXQvd2FzbTMyLXVua25vd24tdW5rbm93bi9yZWxlYXNlL3JnYmEybGFiYS5qcz9hMGMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pZiAodHlwZW9mIFJ1c3QgPT09ICd1bmRlZmluZWQnKSB7XG4gIHZhciBSdXN0ID0ge307XG59XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KCk7XG4gIH1cbn0pKHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgTW9kdWxlID0ge307XG4gIGxldCBIRUFQOCA9IG51bGw7XG4gIGxldCBIRUFQMTYgPSBudWxsO1xuICBsZXQgSEVBUDMyID0gbnVsbDtcbiAgbGV0IEhFQVBVOCA9IG51bGw7XG4gIGxldCBIRUFQVTE2ID0gbnVsbDtcbiAgbGV0IEhFQVBVMzIgPSBudWxsO1xuICBsZXQgSEVBUEYzMiA9IG51bGw7XG4gIGxldCBIRUFQRjY0ID0gbnVsbDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1vZHVsZSwgJ25vZGVqcycsIHtcbiAgICB2YWx1ZTogdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCdcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNb2R1bGUsICdleHBvcnRzJywge1xuICAgIHZhbHVlOiB7fVxuICB9KTtcbiAgY29uc3QgX19pbXBvcnRzID0ge1xuICAgIGVudjoge1xuICAgICAgXCJfX2V4dGpzX2ZmMmM3NWI0NzgzZmQ1YzlkOGM5MzRiYmQ0YTAzZTY2NTI3ZTA1ZTRcIjogZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIudG1wID0gTW9kdWxlLlNURFdFQi50b19qcygkMCk7XG4gICAgICB9LFxuICAgICAgXCJfX2V4dGpzX2Q4YTQzOTQ1MTIxNmJiYzZjZDlmMzAxMmYxODlkMmFkNmEyZTk0NTlcIjogZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIuZGVjcmVtZW50X3JlZmNvdW50KCQwKTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfZDBmOTU4MGI5Y2ZlODJlMmVlNjdkMzcwN2U1MmQ4N2JiYWJlNTlmMlwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIgPSB7fTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfNDk4NWM3MjYzODM0MDgxZDEyM2NjN2VmZjIyNWZlMjAxMDc0NzA5MlwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIuYWxsb2MgPSBNb2R1bGUud2ViX21hbGxvYztcblxuICAgICAgICBNb2R1bGUuU1REV0VCLmR5bmNhbGwgPSBmdW5jdGlvbiAoc2lnbmF0dXJlLCBwdHIsIGFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gTW9kdWxlLndlYl90YWJsZS5nZXQocHRyKS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBNb2R1bGUuU1REV0VCLnV0ZjhfbGVuID0gZnVuY3Rpb24gdXRmOF9sZW4oc3RyKSB7XG4gICAgICAgICAgbGV0IGxlbiA9IDA7XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IHUgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgICAgICAgICAgaWYgKHUgPj0gMHhEODAwICYmIHUgPD0gMHhERkZGKSB7XG4gICAgICAgICAgICAgIHUgPSAweDEwMDAwICsgKCh1ICYgMHgzRkYpIDw8IDEwKSB8IHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDNGRjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHUgPD0gMHg3Rikge1xuICAgICAgICAgICAgICArK2xlbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodSA8PSAweDdGRikge1xuICAgICAgICAgICAgICBsZW4gKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodSA8PSAweEZGRkYpIHtcbiAgICAgICAgICAgICAgbGVuICs9IDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHUgPD0gMHgxRkZGRkYpIHtcbiAgICAgICAgICAgICAgbGVuICs9IDQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHUgPD0gMHgzRkZGRkZGKSB7XG4gICAgICAgICAgICAgIGxlbiArPSA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGVuICs9IDY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGxlbjtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfYTk4NmE3ODdmN2Q3ZDFhYmM4Yzk3MDA4Y2ViNWM2OTQ1ZDNmNjIwZlwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIudG9fdXRmOCA9IGZ1bmN0aW9uIHRvX3V0Zjgoc3RyLCBhZGRyKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB1ID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICh1ID49IDB4RDgwMCAmJiB1IDw9IDB4REZGRikge1xuICAgICAgICAgICAgICB1ID0gMHgxMDAwMCArICgodSAmIDB4M0ZGKSA8PCAxMCkgfCBzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgzRkY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1IDw9IDB4N0YpIHtcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSB1O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1IDw9IDB4N0ZGKSB7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHhDMCB8IHUgPj4gNjtcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSAmIDYzO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1IDw9IDB4RkZGRikge1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4RTAgfCB1ID4+IDEyO1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4ODAgfCB1ID4+IDYgJiA2MztcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSAmIDYzO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1IDw9IDB4MUZGRkZGKSB7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHhGMCB8IHUgPj4gMTg7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHg4MCB8IHUgPj4gMTIgJiA2MztcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSA+PiA2ICYgNjM7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHg4MCB8IHUgJiA2MztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodSA8PSAweDNGRkZGRkYpIHtcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweEY4IHwgdSA+PiAyNDtcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSA+PiAxOCAmIDYzO1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4ODAgfCB1ID4+IDEyICYgNjM7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHg4MCB8IHUgPj4gNiAmIDYzO1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4ODAgfCB1ICYgNjM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4RkMgfCB1ID4+IDMwO1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4ODAgfCB1ID4+IDI0ICYgNjM7XG4gICAgICAgICAgICAgIEhFQVBVOFthZGRyKytdID0gMHg4MCB8IHUgPj4gMTggJiA2MztcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSA+PiAxMiAmIDYzO1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcisrXSA9IDB4ODAgfCB1ID4+IDYgJiA2MztcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHIrK10gPSAweDgwIHwgdSAmIDYzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfODNjMzZlYTc1NjBlMzY4NDU3YjFhZTQ1YTQ0ZmZlZjQ4MWMyYWQ0NFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIubm9vcCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgICAgIE1vZHVsZS5TVERXRUIudG9fanMgPSBmdW5jdGlvbiB0b19qcyhhZGRyZXNzKSB7XG4gICAgICAgICAgdmFyIGtpbmQgPSBIRUFQVThbYWRkcmVzcyArIDEyXTtcblxuICAgICAgICAgIGlmIChraW5kID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gSEVBUDMyW2FkZHJlc3MgLyA0XTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDMpIHtcbiAgICAgICAgICAgIHJldHVybiBIRUFQRjY0W2FkZHJlc3MgLyA4XTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDQpIHtcbiAgICAgICAgICAgIHZhciBwb2ludGVyID0gSEVBUFUzMlthZGRyZXNzIC8gNF07XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gSEVBUFUzMlsoYWRkcmVzcyArIDQpIC8gNF07XG4gICAgICAgICAgICByZXR1cm4gTW9kdWxlLlNURFdFQi50b19qc19zdHJpbmcocG9pbnRlciwgbGVuZ3RoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDYpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gNykge1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSBIRUFQVTMyW2FkZHJlc3MgLyA0XTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBIRUFQVTMyWyhhZGRyZXNzICsgNCkgLyA0XTtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICBvdXRwdXQucHVzaChNb2R1bGUuU1REV0VCLnRvX2pzKHBvaW50ZXIgKyBpICogMTYpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZV9hcnJheV9wb2ludGVyID0gSEVBUFUzMlthZGRyZXNzIC8gNF07XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gSEVBUFUzMlsoYWRkcmVzcyArIDQpIC8gNF07XG4gICAgICAgICAgICB2YXIga2V5X2FycmF5X3BvaW50ZXIgPSBIRUFQVTMyWyhhZGRyZXNzICsgOCkgLyA0XTtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICB2YXIga2V5X3BvaW50ZXIgPSBIRUFQVTMyWyhrZXlfYXJyYXlfcG9pbnRlciArIGkgKiA4KSAvIDRdO1xuICAgICAgICAgICAgICB2YXIga2V5X2xlbmd0aCA9IEhFQVBVMzJbKGtleV9hcnJheV9wb2ludGVyICsgNCArIGkgKiA4KSAvIDRdO1xuICAgICAgICAgICAgICB2YXIga2V5ID0gTW9kdWxlLlNURFdFQi50b19qc19zdHJpbmcoa2V5X3BvaW50ZXIsIGtleV9sZW5ndGgpO1xuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBNb2R1bGUuU1REV0VCLnRvX2pzKHZhbHVlX2FycmF5X3BvaW50ZXIgKyBpICogMTYpO1xuICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gOSB8fCBraW5kID09PSAxMSB8fCBraW5kID09PSAxMikge1xuICAgICAgICAgICAgcmV0dXJuIE1vZHVsZS5TVERXRUIuYWNxdWlyZV9qc19yZWZlcmVuY2UoSEVBUDMyW2FkZHJlc3MgLyA0XSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAxMCkge1xuICAgICAgICAgICAgdmFyIGFkYXB0ZXJfcG9pbnRlciA9IEhFQVBVMzJbYWRkcmVzcyAvIDRdO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSBIRUFQVTMyWyhhZGRyZXNzICsgNCkgLyA0XTtcbiAgICAgICAgICAgIHZhciBkZWFsbG9jYXRvcl9wb2ludGVyID0gSEVBUFUzMlsoYWRkcmVzcyArIDgpIC8gNF07XG5cbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChwb2ludGVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiQWxyZWFkeSBkcm9wcGVkIFJ1c3QgZnVuY3Rpb24gY2FsbGVkIVwiKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBhcmdzID0gTW9kdWxlLlNURFdFQi5hbGxvYygxNik7XG4gICAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuc2VyaWFsaXplX2FycmF5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuZHluY2FsbChcInZpaVwiLCBhZGFwdGVyX3BvaW50ZXIsIFtwb2ludGVyLCBhcmdzXSk7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBNb2R1bGUuU1REV0VCLnRtcDtcbiAgICAgICAgICAgICAgTW9kdWxlLlNURFdFQi50bXAgPSBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb3V0cHV0LmRyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG91dHB1dC5kcm9wID0gTW9kdWxlLlNURFdFQi5ub29wO1xuICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25fcG9pbnRlciA9IHBvaW50ZXI7XG4gICAgICAgICAgICAgIHBvaW50ZXIgPSAwO1xuICAgICAgICAgICAgICBNb2R1bGUuU1REV0VCLmR5bmNhbGwoXCJ2aVwiLCBkZWFsbG9jYXRvcl9wb2ludGVyLCBbZnVuY3Rpb25fcG9pbnRlcl0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDEzKSB7XG4gICAgICAgICAgICB2YXIgYWRhcHRlcl9wb2ludGVyID0gSEVBUFUzMlthZGRyZXNzIC8gNF07XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IEhFQVBVMzJbKGFkZHJlc3MgKyA0KSAvIDRdO1xuICAgICAgICAgICAgdmFyIGRlYWxsb2NhdG9yX3BvaW50ZXIgPSBIRUFQVTMyWyhhZGRyZXNzICsgOCkgLyA0XTtcblxuICAgICAgICAgICAgdmFyIG91dHB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKHBvaW50ZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJBbHJlYWR5IGNhbGxlZCBvciBkcm9wcGVkIEZuT25jZSBmdW5jdGlvbiBjYWxsZWQhXCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0cHV0LmRyb3AgPSBNb2R1bGUuU1REV0VCLm5vb3A7XG4gICAgICAgICAgICAgIHZhciBmdW5jdGlvbl9wb2ludGVyID0gcG9pbnRlcjtcbiAgICAgICAgICAgICAgcG9pbnRlciA9IDA7XG4gICAgICAgICAgICAgIHZhciBhcmdzID0gTW9kdWxlLlNURFdFQi5hbGxvYygxNik7XG4gICAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuc2VyaWFsaXplX2FycmF5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuZHluY2FsbChcInZpaVwiLCBhZGFwdGVyX3BvaW50ZXIsIFtmdW5jdGlvbl9wb2ludGVyLCBhcmdzXSk7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBNb2R1bGUuU1REV0VCLnRtcDtcbiAgICAgICAgICAgICAgTW9kdWxlLlNURFdFQi50bXAgPSBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb3V0cHV0LmRyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG91dHB1dC5kcm9wID0gTW9kdWxlLlNURFdFQi5ub29wO1xuICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25fcG9pbnRlciA9IHBvaW50ZXI7XG4gICAgICAgICAgICAgIHBvaW50ZXIgPSAwO1xuICAgICAgICAgICAgICBNb2R1bGUuU1REV0VCLmR5bmNhbGwoXCJ2aVwiLCBkZWFsbG9jYXRvcl9wb2ludGVyLCBbZnVuY3Rpb25fcG9pbnRlcl0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IDE0KSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IEhFQVBVMzJbYWRkcmVzcyAvIDRdO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IEhFQVBVMzJbKGFkZHJlc3MgKyA0KSAvIDRdO1xuICAgICAgICAgICAgdmFyIGFycmF5X2tpbmQgPSBIRUFQVTMyWyhhZGRyZXNzICsgOCkgLyA0XTtcbiAgICAgICAgICAgIHZhciBwb2ludGVyX2VuZCA9IHBvaW50ZXIgKyBsZW5ndGg7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoYXJyYXlfa2luZCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhFQVBVOC5zdWJhcnJheShwb2ludGVyLCBwb2ludGVyX2VuZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBIRUFQOC5zdWJhcnJheShwb2ludGVyLCBwb2ludGVyX2VuZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBIRUFQVTE2LnN1YmFycmF5KHBvaW50ZXIsIHBvaW50ZXJfZW5kKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhFQVAxNi5zdWJhcnJheShwb2ludGVyLCBwb2ludGVyX2VuZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBIRUFQVTMyLnN1YmFycmF5KHBvaW50ZXIsIHBvaW50ZXJfZW5kKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhFQVAzMi5zdWJhcnJheShwb2ludGVyLCBwb2ludGVyX2VuZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBIRUFQRjMyLnN1YmFycmF5KHBvaW50ZXIsIHBvaW50ZXJfZW5kKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhFQVBGNjQuc3ViYXJyYXkocG9pbnRlciwgcG9pbnRlcl9lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfMjE3MWZiZjdkY2Q2Y2NlM2FkOTA3Njc2NjJlNTMxYWVlOTU3NzgxM1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIuc2VyaWFsaXplX29iamVjdCA9IGZ1bmN0aW9uIHNlcmlhbGl6ZV9vYmplY3QoYWRkcmVzcywgdmFsdWUpIHtcbiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgdmFyIGtleV9hcnJheV9wb2ludGVyID0gTW9kdWxlLlNURFdFQi5hbGxvYyhsZW5ndGggKiA4KTtcbiAgICAgICAgICB2YXIgdmFsdWVfYXJyYXlfcG9pbnRlciA9IE1vZHVsZS5TVERXRUIuYWxsb2MobGVuZ3RoICogMTYpO1xuICAgICAgICAgIEhFQVBVOFthZGRyZXNzICsgMTJdID0gODtcbiAgICAgICAgICBIRUFQVTMyW2FkZHJlc3MgLyA0XSA9IHZhbHVlX2FycmF5X3BvaW50ZXI7XG4gICAgICAgICAgSEVBUFUzMlsoYWRkcmVzcyArIDQpIC8gNF0gPSBsZW5ndGg7XG4gICAgICAgICAgSEVBUFUzMlsoYWRkcmVzcyArIDgpIC8gNF0gPSBrZXlfYXJyYXlfcG9pbnRlcjtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgdmFyIGtleV9sZW5ndGggPSBNb2R1bGUuU1REV0VCLnV0ZjhfbGVuKGtleSk7XG4gICAgICAgICAgICB2YXIga2V5X3BvaW50ZXIgPSBNb2R1bGUuU1REV0VCLmFsbG9jKGtleV9sZW5ndGgpO1xuICAgICAgICAgICAgTW9kdWxlLlNURFdFQi50b191dGY4KGtleSwga2V5X3BvaW50ZXIpO1xuICAgICAgICAgICAgdmFyIGtleV9hZGRyZXNzID0ga2V5X2FycmF5X3BvaW50ZXIgKyBpICogODtcbiAgICAgICAgICAgIEhFQVBVMzJba2V5X2FkZHJlc3MgLyA0XSA9IGtleV9wb2ludGVyO1xuICAgICAgICAgICAgSEVBUFUzMlsoa2V5X2FkZHJlc3MgKyA0KSAvIDRdID0ga2V5X2xlbmd0aDtcbiAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuZnJvbV9qcyh2YWx1ZV9hcnJheV9wb2ludGVyICsgaSAqIDE2LCB2YWx1ZVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgTW9kdWxlLlNURFdFQi5zZXJpYWxpemVfYXJyYXkgPSBmdW5jdGlvbiBzZXJpYWxpemVfYXJyYXkoYWRkcmVzcywgdmFsdWUpIHtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgIHZhciBwb2ludGVyID0gTW9kdWxlLlNURFdFQi5hbGxvYyhsZW5ndGggKiAxNik7XG4gICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSA3O1xuICAgICAgICAgIEhFQVBVMzJbYWRkcmVzcyAvIDRdID0gcG9pbnRlcjtcbiAgICAgICAgICBIRUFQVTMyWyhhZGRyZXNzICsgNCkgLyA0XSA9IGxlbmd0aDtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIE1vZHVsZS5TVERXRUIuZnJvbV9qcyhwb2ludGVyICsgaSAqIDE2LCB2YWx1ZVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZS5TVERXRUIuZnJvbV9qcyA9IGZ1bmN0aW9uIGZyb21fanMoYWRkcmVzcywgdmFsdWUpIHtcbiAgICAgICAgICB2YXIga2luZCA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIikge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE1vZHVsZS5TVERXRUIudXRmOF9sZW4odmFsdWUpO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSAwO1xuXG4gICAgICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBwb2ludGVyID0gTW9kdWxlLlNURFdFQi5hbGxvYyhsZW5ndGgpO1xuICAgICAgICAgICAgICBNb2R1bGUuU1REV0VCLnRvX3V0ZjgodmFsdWUsIHBvaW50ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBIRUFQVThbYWRkcmVzcyArIDEyXSA9IDQ7XG4gICAgICAgICAgICBIRUFQVTMyW2FkZHJlc3MgLyA0XSA9IHBvaW50ZXI7XG4gICAgICAgICAgICBIRUFQVTMyWyhhZGRyZXNzICsgNCkgLyA0XSA9IGxlbmd0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09IFwiW29iamVjdCBOdW1iZXJdXCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gKHZhbHVlIHwgMCkpIHtcbiAgICAgICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSAyO1xuICAgICAgICAgICAgICBIRUFQMzJbYWRkcmVzcyAvIDRdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBIRUFQVThbYWRkcmVzcyArIDEyXSA9IDM7XG4gICAgICAgICAgICAgIEhFQVBGNjRbYWRkcmVzcyAvIDhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBIRUFQVThbYWRkcmVzcyArIDEyXSA9IDU7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSA2O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVmaWQgPSBNb2R1bGUuU1REV0VCLmFjcXVpcmVfcnVzdF9yZWZlcmVuY2UodmFsdWUpO1xuICAgICAgICAgICAgdmFyIGlkID0gOTtcblxuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgICAgICAgaWQgPSAxMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gXCJbb2JqZWN0IEFycmF5XVwiIHx8IGtpbmQgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHtcbiAgICAgICAgICAgICAgaWQgPSAxMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgSEVBUFU4W2FkZHJlc3MgKyAxMl0gPSBpZDtcbiAgICAgICAgICAgIEhFQVAzMlthZGRyZXNzIC8gNF0gPSByZWZpZDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgXCJfX2V4dGpzXzhhMTNlMDQxYjI2NTkyZmQ0MzI4MDQ5NmFjMDFmNWYzZTA0OTIxOGVcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICBNb2R1bGUuU1REV0VCLnRvX2pzX3N0cmluZyA9IGZ1bmN0aW9uIHRvX2pzX3N0cmluZyhpbmRleCwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBpbmRleCB8IDA7XG4gICAgICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMDtcbiAgICAgICAgICB2YXIgZW5kID0gKGluZGV4IHwgMCkgKyAobGVuZ3RoIHwgMCk7XG4gICAgICAgICAgdmFyIG91dHB1dCA9IFwiXCI7XG5cbiAgICAgICAgICB3aGlsZSAoaW5kZXggPCBlbmQpIHtcbiAgICAgICAgICAgIHZhciB4ID0gSEVBUFU4W2luZGV4KytdO1xuXG4gICAgICAgICAgICBpZiAoeCA8IDEyOCkge1xuICAgICAgICAgICAgICBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh4KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbml0ID0geCAmIDB4N0YgPj4gMjtcbiAgICAgICAgICAgIHZhciB5ID0gMDtcblxuICAgICAgICAgICAgaWYgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgICAgICAgIHkgPSBIRUFQVThbaW5kZXgrK107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaCA9IGluaXQgPDwgNiB8IHkgJiA2MztcblxuICAgICAgICAgICAgaWYgKHggPj0gMHhFMCkge1xuICAgICAgICAgICAgICB2YXIgeiA9IDA7XG5cbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgeiA9IEhFQVBVOFtpbmRleCsrXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciB5X3ogPSAoeSAmIDYzKSA8PCA2IHwgeiAmIDYzO1xuICAgICAgICAgICAgICBjaCA9IGluaXQgPDwgMTIgfCB5X3o7XG5cbiAgICAgICAgICAgICAgaWYgKHggPj0gMHhGMCkge1xuICAgICAgICAgICAgICAgIHZhciB3ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgdyA9IEhFQVBVOFtpbmRleCsrXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaCA9IChpbml0ICYgNykgPDwgMTggfCAoeV96IDw8IDYgfCB3ICYgNjMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgXCJfX2V4dGpzX2I2N2YyODM2YmZjYWI1N2FjYjhlMjFkYmU1ODA3OTBmZjAzMTkyZjlcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWRfdG9fcmVmX21hcCA9IHt9O1xuICAgICAgICB2YXIgaWRfdG9fcmVmY291bnRfbWFwID0ge307XG4gICAgICAgIHZhciByZWZfdG9faWRfbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdmFyIHJlZl90b19pZF9zeW1ib2xfbWFwID0ge307XG4gICAgICAgIHZhciBsYXN0X3JlZmlkID0gMTtcblxuICAgICAgICBNb2R1bGUuU1REV0VCLmFjcXVpcmVfcnVzdF9yZWZlcmVuY2UgPSBmdW5jdGlvbiAocmVmZXJlbmNlKSB7XG4gICAgICAgICAgaWYgKHJlZmVyZW5jZSA9PT0gdW5kZWZpbmVkIHx8IHJlZmVyZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlZmlkID0gcmVmX3RvX2lkX21hcC5nZXQocmVmZXJlbmNlKTtcblxuICAgICAgICAgIGlmIChyZWZpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZWZpZCA9IHJlZl90b19pZF9zeW1ib2xfbWFwW3JlZmVyZW5jZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlZmlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlZmlkID0gbGFzdF9yZWZpZCsrO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICAgICAgICByZWZfdG9faWRfc3ltYm9sX21hcFtyZWZlcmVuY2VdID0gcmVmaWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWZfdG9faWRfbWFwLnNldChyZWZlcmVuY2UsIHJlZmlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWRfdG9fcmVmX21hcFtyZWZpZF0gPSByZWZlcmVuY2U7XG4gICAgICAgICAgICBpZF90b19yZWZjb3VudF9tYXBbcmVmaWRdID0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWRfdG9fcmVmY291bnRfbWFwW3JlZmlkXSsrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZWZpZDtcbiAgICAgICAgfTtcblxuICAgICAgICBNb2R1bGUuU1REV0VCLmFjcXVpcmVfanNfcmVmZXJlbmNlID0gZnVuY3Rpb24gKHJlZmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGlkX3RvX3JlZl9tYXBbcmVmaWRdO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZS5TVERXRUIuaW5jcmVtZW50X3JlZmNvdW50ID0gZnVuY3Rpb24gKHJlZmlkKSB7XG4gICAgICAgICAgaWRfdG9fcmVmY291bnRfbWFwW3JlZmlkXSsrO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1vZHVsZS5TVERXRUIuZGVjcmVtZW50X3JlZmNvdW50ID0gZnVuY3Rpb24gKHJlZmlkKSB7XG4gICAgICAgICAgaWRfdG9fcmVmY291bnRfbWFwW3JlZmlkXS0tO1xuXG4gICAgICAgICAgaWYgKGlkX3RvX3JlZmNvdW50X21hcFtyZWZpZF0gPT09IDApIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2UgPSBpZF90b19yZWZfbWFwW3JlZmlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBpZF90b19yZWZfbWFwW3JlZmlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBpZF90b19yZWZjb3VudF9tYXBbcmVmaWRdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICAgICAgICBkZWxldGUgcmVmX3RvX2lkX3N5bWJvbF9tYXBbcmVmZXJlbmNlXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlZl90b19pZF9tYXAuZGVsZXRlKHJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIFwiX19leHRqc19kYzJmZDkxNWJkOTJmOWU5YzZhM2JkMTUxNzRmMTQxNGVlZTNkYmFmXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRW5jb3VudGVyZWQgYSBwYW5pYyEnKTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfYjAwYjA1OTI5YjQ0NTM0OGVhYjE3N2I2ZDNmNTA5YmNhYTI4NzgyZVwiOiBmdW5jdGlvbiAoJDAsICQxKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhbmljIGVycm9yIG1lc3NhZ2U6JywgTW9kdWxlLlNURFdFQi50b19qc19zdHJpbmcoJDAsICQxKSk7XG4gICAgICB9LFxuICAgICAgXCJfX2V4dGpzXzIwNjM3ZDhmNjQyMjAzYjM4YzI2M2E1ZDBmNDNiOWQ4OGVjNjdjMzFcIjogZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGFuaWMgbG9jYXRpb246JywgTW9kdWxlLlNURFdFQi50b19qc19zdHJpbmcoJDAsICQxKSArICc6JyArICQyKTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfOGFjMTQ3MzQ3N2Q5ODdkNTVhNTdlZjIwNTNjZDJkOWY0YjE5YjM1ZlwiOiBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICAkMSA9IE1vZHVsZS5TVERXRUIudG9fanMoJDEpO1xuICAgICAgICAkMiA9IE1vZHVsZS5TVERXRUIudG9fanMoJDIpO1xuICAgICAgICBNb2R1bGUuU1REV0VCLmZyb21fanMoJDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBNb2R1bGUuZXhwb3J0cy5yZ2JhMmxhYmEgPSAkMTtcbiAgICAgICAgICBNb2R1bGUuZXhwb3J0cy5yZ2JhTGFiYURpc3RhbmNlID0gJDI7XG4gICAgICAgIH0oKSk7XG4gICAgICB9LFxuICAgICAgXCJfX2V4dGpzX2RlOTQyZWY5Y2NkMDY0YzQxZGM5MmQ1YjViZjgzYzYxYWViMDAyNzhcIjogZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgIE1vZHVsZS5TVERXRUIuaW5jcmVtZW50X3JlZmNvdW50KCQwKTtcbiAgICAgIH0sXG4gICAgICBcIl9fZXh0anNfNzgxY2MyMDIzNjA1MzJkZjc4ODI0YWQyZWM0MTgzMjZhNjczOTViYVwiOiBmdW5jdGlvbiAoJDAsICQxKSB7XG4gICAgICAgICQxID0gTW9kdWxlLlNURFdFQi50b19qcygkMSk7XG4gICAgICAgIE1vZHVsZS5TVERXRUIuZnJvbV9qcygkMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkMTtcbiAgICAgICAgfSgpKTtcbiAgICAgIH0sXG4gICAgICBcInBvd1wiOiBmdW5jdGlvbiAoJDAsICQxKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygkMCwgJDEpO1xuICAgICAgfSxcbiAgICAgIFwiX193ZWJfb25fZ3Jvd1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IE1vZHVsZS5pbnN0YW5jZS5leHBvcnRzLm1lbW9yeS5idWZmZXI7XG4gICAgICAgIEhFQVA4ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xuICAgICAgICBIRUFQMTYgPSBuZXcgSW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICBIRUFQMzIgPSBuZXcgSW50MzJBcnJheShidWZmZXIpO1xuICAgICAgICBIRUFQVTggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBIRUFQVTE2ID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIEhFQVBVMzIgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgSEVBUEYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgSEVBUEY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmZmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX19sb2FkKGluc3RhbmNlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1vZHVsZSwgJ2luc3RhbmNlJywge1xuICAgICAgdmFsdWU6IGluc3RhbmNlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1vZHVsZSwgJ3dlYl9tYWxsb2MnLCB7XG4gICAgICB2YWx1ZTogTW9kdWxlLmluc3RhbmNlLmV4cG9ydHMuX193ZWJfbWFsbG9jXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1vZHVsZSwgJ3dlYl9mcmVlJywge1xuICAgICAgdmFsdWU6IE1vZHVsZS5pbnN0YW5jZS5leHBvcnRzLl9fd2ViX2ZyZWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW9kdWxlLCAnd2ViX3RhYmxlJywge1xuICAgICAgdmFsdWU6IE1vZHVsZS5pbnN0YW5jZS5leHBvcnRzLl9fd2ViX3RhYmxlXG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gTW9kdWxlLmV4cG9ydHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJ1c3QucmdiYTJsYWJhLmV4cG9ydHMgPSBNb2R1bGUuZXhwb3J0cztcbiAgICB9XG5cbiAgICBfX2ltcG9ydHMuZW52Ll9fd2ViX29uX2dyb3coKTtcblxuICAgIE1vZHVsZS5pbnN0YW5jZS5leHBvcnRzLl9fd2ViX21haW4oKTtcbiAgfVxuXG4gIGlmIChNb2R1bGUubm9kZWpzKSB7XG4gICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4gICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuICAgIGNvbnN0IHdhc21fcGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwicmdiYTJsYWJhLndhc21cIik7XG4gICAgY29uc3QgYnVmZmVyID0gZnMucmVhZEZpbGVTeW5jKHdhc21fcGF0aCk7XG4gICAgY29uc3QgbW9kID0gbmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShidWZmZXIpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZCwgX19pbXBvcnRzKTtcblxuICAgIF9fbG9hZChpbnN0YW5jZSk7XG5cbiAgICByZXR1cm4gTW9kdWxlLmV4cG9ydHM7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgX19wcm9taXNlID0gZmV0Y2goXCJyZ2JhMmxhYmEud2FzbVwiKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpLnRoZW4oYnl0ZXMgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIF9faW1wb3J0cykpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICBfX2xvYWQocmVzdWx0cy5pbnN0YW5jZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiRmluaXNoZWQgbG9hZGluZyBSdXN0IHdhc20gbW9kdWxlICdyZ2JhMmxhYmEnXCIpO1xuICAgICAgcmV0dXJuIE1vZHVsZS5leHBvcnRzO1xuICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgbG9hZGluZyBSdXN0IHdhc20gbW9kdWxlICdyZ2JhMmxhYmEnOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcblxuICAgIFJ1c3QucmdiYTJsYWJhID0gX19wcm9taXNlO1xuICAgIHJldHVybiBfX3Byb21pc2U7XG4gIH1cbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsV0FJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///77\n')}});